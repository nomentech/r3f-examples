"use strict";(self.webpackChunkr3f_examples=self.webpackChunkr3f_examples||[]).push([[746],{2746:function(e,t,r){r.r(t);var n=r(1413),o=r(9439),a=r(2791),i=r(2794),s=r(4647),c=r(4956),u=r(3520),l=r(184),d=function(){var e=(0,a.useState)(2),t=(0,o.Z)(e,2),r=t[0],n=t[1],i=(0,a.useState)(!1),s=(0,o.Z)(i,2),u=s[0],d=s[1];return(0,l.jsxs)("mesh",{scale:.5*r,children:[(0,l.jsx)("boxGeometry",{}),(0,l.jsx)("meshStandardMaterial",{}),(0,l.jsxs)(c.V,{style:{transition:"all 0.2s",opacity:u?0:1,transform:"scale(".concat(u?.5:1,")")},distanceFactor:1.5,position:[0,0,.51],transform:!0,occlude:!0,onOcclude:function(e){return d(e),null},children:[(0,l.jsx)("span",{children:"Size: "}),(0,l.jsx)("input",{type:"number",value:r,onChange:function(e){return n(e.target.valueAsNumber)}})]})]})},f=function(e){var t=(0,a.useRef)();return(0,i.x)((function(e){return t.current.position.x=Math.sin(e.clock.getElapsedTime())})),(0,l.jsxs)("mesh",(0,n.Z)((0,n.Z)({ref:t},e),{},{children:[(0,l.jsx)("sphereGeometry",{args:[.3,32,32]}),(0,l.jsx)("meshStandardMaterial",{color:"orange"})]}))};t.default=function(e){var t=e.children;return(0,l.jsxs)(l.Fragment,{children:[t,(0,l.jsxs)(s.Xz,{dpr:[1,2],camera:{fov:25},children:[(0,l.jsx)("ambientLight",{intensity:.5}),(0,l.jsx)("pointLight",{position:[10,10,5]}),(0,l.jsx)("pointLight",{position:[-10,-10,-10]}),(0,l.jsx)(d,{}),(0,l.jsx)(f,{position:[0,0,1]}),(0,l.jsx)(u.z,{})]})]})}},4956:function(e,t,r){r.d(t,{V:function(){return w}});var n=r(1413),o=r(9439),a=r(4925),i=r(7462),s=r(2791),c=r(1250),u=r(7760),l=r(2794),d=["children","eps","style","className","prepend","center","fullscreen","portal","distanceFactor","sprite","transform","occlude","onOcclude","zIndexRange","calculatePosition","as","wrapperClass","pointerEvents"],f=new u.Vector3,p=new u.Vector3,m=new u.Vector3;function h(e,t,r){var n=f.setFromMatrixPosition(e.matrixWorld);n.project(t);var o=r.width/2,a=r.height/2;return[n.x*o+o,-n.y*a+a]}var x=function(e){return Math.abs(e)<1e-10?0:e};function v(e,t){for(var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n="matrix3d(",o=0;16!==o;o++)n+=x(t[o]*e.elements[o])+(15!==o?",":")");return r+n}var y,g=(y=[1,-1,1,1,1,-1,1,1,1,-1,1,1,1,-1,1,1],function(e){return v(e,y)}),M=function(e,t){return v(e,[1/(r=t),1/r,1/r,1,-1/r,-1/r,-1/r,-1,1/r,1/r,1/r,1,1,1,1,1],"translate(-50%,-50%)");var r},w=s.forwardRef((function(e,t){var r,v=e.children,y=e.eps,w=void 0===y?.001:y,j=e.style,b=e.className,E=e.prepend,P=e.center,W=e.fullscreen,C=e.portal,F=e.distanceFactor,R=e.sprite,z=void 0!==R&&R,Z=e.transform,I=void 0!==Z&&Z,N=e.occlude,O=e.onOcclude,S=e.zIndexRange,T=void 0===S?[16777271,0]:S,k=e.calculatePosition,L=void 0===k?h:k,V=e.as,A=void 0===V?"div":V,G=e.wrapperClass,_=e.pointerEvents,D=void 0===_?"auto":_,X=(0,a.Z)(e,d),q=(0,l.w)((function(e){return e.gl})),B=(0,l.w)((function(e){return e.camera})),H=(0,l.w)((function(e){return e.scene})),J=(0,l.w)((function(e){return e.size})),K=(0,l.w)((function(e){return e.raycaster})),Q=s.useState((function(){return document.createElement(A)})),U=(0,o.Z)(Q,1)[0],Y=s.useMemo((function(){return c.createRoot(U)}),[U]),$=s.useRef(null),ee=s.useRef(0),te=s.useRef([0,0]),re=s.useRef(null),ne=s.useRef(null),oe=null!==(r=null==C?void 0:C.current)&&void 0!==r?r:q.domElement.parentNode;s.useEffect((function(){if($.current){if(H.updateMatrixWorld(),I)U.style.cssText="position:absolute;top:0;left:0;pointer-events:none;overflow:hidden;";else{var e=L($.current,B,J);U.style.cssText="position:absolute;top:0;left:0;transform:translate3d(".concat(e[0],"px,").concat(e[1],"px,0);transform-origin:0 0;")}return oe&&(E?oe.prepend(U):oe.appendChild(U)),function(){oe&&oe.removeChild(U),Y.unmount()}}}),[oe,I]),s.useLayoutEffect((function(){G&&(U.className=G)}),[G]);var ae=s.useMemo((function(){return I?{position:"absolute",top:0,left:0,width:J.width,height:J.height,transformStyle:"preserve-3d",pointerEvents:"none"}:(0,n.Z)((0,n.Z)({position:"absolute",transform:P?"translate3d(-50%,-50%,0)":"none"},W&&{top:-J.height/2,left:-J.width/2,width:J.width,height:J.height}),j)}),[j,P,W,J,I]),ie=s.useMemo((function(){return{position:"absolute",pointerEvents:D}}),[D]);s.useLayoutEffect((function(){I?Y.render(s.createElement("div",{ref:re,style:ae},s.createElement("div",{ref:ne,style:ie},s.createElement("div",{ref:t,className:b,style:j,children:v})))):Y.render(s.createElement("div",{ref:t,style:ae,className:b,children:v}))}));var se=s.useRef(!0);return(0,l.x)((function(){if($.current){B.updateMatrixWorld(),$.current.updateWorldMatrix(!0,!1);var e=I?te.current:L($.current,B,J);if(I||Math.abs(ee.current-B.zoom)>w||Math.abs(te.current[0]-e[0])>w||Math.abs(te.current[1]-e[1])>w){var t=function(e,t){var r=f.setFromMatrixPosition(e.matrixWorld),n=p.setFromMatrixPosition(t.matrixWorld),o=r.sub(n),a=t.getWorldDirection(m);return o.angleTo(a)>Math.PI/2}($.current,B),r=!1;"boolean"===typeof N?!0===N&&(r=[H]):Array.isArray(N)&&(r=N.map((function(e){return e.current})));var n=se.current;if(r){var o=function(e,t,r,n){var o=f.setFromMatrixPosition(e.matrixWorld),a=o.clone();a.project(t),r.setFromCamera(a,t);var i=r.intersectObjects(n,!0);if(i.length){var s=i[0].distance;return o.distanceTo(r.ray.origin)<s}return!0}($.current,B,K,r);se.current=o&&!t}else se.current=!t;if(n!==se.current&&(O?O(!se.current):U.style.display=se.current?"block":"none"),U.style.zIndex="".concat(function(e,t,r){if(t instanceof u.PerspectiveCamera||t instanceof u.OrthographicCamera){var n=f.setFromMatrixPosition(e.matrixWorld),o=p.setFromMatrixPosition(t.matrixWorld),a=n.distanceTo(o),i=(r[1]-r[0])/(t.far-t.near),s=r[1]-i*t.far;return Math.round(i*a+s)}}($.current,B,T)),I){var a=J.width/2,i=J.height/2,s=B.projectionMatrix.elements[5]*i,c=B.isOrthographicCamera,l=B.top,d=B.left,h=B.bottom,v=B.right,y=g(B.matrixWorldInverse),j=c?"scale(".concat(s,")translate(").concat(x(-(v+d)/2),"px,").concat(x((l+h)/2),"px)"):"translateZ(".concat(s,"px)"),b=$.current.matrixWorld;z&&((b=B.matrixWorldInverse.clone().transpose().copyPosition(b).scale($.current.scale)).elements[3]=b.elements[7]=b.elements[11]=0,b.elements[15]=1),U.style.width=J.width+"px",U.style.height=J.height+"px",U.style.perspective=c?"":"".concat(s,"px"),re.current&&ne.current&&(re.current.style.transform="".concat(j).concat(y,"translate(").concat(a,"px,").concat(i,"px)"),ne.current.style.transform=M(b,1/((F||10)/400)))}else{var E=void 0===F?1:function(e,t){if(t instanceof u.OrthographicCamera)return t.zoom;if(t instanceof u.PerspectiveCamera){var r=f.setFromMatrixPosition(e.matrixWorld),n=p.setFromMatrixPosition(t.matrixWorld),o=t.fov*Math.PI/180,a=r.distanceTo(n);return 1/(2*Math.tan(o/2)*a)}return 1}($.current,B)*F;U.style.transform="translate3d(".concat(e[0],"px,").concat(e[1],"px,0) scale(").concat(E,")")}te.current=e,ee.current=B.zoom}}})),s.createElement("group",(0,i.Z)({},X,{ref:$}))}))}}]);
//# sourceMappingURL=746.514f2f46.chunk.js.map