{"version":3,"file":"static/js/893.0b6583f7.chunk.js","mappings":"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","sources":["basic-examples/transformcontrols-and-makedefault/Example.tsx"],"sourcesContent":["import { Suspense, useState } from 'react'\nimport { Canvas, useThree } from '@react-three/fiber'\nimport { ContactShadows, OrbitControls, TransformControls, useCursor, useGLTF } from '@react-three/drei'\nimport { proxy, useSnapshot } from 'valtio'\n\nimport model from '../../models/compressed.glb'\n\n// Reactive state model, using Valtio ...\nconst modes = ['translate', 'rotate', 'scale']\nconst state = proxy({ current: null, mode: 0 })\n\nconst Model = ({ name, ...props }: any) => {\n  // Ties this component to the state model\n  const snap = useSnapshot(state)\n  // Fetching the GLTF, nodes is a collection of all the meshes\n  // It's cached/memoized, it only gets loaded and parsed once\n  const { nodes } = useGLTF(model) as any\n  // Feed hover state into useCursor, which sets document.body.style.cursor to pointer|auto\n  const [hovered, setHovered] = useState(false)\n  useCursor(hovered)\n\n  return (\n    <mesh\n      // Click sets the mesh as the new target\n      onClick={(e) => {e.stopPropagation(); (state.current = name)}}\n      // If a click happened but this mesh wasn't hit we null out the target,\n      // This works because missed pointers fire before the actual hits\n      onPointerMissed={(e) => e.type === 'click' && (state.current = null)}\n      // Right click cycles through the transform modes\n      onContextMenu={(e) => snap.current === name && (e.stopPropagation(), (state.mode = (snap.mode+1)%modes.length))}\n      onPointerOver={(e) => {e.stopPropagation(); setHovered(true)}}\n      onPointerOut={(e) => setHovered(false)}\n      name={name}\n      geometry={nodes[name].geometry}\n      material={nodes[name].material}\n      material-color={snap.current === name ? '#ff6080' : 'white'}\n      // material={materials[`M_${name}`]}\n      {...props}\n      dispose={null}\n    />\n  )\n}\n\nconst Controls = () => {\n  // Get notified on changes to state\n  const snap = useSnapshot(state)\n  const scene = useThree((state) => state.scene)\n  return (\n    <>\n      {/* As of drei@7.13 transform-controls can refer to the target by children, or the object prop */}\n      {snap.current && <TransformControls object={scene.getObjectByName(snap.current)} mode={modes[snap.mode]} />}\n      {/* makeDefault makes the controls known to r3f, now transform-controls can auto-disable them when active */}\n      <OrbitControls makeDefault minPolarAngle={0} maxPolarAngle={Math.PI / 1.75} />\n    </>\n  )\n}\n\nconst Example = ({ children }: any) => {\n  return (\n    <>\n      {children}\n      <Canvas camera={{ position: [0, -10, 80], fov: 50}} dpr={[1, 2]}>\n        <pointLight position={[100, 100, 100]} intensity={0.8} />\n        <hemisphereLight color=\"#ffffff\" groundColor=\"#b9b9b9\" position={[-7, 25, 13]} intensity={0.85} />\n        <Suspense fallback={null}>\n          <group position={[0, 10, 0]}>\n            <Model name=\"Curly\" position={[1, -11, -20]} rotation={[2, 0, 0]} />\n            <Model name=\"DNA\" position={[20, 0, -17]} rotation={[1, 1, -2]} />\n            <Model name=\"Headphones\" position={[20, 2, 4]} rotation={[1, 0, -1]} />\n            <Model name=\"Notebook\" position={[-21, -15, -13]} rotation={[2, 0, 1]} />\n            <Model name=\"Rocket003\" position={[18, 15, -25]} rotation={[1, 1, 0]} />\n            <Model name=\"Roundcube001\" position={[-25, -4, 5]} rotation={[1, 0, 0]} scale={0.5} />\n            <Model name=\"Table\" position={[1, -4, -28]} rotation={[1, 0, -1]} scale={0.5} />\n            <Model name=\"VR_Headset\" position={[7, -15, 28]} rotation={[1, 0, -1]} scale={5} />\n            <Model name=\"Zeppelin\" position={[-20, 10, 10]} rotation={[3, -1, 3]} scale={0.005} />\n            <ContactShadows rotation-x={Math.PI / 2} position={[0, -35, 0]} opacity={0.25} width={200} height={200} blur={1} far={50} />\n          </group>\n        </Suspense>\n        <Controls />\n      </Canvas>\n    </>\n  )\n}\n\nexport default Example"],"names":["modes","state","proxy","current","mode","Model","name","props","snap","useSnapshot","nodes","useGLTF","model","useState","hovered","setHovered","useCursor","onClick","e","stopPropagation","onPointerMissed","type","onContextMenu","length","onPointerOver","onPointerOut","geometry","material","dispose","Controls","scene","useThree","object","getObjectByName","makeDefault","minPolarAngle","maxPolarAngle","Math","PI","children","camera","position","fov","dpr","intensity","color","groundColor","Suspense","fallback","rotation","scale","opacity","width","height","blur","far"],"sourceRoot":""}