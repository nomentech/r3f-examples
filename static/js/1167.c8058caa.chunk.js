"use strict";(self.webpackChunkr3f_examples=self.webpackChunkr3f_examples||[]).push([[1167],{1034:function(e,t,r){r.r(t),r.d(t,{default:function(){return m}});var n=r(1413),i=r(2791),a=r(4647),v=r(3655),o=r(6483),u=r(9142),s=r(4637),c=r(2330),f=r.p+"static/media/robot-draco.ac9fcccbce67c4834b80.glb",l=r(184);v.L.preload(f);var d=function(e){var t=(0,v.L)(f),r=t.scene,a=t.animations,u=(0,o.v)(a,r).actions;return(0,i.useEffect)((function(){u.Idle.play(),r.traverse((function(e){return e.isMesh&&(e.receiveShadow=e.castShadow=!0)}))}),[u,r]),(0,l.jsx)("primitive",(0,n.Z)({object:r},e))},m=function(e){var t=e.children;return(0,l.jsxs)(l.Fragment,{children:[t,(0,l.jsxs)(a.Xz,{shadows:!0,camera:{fov:50},className:'bg-[#303035] bg-[url("./basic-examples/staging-and-camerashake/view.svg")] bg-no-repeat bg-contain bg-center z-10',children:[(0,l.jsx)(i.Suspense,{fallback:null,children:(0,l.jsx)(u.H,{contactShadow:{opacity:1,blur:2},children:(0,l.jsx)(d,{})})}),(0,l.jsx)(s.z,{makeDefault:!0}),(0,l.jsx)(c.i,{maxYaw:.1,maxPitch:.1,maxRoll:.1,yawFrequency:.1,pitchFrequency:.1,rollFrequency:.1,intensity:1,decayRate:.65})]})]})}},8202:function(e,t,r){r.d(t,{j:function(){return d}});var n=r(1413),i=r(9439),a=r(4925),v=r(7462),o=r(2791),u=r(7760),s=r(1690),c={uniforms:{tDiffuse:{value:null},h:{value:1/512}},vertexShader:"\n      varying vec2 vUv;\n\n      void main() {\n\n        vUv = uv;\n        gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\n      }\n  ",fragmentShader:"\n    uniform sampler2D tDiffuse;\n    uniform float h;\n\n    varying vec2 vUv;\n\n    void main() {\n\n    \tvec4 sum = vec4( 0.0 );\n\n    \tsum += texture2D( tDiffuse, vec2( vUv.x - 4.0 * h, vUv.y ) ) * 0.051;\n    \tsum += texture2D( tDiffuse, vec2( vUv.x - 3.0 * h, vUv.y ) ) * 0.0918;\n    \tsum += texture2D( tDiffuse, vec2( vUv.x - 2.0 * h, vUv.y ) ) * 0.12245;\n    \tsum += texture2D( tDiffuse, vec2( vUv.x - 1.0 * h, vUv.y ) ) * 0.1531;\n    \tsum += texture2D( tDiffuse, vec2( vUv.x, vUv.y ) ) * 0.1633;\n    \tsum += texture2D( tDiffuse, vec2( vUv.x + 1.0 * h, vUv.y ) ) * 0.1531;\n    \tsum += texture2D( tDiffuse, vec2( vUv.x + 2.0 * h, vUv.y ) ) * 0.12245;\n    \tsum += texture2D( tDiffuse, vec2( vUv.x + 3.0 * h, vUv.y ) ) * 0.0918;\n    \tsum += texture2D( tDiffuse, vec2( vUv.x + 4.0 * h, vUv.y ) ) * 0.051;\n\n    \tgl_FragColor = sum;\n\n    }\n  "},f={uniforms:{tDiffuse:{value:null},v:{value:1/512}},vertexShader:"\n    varying vec2 vUv;\n\n    void main() {\n\n      vUv = uv;\n      gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\n    }\n  ",fragmentShader:"\n\n  uniform sampler2D tDiffuse;\n  uniform float v;\n\n  varying vec2 vUv;\n\n  void main() {\n\n    vec4 sum = vec4( 0.0 );\n\n    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 4.0 * v ) ) * 0.051;\n    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 3.0 * v ) ) * 0.0918;\n    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 2.0 * v ) ) * 0.12245;\n    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 1.0 * v ) ) * 0.1531;\n    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y ) ) * 0.1633;\n    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 1.0 * v ) ) * 0.1531;\n    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 2.0 * v ) ) * 0.12245;\n    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 3.0 * v ) ) * 0.0918;\n    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 4.0 * v ) ) * 0.051;\n\n    gl_FragColor = sum;\n\n  }\n  "},l=["scale","frames","opacity","width","height","blur","far","resolution","smooth","color","depthWrite","renderOrder"],d=o.forwardRef((function(e,t){var r=e.scale,d=void 0===r?10:r,m=e.frames,h=void 0===m?1/0:m,x=e.opacity,p=void 0===x?1:x,g=e.width,y=void 0===g?1:g,D=e.height,U=void 0===D?1:D,w=e.blur,b=void 0===w?1:w,M=e.far,S=void 0===M?10:M,j=e.resolution,E=void 0===j?512:j,R=e.smooth,C=void 0===R||R,k=e.color,Z=void 0===k?"#000000":k,L=e.depthWrite,T=void 0!==L&&L,B=e.renderOrder,F=(0,a.Z)(e,l),P=(0,s.w)((function(e){return e.scene})),W=(0,s.w)((function(e){return e.gl})),A=o.useRef(null);y*=Array.isArray(d)?d[0]:d||1,U*=Array.isArray(d)?d[1]:d||1;var _=o.useMemo((function(){var e=new u.WebGLRenderTarget(E,E),t=new u.WebGLRenderTarget(E,E);t.texture.generateMipmaps=e.texture.generateMipmaps=!1;var r=new u.PlaneBufferGeometry(y,U).rotateX(Math.PI/2),i=new u.Mesh(r),a=new u.MeshDepthMaterial;a.depthTest=a.depthWrite=!1,a.onBeforeCompile=function(e){e.uniforms=(0,n.Z)((0,n.Z)({},e.uniforms),{},{ucolor:{value:new u.Color(Z).convertSRGBToLinear()}}),e.fragmentShader=e.fragmentShader.replace("void main() {","uniform vec3 ucolor;\n           void main() {\n          "),e.fragmentShader=e.fragmentShader.replace("vec4( vec3( 1.0 - fragCoordZ ), opacity );","vec4( ucolor, ( 1.0 - fragCoordZ ) * 1.0 );")};var v=new u.ShaderMaterial(c),o=new u.ShaderMaterial(f);return o.depthTest=v.depthTest=!1,[e,r,a,i,v,o,t]}),[E,y,U,d,Z]),q=(0,i.Z)(_,7),z=q[0],G=q[1],I=q[2],O=q[3],V=q[4],H=q[5],X=q[6],N=function(e){O.visible=!0,O.material=V,V.uniforms.tDiffuse.value=z.texture,V.uniforms.h.value=1*e/256,W.setRenderTarget(X),W.render(O,A.current),O.material=H,H.uniforms.tDiffuse.value=X.texture,H.uniforms.v.value=1*e/256,W.setRenderTarget(z),W.render(O,A.current),O.visible=!1},Y=0;return(0,s.x)((function(){if(A.current&&(h===1/0||Y<h)){var e=P.background;P.background=null;var t=P.overrideMaterial;P.overrideMaterial=I,W.setRenderTarget(z),W.render(P,A.current),P.overrideMaterial=t,N(b),C&&N(.4*b),W.setRenderTarget(null),P.background=e,Y++}})),o.createElement("group",(0,v.Z)({"rotation-x":Math.PI/2},F,{ref:t}),o.createElement("mesh",{renderOrder:B,geometry:G,scale:[1,-1,1],rotation:[-Math.PI/2,0,0]},o.createElement("meshBasicMaterial",{map:z.texture,"map-encoding":W.outputEncoding,transparent:!0,opacity:p,depthWrite:T})),o.createElement("orthographicCamera",{ref:A,args:[-y/2,y/2,U/2,-U/2,0,S]}))}))},9142:function(e,t,r){r.d(t,{H:function(){return d}});var n=r(9439),i=r(4925),a=r(7462),v=r(2791),o=r(7760),u=r(1690),s=r(9292),c=r(8202),f=["children","controls","shadows","adjustCamera","environment","intensity","preset","shadowBias","contactShadow"],l={rembrandt:{main:[1,2,1],fill:[-2,-.5,-2]},portrait:{main:[-1,2,.5],fill:[-1,.5,-1.5]},upfront:{main:[0,2,1],fill:[-1,.5,-1.5]},soft:{main:[-2,4,4],fill:[-1,.5,-1.5]}};function d(e){var t=e.children,r=e.controls,d=e.shadows,m=void 0===d||d,h=e.adjustCamera,x=void 0===h||h,p=e.environment,g=void 0===p?"city":p,y=e.intensity,D=void 0===y?1:y,U=e.preset,w=void 0===U?"rembrandt":U,b=e.shadowBias,M=void 0===b?0:b,S=e.contactShadow,j=void 0===S?{blur:2,opacity:.5,position:[0,0,0]}:S,E=(0,i.Z)(e,f),R=l[w],C=(0,u.w)((function(e){return e.camera})),k=(0,u.w)((function(e){return e.controls})),Z=v.useRef(null),L=v.useRef(null),T=v.useState({radius:0,width:0,height:0}),B=(0,n.Z)(T,2),F=B[0],P=F.radius,W=F.width,A=F.height,_=B[1];return v.useLayoutEffect((function(){Z.current.position.set(0,0,0),Z.current.updateWorldMatrix(!0,!0);var e=(new o.Box3).setFromObject(L.current),t=new o.Vector3,r=new o.Sphere,n=e.max.y-e.min.y,i=e.max.x-e.min.x;e.getCenter(t),e.getBoundingSphere(r),_({radius:r.radius,width:i,height:n}),Z.current.position.set(-t.x,-t.y+n/2,-t.z)}),[t]),v.useLayoutEffect((function(){if(x){var e=P/(A>W?1.5:2.5);C.position.set(0,.5*P,2.5*P),C.near=.1,C.far=Math.max(5e3,4*P),C.lookAt(0,e,0);var t=k||(null==r?void 0:r.current);t&&(t.target.set(0,e,0),t.update())}}),[k,P,A,W,x]),v.createElement("group",E,v.createElement("group",{ref:Z},v.createElement("group",{ref:L},t)),j&&v.createElement(c.j,(0,a.Z)({scale:2*P,far:P/2},j)),g&&v.createElement(s.qA,{preset:g}),v.createElement("ambientLight",{intensity:D/3}),v.createElement("spotLight",{penumbra:1,position:[R.main[0]*P,R.main[1]*P,R.main[2]*P],intensity:2*D,castShadow:m,"shadow-bias":M}),v.createElement("pointLight",{position:[R.fill[0]*P,R.fill[1]*P,R.fill[2]*P],intensity:D}))}}}]);
//# sourceMappingURL=1167.c8058caa.chunk.js.map