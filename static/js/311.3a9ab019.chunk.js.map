{"version":3,"file":"static/js/311.3a9ab019.chunk.js","mappings":"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","sources":["../node_modules/@react-three/drei/core/PerspectiveCamera.js","basic-examples/hinge-motor-physics/Example.tsx","../node_modules/@react-three/drei/core/OrbitControls.js"],"sourcesContent":["import _extends from '@babel/runtime/helpers/esm/extends';\nimport * as React from 'react';\nimport { useThree } from '@react-three/fiber';\nimport mergeRefs from 'react-merge-refs';\n\nconst PerspectiveCamera = /*#__PURE__*/React.forwardRef(({\n  makeDefault,\n  ...props\n}, ref) => {\n  const set = useThree(({\n    set\n  }) => set);\n  const camera = useThree(({\n    camera\n  }) => camera);\n  const size = useThree(({\n    size\n  }) => size);\n  const cameraRef = React.useRef();\n  React.useLayoutEffect(() => {\n    const {\n      current: cam\n    } = cameraRef;\n\n    if (cam && !props.manual) {\n      cam.aspect = size.width / size.height;\n      cam.updateProjectionMatrix();\n    }\n  }, [size, props]);\n  React.useLayoutEffect(() => {\n    if (makeDefault && cameraRef.current) {\n      const oldCam = camera;\n      set(() => ({\n        camera: cameraRef.current\n      }));\n      return () => set(() => ({\n        camera: oldCam\n      }));\n    }\n  }, [camera, cameraRef, makeDefault, set]);\n  return /*#__PURE__*/React.createElement(\"perspectiveCamera\", _extends({\n    ref: mergeRefs([cameraRef, ref])\n  }, props));\n});\n\nexport { PerspectiveCamera };\n","import { createContext, forwardRef, Suspense, useContext, useEffect, useRef, useState } from 'react'\nimport { Canvas, useFrame } from '@react-three/fiber'\nimport { OrbitControls, PerspectiveCamera } from '@react-three/drei'\nimport { Physics, useBox, useHingeConstraint, useLockConstraint, usePlane } from '@react-three/cannon'\n\nconst normalizeSize = ([px = 0, py = 0, pz = 0]) => ([ox = 1, oy = 1, oz = 1]) => [px * ox, py * oy, pz * oz]\nconst GROUP_GROUND = 2 ** 0\nconst GROUP_BODY = 2 ** 1\nconst context = createContext(null)\n\nconst Plane = ({ args, ...props }: any) => {\n  const [ref]: any[] = usePlane(() => ({ type: 'Static', collisionFilterGroup: GROUP_GROUND, ...props }))\n  return (\n    <group ref={ref}>\n      <mesh>\n        <planeGeometry args={args} />\n        <meshBasicMaterial color=\"#ffb385\" />\n      </mesh>\n      <mesh receiveShadow>\n        <planeGeometry args={args} />\n        <shadowMaterial color=\"lightsalmon\" />\n      </mesh>\n    </group>\n  )\n}\n\nconst ConstraintPart = forwardRef(\n  ({ config = {}, enableMotor, motorSpeed, color, children, name, pivot = [0, 0, 0], parentPivot = [0, 0, 0], ...props }: any, ref: any) => {\n    const parent: any = useContext(context)\n    const normParentPivot = parent ? normalizeSize(parent[1].args) : () => undefined\n    const normPivot = props.args ? normalizeSize(props.args) : () => undefined\n\n    const [bodyRef] = useBox(\n      () => ({ collisionFilterGroup: GROUP_BODY, collisionFilterMask: GROUP_GROUND, linearDamping: 0.4, mass: 1, ...props }),\n      ref,\n    )\n\n    const [, , hingeApi]: any[] = useHingeConstraint(bodyRef, parent ? parent[0] : null, {\n      collideConnected: false,\n      axisA: [0, 0, 1],\n      axisB: [0, 0, 1],\n      pivotA: normPivot(pivot),\n      pivotB: normParentPivot(parentPivot),\n      ...config,\n    })\n\n    useEffect(() => void hingeApi[(enableMotor ? 'enable' : 'disable') + 'Motor'](), [enableMotor])\n    useEffect(() => void hingeApi.setMotorSpeed(motorSpeed), [motorSpeed])\n\n    return (\n      <context.Provider value={[bodyRef, props] as any}>\n        <BoxShape ref={bodyRef} {...props} color={color} />\n        {children}\n      </context.Provider>\n    )\n  },\n)\n\nconst BoxShape = forwardRef(({ children, transparent = false, opacity = 1, color = 'white', args = [1, 1, 1], ...props }: any, ref: any) => {\n  return (\n    <mesh receiveShadow castShadow ref={ref} {...props}>\n      <boxGeometry args={args} />\n      <meshStandardMaterial color={color} transparent={transparent} opacity={opacity} />\n      {children}\n    </mesh>\n  )\n})\n\nconst Obstacles = () => {\n  return (\n    <>\n      <ConstraintPart\n        collisionFilterGroup={GROUP_GROUND}\n        collisionFilterMask={GROUP_BODY | GROUP_GROUND}\n        mass={4}\n        args={[-30, -0.4, 30]}\n        position={[-45, -4, 0]}\n        rotation={[0, Math.PI / -4, 0]}\n        color={'#ffb385'}\n      />\n      <ConstraintPart\n        collisionFilterGroup={GROUP_GROUND}\n        collisionFilterMask={GROUP_BODY | GROUP_GROUND}\n        mass={4}\n        args={[-15, -0.5, 15]}\n        position={[-50, -2, 0]}\n        rotation={[0, Math.PI / -1.25, 0]}\n        color={'#dc9c76'}\n      />\n      <ConstraintPart\n        collisionFilterGroup={GROUP_GROUND}\n        collisionFilterMask={GROUP_BODY | GROUP_GROUND}\n        mass={4}\n        args={[-10, -0.5, 10]}\n        position={[-45, 0, -5]}\n        rotation={[0, Math.PI / 3, 0]}\n        color={'#c58e6e'}\n      />\n    </>\n  )\n}\n\nconst Robot = forwardRef(({ ...props }, ref) => {\n  const [motorSpeed, setMotorSpeed] = useState(7)\n  const legsLeftRef: any = ref\n  const legsRightRef: any = useRef()\n  useLockConstraint(legsRightRef, legsLeftRef, undefined as any)\n  return (\n    <group {...props} onPointerDown={() => setMotorSpeed(2)} onPointerUp={() => setMotorSpeed(7)}>\n      <Legs ref={legsLeftRef} delay={1000} bodyDepth={3} motorSpeed={motorSpeed} />\n      <Legs ref={legsRightRef} motorSpeed={motorSpeed} />\n    </group>\n  )\n})\n\nconst Legs = forwardRef(({ bodyDepth = 0, delay = 0, motorSpeed = 7, ...props }: any, bodyRef) => {\n  const horizontalRef: any = useRef()\n  const frontLegRef: any = useRef()\n  const frontUpperLegRef: any = useRef()\n  const backLegRef: any = useRef()\n  const partDepth = 0.3\n  const bodyWidth = 10\n  const bodyHeight = 2\n  const legLength = 6\n  const size3 = normalizeSize([1, 3, partDepth])\n  const size5 = normalizeSize([1, 5, partDepth])\n  const size10 = normalizeSize([1, 10, partDepth])\n  const [isWalking, setIsWalking] = useState(false)\n\n  // Hinge constraints for triangulations\n  useHingeConstraint(frontUpperLegRef, frontLegRef, {\n    collideConnected: false,\n    axisA: [0, 0, 1],\n    axisB: [0, 0, 1],\n    pivotA: size3([0, 0.5, 0.5]) as any,\n    pivotB: size5([0, 0.5, -0.5]) as any,\n  })\n\n  useHingeConstraint(backLegRef, horizontalRef, {\n    collideConnected: false,\n    axisA: [0, 0, 1],\n    axisB: [0, 0, 1],\n    pivotA: size5([0, 0.5, 0.5]) as any,\n    pivotB: size10([0, 0.5, -0.5]) as any,\n  })\n\n  useEffect(() => {\n    const t = setTimeout(() => setIsWalking(true), delay)\n    return () => clearTimeout(t)\n  }, [])\n\n  return (\n    <group {...props}>\n      {/* Body */}\n      <ConstraintPart\n        ref={bodyRef}\n        mass={1}\n        args={[bodyHeight, bodyWidth, bodyDepth ? bodyDepth + partDepth * 3 : 0]}\n        rotation={[0, 0, Math.PI / 2]}\n        position={[0, 0, bodyDepth]}\n        transparent={!bodyDepth}\n        opacity={Number(!!bodyDepth)}>\n        {/* Upper front leg */}\n        <ConstraintPart\n          ref={frontUpperLegRef}\n          args={[1, 3, partDepth]}\n          position={[-2, 0.5, bodyDepth]}\n          rotation={[0, 0, Math.PI / 3]}\n          pivot={[0, -0.5, -0.5]}\n          parentPivot={[0, 0.2, 0.5]}\n          color=\"#85ffb3\"\n        />\n        {/* Crank */}\n        <ConstraintPart\n          enableMotor={isWalking} // Motor enabled here\n          motorSpeed={motorSpeed}\n          args={[0.5, 1, partDepth]}\n          position={[bodyWidth * -0.5, -1.5 / 2, bodyDepth]}\n          parentPivot={[0, 0.5, 0.5]}\n          pivot={[0, 0.5, -0.5]}\n          color=\"black\">\n          {/* Front leg */}\n          <ConstraintPart\n            ref={frontLegRef}\n            args={[1, legLength, partDepth]}\n            position={[bodyWidth * -0.5, -1, bodyDepth]}\n            rotation={[0, 0, Math.PI / -6]}\n            parentPivot={[0, -0.5, 0.5]}\n            pivot={[0, 0, -0.5]}\n            color=\"#85b3ff\">\n            {/* Horizontal bar */}\n            <ConstraintPart\n              ref={horizontalRef}\n              parentPivot={[0, 0, 0.5]}\n              pivot={[0, -0.5, -0.5]}\n              args={[1, bodyWidth, partDepth]}\n              position={[0, 0, bodyDepth]}\n              color=\"#ff85b3\"\n              rotation={[0, 0, Math.PI / -2.5]}\n            />\n          </ConstraintPart>\n        </ConstraintPart>\n        {/* Back leg */}\n        <ConstraintPart\n          ref={backLegRef}\n          args={[1, legLength, partDepth]}\n          pivot={[0, -0, -1]}\n          parentPivot={[-0.0, -0.5, 0.5]}\n          position={[bodyWidth * 0.5, 0, bodyDepth]}\n          rotation={[0, 0, Math.PI / 4]}\n          color=\"#85b3ff\"></ConstraintPart>\n      </ConstraintPart>\n    </group>\n  )\n})\n\nconst Scene = () => {\n  const cameraRef: any = useRef()\n  const robotRef: any = useRef()\n  useFrame(() => cameraRef.current.lookAt(robotRef.current.position))\n  return (\n    <Suspense fallback={null}>\n      <PerspectiveCamera ref={cameraRef} makeDefault position={[-40, 10, 20]} />\n      <hemisphereLight intensity={0.35} />\n      <spotLight\n        position={[20, 30, 10]}\n        angle={Math.PI / 5}\n        penumbra={1}\n        intensity={1}\n        distance={180}\n        castShadow\n        shadow-mapSize-width={256}\n        shadow-mapSize-height={256}\n      />\n      <color attach=\"background\" args={['#f6d186']} />\n      <Physics iterations={80} gravity={[0, -40, 0]}>\n        <Robot ref={robotRef} />\n        <Obstacles />\n        <Plane args={[120, 120]} position={[-20, -5, 0]} rotation={[-Math.PI / 2, 0, 0]} />\n      </Physics>\n    </Suspense>\n  )\n}\n\nconst Example = ({ children }: any) => {\n  return (\n    <>\n      { children }\n      <Canvas shadows gl={{ alpha: false }}>\n        <OrbitControls />\n        <Scene />\n      </Canvas>\n      <div style={{ position: 'absolute', top: 20, left: 100, color: 'white', fontSize: '1.2em' }}>\n        <pre>* click to reduce speed</pre>\n      </div>\n    </>\n  )\n}\n\nexport default Example\n","import _extends from '@babel/runtime/helpers/esm/extends';\nimport { useThree, useFrame } from '@react-three/fiber';\nimport * as React from 'react';\nimport { OrbitControls as OrbitControls$1 } from 'three-stdlib';\n\nconst OrbitControls = /*#__PURE__*/React.forwardRef(({\n  makeDefault,\n  camera,\n  regress,\n  domElement,\n  enableDamping = true,\n  onChange,\n  onStart,\n  onEnd,\n  ...restProps\n}, ref) => {\n  const invalidate = useThree(state => state.invalidate);\n  const defaultCamera = useThree(state => state.camera);\n  const gl = useThree(state => state.gl);\n  const events = useThree(state => state.events);\n  const set = useThree(state => state.set);\n  const get = useThree(state => state.get);\n  const performance = useThree(state => state.performance);\n  const explCamera = camera || defaultCamera;\n  const explDomElement = domElement || events.connected || gl.domElement;\n  const controls = React.useMemo(() => new OrbitControls$1(explCamera), [explCamera]);\n  useFrame(() => {\n    if (controls.enabled) controls.update();\n  }, -1);\n  React.useEffect(() => {\n    controls.connect(explDomElement);\n    return () => void controls.dispose();\n  }, [explDomElement, regress, controls, invalidate]);\n  React.useEffect(() => {\n    const callback = e => {\n      invalidate();\n      if (regress) performance.regress();\n      if (onChange) onChange(e);\n    };\n\n    controls.addEventListener('change', callback);\n    if (onStart) controls.addEventListener('start', onStart);\n    if (onEnd) controls.addEventListener('end', onEnd);\n    return () => {\n      if (onStart) controls.removeEventListener('start', onStart);\n      if (onEnd) controls.removeEventListener('end', onEnd);\n      controls.removeEventListener('change', callback);\n    };\n  }, [onChange, onStart, onEnd]);\n  React.useEffect(() => {\n    if (makeDefault) {\n      const old = get().controls;\n      set({\n        controls\n      });\n      return () => set({\n        controls: old\n      });\n    }\n  }, [makeDefault, controls]);\n  return /*#__PURE__*/React.createElement(\"primitive\", _extends({\n    ref: ref,\n    object: controls,\n    enableDamping: enableDamping\n  }, restProps));\n});\n\nexport { OrbitControls };\n"],"names":["PerspectiveCamera","React","ref","makeDefault","props","set","useThree","camera","size","cameraRef","cam","current","manual","aspect","width","height","updateProjectionMatrix","oldCam","_extends","mergeRefs","normalizeSize","px","py","pz","ox","oy","GROUP_GROUND","GROUP_BODY","context","createContext","Plane","args","usePlane","type","collisionFilterGroup","color","receiveShadow","ConstraintPart","forwardRef","config","enableMotor","motorSpeed","children","name","pivot","parentPivot","parent","useContext","normParentPivot","normPivot","useBox","collisionFilterMask","linearDamping","mass","bodyRef","useHingeConstraint","collideConnected","axisA","axisB","pivotA","pivotB","hingeApi","useEffect","setMotorSpeed","Provider","value","BoxShape","transparent","opacity","castShadow","Obstacles","position","rotation","Math","PI","Robot","useState","legsLeftRef","legsRightRef","useRef","useLockConstraint","undefined","onPointerDown","onPointerUp","Legs","delay","bodyDepth","horizontalRef","frontLegRef","frontUpperLegRef","backLegRef","partDepth","size3","size5","size10","isWalking","setIsWalking","t","setTimeout","clearTimeout","Number","bodyWidth","Scene","robotRef","useFrame","lookAt","Suspense","fallback","intensity","angle","penumbra","distance","attach","iterations","gravity","shadows","gl","alpha","OrbitControls","style","top","left","fontSize","regress","domElement","enableDamping","onChange","onStart","onEnd","restProps","invalidate","state","defaultCamera","events","get","performance","explCamera","explDomElement","connected","controls","OrbitControls$1","enabled","update","connect","dispose","callback","e","addEventListener","removeEventListener","old","object"],"sourceRoot":""}