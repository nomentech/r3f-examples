{"version":3,"file":"static/js/549.ae5fe8ae.chunk.js","mappings":"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","sources":["../node_modules/three-stdlib/shaders/HorizontalBlurShader.js","../node_modules/three-stdlib/shaders/VerticalBlurShader.js","../node_modules/@react-three/drei/core/ContactShadows.js","../node_modules/three-stdlib/controls/OrbitControls.js","../node_modules/@react-three/drei/core/OrbitControls.js","../node_modules/three-stdlib/libs/MeshoptDecoder.js","../node_modules/three-stdlib/loaders/DRACOLoader.js","../node_modules/three-stdlib/loaders/GLTFLoader.js","../node_modules/@react-three/drei/core/useGLTF.js"],"sourcesContent":["/**\n * Two pass Gaussian blur filter (horizontal and vertical blur shaders)\n * - described in http://www.gamerendering.com/2008/10/11/gaussian-blur-filter-shader/\n *   and used in http://www.cake23.de/traveling-wavefronts-lit-up.html\n *\n * - 9 samples per pass\n * - standard deviation 2.7\n * - \"h\" and \"v\" parameters should be set to \"1 / width\" and \"1 / height\"\n */\nconst HorizontalBlurShader = {\n  uniforms: {\n    tDiffuse: {\n      value: null\n    },\n    h: {\n      value: 1.0 / 512.0\n    }\n  },\n  vertexShader:\n  /* glsl */\n  `\n      varying vec2 vUv;\n\n      void main() {\n\n        vUv = uv;\n        gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\n      }\n  `,\n  fragmentShader:\n  /* glsl */\n  `\n    uniform sampler2D tDiffuse;\n    uniform float h;\n\n    varying vec2 vUv;\n\n    void main() {\n\n    \tvec4 sum = vec4( 0.0 );\n\n    \tsum += texture2D( tDiffuse, vec2( vUv.x - 4.0 * h, vUv.y ) ) * 0.051;\n    \tsum += texture2D( tDiffuse, vec2( vUv.x - 3.0 * h, vUv.y ) ) * 0.0918;\n    \tsum += texture2D( tDiffuse, vec2( vUv.x - 2.0 * h, vUv.y ) ) * 0.12245;\n    \tsum += texture2D( tDiffuse, vec2( vUv.x - 1.0 * h, vUv.y ) ) * 0.1531;\n    \tsum += texture2D( tDiffuse, vec2( vUv.x, vUv.y ) ) * 0.1633;\n    \tsum += texture2D( tDiffuse, vec2( vUv.x + 1.0 * h, vUv.y ) ) * 0.1531;\n    \tsum += texture2D( tDiffuse, vec2( vUv.x + 2.0 * h, vUv.y ) ) * 0.12245;\n    \tsum += texture2D( tDiffuse, vec2( vUv.x + 3.0 * h, vUv.y ) ) * 0.0918;\n    \tsum += texture2D( tDiffuse, vec2( vUv.x + 4.0 * h, vUv.y ) ) * 0.051;\n\n    \tgl_FragColor = sum;\n\n    }\n  `\n};\n\nexport { HorizontalBlurShader };\n","/**\n * Two pass Gaussian blur filter (horizontal and vertical blur shaders)\n * - described in http://www.gamerendering.com/2008/10/11/gaussian-blur-filter-shader/\n *   and used in http://www.cake23.de/traveling-wavefronts-lit-up.html\n *\n * - 9 samples per pass\n * - standard deviation 2.7\n * - \"h\" and \"v\" parameters should be set to \"1 / width\" and \"1 / height\"\n */\nconst VerticalBlurShader = {\n  uniforms: {\n    tDiffuse: {\n      value: null\n    },\n    v: {\n      value: 1.0 / 512.0\n    }\n  },\n  vertexShader:\n  /* glsl */\n  `\n    varying vec2 vUv;\n\n    void main() {\n\n      vUv = uv;\n      gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\n    }\n  `,\n  fragmentShader:\n  /* glsl */\n  `\n\n  uniform sampler2D tDiffuse;\n  uniform float v;\n\n  varying vec2 vUv;\n\n  void main() {\n\n    vec4 sum = vec4( 0.0 );\n\n    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 4.0 * v ) ) * 0.051;\n    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 3.0 * v ) ) * 0.0918;\n    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 2.0 * v ) ) * 0.12245;\n    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 1.0 * v ) ) * 0.1531;\n    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y ) ) * 0.1633;\n    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 1.0 * v ) ) * 0.1531;\n    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 2.0 * v ) ) * 0.12245;\n    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 3.0 * v ) ) * 0.0918;\n    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 4.0 * v ) ) * 0.051;\n\n    gl_FragColor = sum;\n\n  }\n  `\n};\n\nexport { VerticalBlurShader };\n","import _extends from '@babel/runtime/helpers/esm/extends';\nimport * as React from 'react';\nimport * as THREE from 'three';\nimport { useThree, useFrame } from '@react-three/fiber';\nimport { HorizontalBlurShader, VerticalBlurShader } from 'three-stdlib';\n\nconst ContactShadows = /*#__PURE__*/React.forwardRef(({\n  scale = 10,\n  frames = Infinity,\n  opacity = 1,\n  width = 1,\n  height = 1,\n  blur = 1,\n  far = 10,\n  resolution = 512,\n  smooth = true,\n  color = '#000000',\n  depthWrite = false,\n  renderOrder,\n  ...props\n}, ref) => {\n  const scene = useThree(state => state.scene);\n  const gl = useThree(state => state.gl);\n  const shadowCamera = React.useRef(null);\n  width = width * (Array.isArray(scale) ? scale[0] : scale || 1);\n  height = height * (Array.isArray(scale) ? scale[1] : scale || 1);\n  const [renderTarget, planeGeometry, depthMaterial, blurPlane, horizontalBlurMaterial, verticalBlurMaterial, renderTargetBlur] = React.useMemo(() => {\n    const renderTarget = new THREE.WebGLRenderTarget(resolution, resolution);\n    const renderTargetBlur = new THREE.WebGLRenderTarget(resolution, resolution);\n    renderTargetBlur.texture.generateMipmaps = renderTarget.texture.generateMipmaps = false;\n    const planeGeometry = new THREE.PlaneBufferGeometry(width, height).rotateX(Math.PI / 2);\n    const blurPlane = new THREE.Mesh(planeGeometry);\n    const depthMaterial = new THREE.MeshDepthMaterial();\n    depthMaterial.depthTest = depthMaterial.depthWrite = false;\n\n    depthMaterial.onBeforeCompile = shader => {\n      shader.uniforms = { ...shader.uniforms,\n        ucolor: {\n          value: new THREE.Color(color).convertSRGBToLinear()\n        }\n      };\n      shader.fragmentShader = shader.fragmentShader.replace(`void main() {`, //\n      `uniform vec3 ucolor;\n           void main() {\n          `);\n      shader.fragmentShader = shader.fragmentShader.replace('vec4( vec3( 1.0 - fragCoordZ ), opacity );', 'vec4( ucolor, ( 1.0 - fragCoordZ ) * 1.0 );');\n    };\n\n    const horizontalBlurMaterial = new THREE.ShaderMaterial(HorizontalBlurShader);\n    const verticalBlurMaterial = new THREE.ShaderMaterial(VerticalBlurShader);\n    verticalBlurMaterial.depthTest = horizontalBlurMaterial.depthTest = false;\n    return [renderTarget, planeGeometry, depthMaterial, blurPlane, horizontalBlurMaterial, verticalBlurMaterial, renderTargetBlur];\n  }, [resolution, width, height, scale, color]);\n\n  const blurShadows = blur => {\n    blurPlane.visible = true;\n    blurPlane.material = horizontalBlurMaterial;\n    horizontalBlurMaterial.uniforms.tDiffuse.value = renderTarget.texture;\n    horizontalBlurMaterial.uniforms.h.value = blur * 1 / 256;\n    gl.setRenderTarget(renderTargetBlur);\n    gl.render(blurPlane, shadowCamera.current);\n    blurPlane.material = verticalBlurMaterial;\n    verticalBlurMaterial.uniforms.tDiffuse.value = renderTargetBlur.texture;\n    verticalBlurMaterial.uniforms.v.value = blur * 1 / 256;\n    gl.setRenderTarget(renderTarget);\n    gl.render(blurPlane, shadowCamera.current);\n    blurPlane.visible = false;\n  };\n\n  let count = 0;\n  useFrame(() => {\n    if (shadowCamera.current && (frames === Infinity || count < frames)) {\n      const initialBackground = scene.background;\n      scene.background = null;\n      const initialOverrideMaterial = scene.overrideMaterial;\n      scene.overrideMaterial = depthMaterial;\n      gl.setRenderTarget(renderTarget);\n      gl.render(scene, shadowCamera.current);\n      scene.overrideMaterial = initialOverrideMaterial;\n      blurShadows(blur);\n      if (smooth) blurShadows(blur * 0.4);\n      gl.setRenderTarget(null);\n      scene.background = initialBackground;\n      count++;\n    }\n  });\n  return /*#__PURE__*/React.createElement(\"group\", _extends({\n    \"rotation-x\": Math.PI / 2\n  }, props, {\n    ref: ref\n  }), /*#__PURE__*/React.createElement(\"mesh\", {\n    renderOrder: renderOrder,\n    geometry: planeGeometry,\n    scale: [1, -1, 1],\n    rotation: [-Math.PI / 2, 0, 0]\n  }, /*#__PURE__*/React.createElement(\"meshBasicMaterial\", {\n    map: renderTarget.texture,\n    \"map-encoding\": gl.outputEncoding,\n    transparent: true,\n    opacity: opacity,\n    depthWrite: depthWrite\n  })), /*#__PURE__*/React.createElement(\"orthographicCamera\", {\n    ref: shadowCamera,\n    args: [-width / 2, width / 2, height / 2, -height / 2, 0, far]\n  }));\n});\n\nexport { ContactShadows };\n","import _defineProperty from '@babel/runtime/helpers/esm/defineProperty';\nimport { EventDispatcher, Vector3, MOUSE, TOUCH, PerspectiveCamera, Quaternion, Spherical, Vector2, OrthographicCamera } from 'three';\n\n// Unlike TrackballControls, it maintains the \"up\" direction object.up (+Y by default).\n//\n//    Orbit - left mouse / touch: one-finger move\n//    Zoom - middle mouse, or mousewheel / touch: two-finger spread or squish\n//    Pan - right mouse, or left mouse + ctrl/meta/shiftKey, or arrow keys / touch: two-finger move\n\nconst moduloWrapAround = (offset, capacity) => (offset % capacity + capacity) % capacity;\n\nclass OrbitControls extends EventDispatcher {\n  // Set to false to disable this control\n  // \"target\" sets the location of focus, where the object orbits around\n  // How far you can dolly in and out ( PerspectiveCamera only )\n  // How far you can zoom in and out ( OrthographicCamera only )\n  // How far you can orbit vertically, upper and lower limits.\n  // Range is 0 to Math.PI radians.\n  // radians\n  // radians\n  // How far you can orbit horizontally, upper and lower limits.\n  // If set, the interval [ min, max ] must be a sub-interval of [ - 2 PI, 2 PI ], with ( max - min < 2 PI )\n  // radians\n  // radians\n  // Set to true to enable damping (inertia)\n  // If damping is enabled, you must call controls.update() in your animation loop\n  // This option actually enables dollying in and out; left as \"zoom\" for backwards compatibility.\n  // Set to false to disable zooming\n  // Set to false to disable rotating\n  // Set to false to disable panning\n  // if false, pan orthogonal to world-space direction camera.up\n  // pixels moved per arrow key push\n  // Set to true to automatically rotate around the target\n  // If auto-rotate is enabled, you must call controls.update() in your animation loop\n  // 30 seconds per orbit when fps is 60\n  // true if you want to reverse the orbit to mouse drag from left to right = orbits left\n  // The four arrow keys\n  // Mouse buttons\n  // Touch fingers\n  // the target DOM element for key events\n  constructor(object, domElement) {\n    super();\n\n    _defineProperty(this, \"object\", void 0);\n\n    _defineProperty(this, \"domElement\", void 0);\n\n    _defineProperty(this, \"enabled\", true);\n\n    _defineProperty(this, \"target\", new Vector3());\n\n    _defineProperty(this, \"minDistance\", 0);\n\n    _defineProperty(this, \"maxDistance\", Infinity);\n\n    _defineProperty(this, \"minZoom\", 0);\n\n    _defineProperty(this, \"maxZoom\", Infinity);\n\n    _defineProperty(this, \"minPolarAngle\", 0);\n\n    _defineProperty(this, \"maxPolarAngle\", Math.PI);\n\n    _defineProperty(this, \"minAzimuthAngle\", -Infinity);\n\n    _defineProperty(this, \"maxAzimuthAngle\", Infinity);\n\n    _defineProperty(this, \"enableDamping\", false);\n\n    _defineProperty(this, \"dampingFactor\", 0.05);\n\n    _defineProperty(this, \"enableZoom\", true);\n\n    _defineProperty(this, \"zoomSpeed\", 1.0);\n\n    _defineProperty(this, \"enableRotate\", true);\n\n    _defineProperty(this, \"rotateSpeed\", 1.0);\n\n    _defineProperty(this, \"enablePan\", true);\n\n    _defineProperty(this, \"panSpeed\", 1.0);\n\n    _defineProperty(this, \"screenSpacePanning\", true);\n\n    _defineProperty(this, \"keyPanSpeed\", 7.0);\n\n    _defineProperty(this, \"autoRotate\", false);\n\n    _defineProperty(this, \"autoRotateSpeed\", 2.0);\n\n    _defineProperty(this, \"reverseOrbit\", false);\n\n    _defineProperty(this, \"keys\", {\n      LEFT: 'ArrowLeft',\n      UP: 'ArrowUp',\n      RIGHT: 'ArrowRight',\n      BOTTOM: 'ArrowDown'\n    });\n\n    _defineProperty(this, \"mouseButtons\", {\n      LEFT: MOUSE.ROTATE,\n      MIDDLE: MOUSE.DOLLY,\n      RIGHT: MOUSE.PAN\n    });\n\n    _defineProperty(this, \"touches\", {\n      ONE: TOUCH.ROTATE,\n      TWO: TOUCH.DOLLY_PAN\n    });\n\n    _defineProperty(this, \"target0\", void 0);\n\n    _defineProperty(this, \"position0\", void 0);\n\n    _defineProperty(this, \"zoom0\", void 0);\n\n    _defineProperty(this, \"_domElementKeyEvents\", null);\n\n    _defineProperty(this, \"getPolarAngle\", void 0);\n\n    _defineProperty(this, \"getAzimuthalAngle\", void 0);\n\n    _defineProperty(this, \"setPolarAngle\", void 0);\n\n    _defineProperty(this, \"setAzimuthalAngle\", void 0);\n\n    _defineProperty(this, \"getDistance\", void 0);\n\n    _defineProperty(this, \"listenToKeyEvents\", void 0);\n\n    _defineProperty(this, \"saveState\", void 0);\n\n    _defineProperty(this, \"reset\", void 0);\n\n    _defineProperty(this, \"update\", void 0);\n\n    _defineProperty(this, \"connect\", void 0);\n\n    _defineProperty(this, \"dispose\", void 0);\n\n    this.object = object;\n    this.domElement = domElement; // for reset\n\n    this.target0 = this.target.clone();\n    this.position0 = this.object.position.clone();\n    this.zoom0 = this.object instanceof PerspectiveCamera ? this.object.zoom : 1; //\n    // public methods\n    //\n\n    this.getPolarAngle = () => spherical.phi;\n\n    this.getAzimuthalAngle = () => spherical.theta;\n\n    this.setPolarAngle = value => {\n      // use modulo wrapping to safeguard value\n      let phi = moduloWrapAround(value, 2 * Math.PI);\n      let currentPhi = spherical.phi; // convert to the equivalent shortest angle\n\n      if (currentPhi < 0) currentPhi += 2 * Math.PI;\n      if (phi < 0) phi += 2 * Math.PI;\n      let phiDist = Math.abs(phi - currentPhi);\n\n      if (2 * Math.PI - phiDist < phiDist) {\n        if (phi < currentPhi) {\n          phi += 2 * Math.PI;\n        } else {\n          currentPhi += 2 * Math.PI;\n        }\n      }\n\n      sphericalDelta.phi = phi - currentPhi;\n      scope.update();\n    };\n\n    this.setAzimuthalAngle = value => {\n      // use modulo wrapping to safeguard value\n      let theta = moduloWrapAround(value, 2 * Math.PI);\n      let currentTheta = spherical.theta; // convert to the equivalent shortest angle\n\n      if (currentTheta < 0) currentTheta += 2 * Math.PI;\n      if (theta < 0) theta += 2 * Math.PI;\n      let thetaDist = Math.abs(theta - currentTheta);\n\n      if (2 * Math.PI - thetaDist < thetaDist) {\n        if (theta < currentTheta) {\n          theta += 2 * Math.PI;\n        } else {\n          currentTheta += 2 * Math.PI;\n        }\n      }\n\n      sphericalDelta.theta = theta - currentTheta;\n      scope.update();\n    };\n\n    this.getDistance = () => scope.object.position.distanceTo(scope.target);\n\n    this.listenToKeyEvents = domElement => {\n      domElement.addEventListener('keydown', onKeyDown);\n      this._domElementKeyEvents = domElement;\n    };\n\n    this.saveState = () => {\n      scope.target0.copy(scope.target);\n      scope.position0.copy(scope.object.position);\n      scope.zoom0 = scope.object instanceof PerspectiveCamera ? scope.object.zoom : 1;\n    };\n\n    this.reset = () => {\n      scope.target.copy(scope.target0);\n      scope.object.position.copy(scope.position0);\n\n      if (scope.object instanceof PerspectiveCamera) {\n        scope.object.zoom = scope.zoom0;\n        scope.object.updateProjectionMatrix();\n      }\n\n      scope.dispatchEvent(changeEvent);\n      scope.update();\n      state = STATE.NONE;\n    }; // this method is exposed, but perhaps it would be better if we can make it private...\n\n\n    this.update = (() => {\n      const offset = new Vector3(); // so camera.up is the orbit axis\n\n      const quat = new Quaternion().setFromUnitVectors(object.up, new Vector3(0, 1, 0));\n      const quatInverse = quat.clone().invert();\n      const lastPosition = new Vector3();\n      const lastQuaternion = new Quaternion();\n      const twoPI = 2 * Math.PI;\n      return function update() {\n        const position = scope.object.position;\n        offset.copy(position).sub(scope.target); // rotate offset to \"y-axis-is-up\" space\n\n        offset.applyQuaternion(quat); // angle from z-axis around y-axis\n\n        spherical.setFromVector3(offset);\n\n        if (scope.autoRotate && state === STATE.NONE) {\n          rotateLeft(getAutoRotationAngle());\n        }\n\n        if (scope.enableDamping) {\n          spherical.theta += sphericalDelta.theta * scope.dampingFactor;\n          spherical.phi += sphericalDelta.phi * scope.dampingFactor;\n        } else {\n          spherical.theta += sphericalDelta.theta;\n          spherical.phi += sphericalDelta.phi;\n        } // restrict theta to be between desired limits\n\n\n        let min = scope.minAzimuthAngle;\n        let max = scope.maxAzimuthAngle;\n\n        if (isFinite(min) && isFinite(max)) {\n          if (min < -Math.PI) min += twoPI;else if (min > Math.PI) min -= twoPI;\n          if (max < -Math.PI) max += twoPI;else if (max > Math.PI) max -= twoPI;\n\n          if (min <= max) {\n            spherical.theta = Math.max(min, Math.min(max, spherical.theta));\n          } else {\n            spherical.theta = spherical.theta > (min + max) / 2 ? Math.max(min, spherical.theta) : Math.min(max, spherical.theta);\n          }\n        } // restrict phi to be between desired limits\n\n\n        spherical.phi = Math.max(scope.minPolarAngle, Math.min(scope.maxPolarAngle, spherical.phi));\n        spherical.makeSafe();\n        spherical.radius *= scale; // restrict radius to be between desired limits\n\n        spherical.radius = Math.max(scope.minDistance, Math.min(scope.maxDistance, spherical.radius)); // move target to panned location\n\n        if (scope.enableDamping === true) {\n          scope.target.addScaledVector(panOffset, scope.dampingFactor);\n        } else {\n          scope.target.add(panOffset);\n        }\n\n        offset.setFromSpherical(spherical); // rotate offset back to \"camera-up-vector-is-up\" space\n\n        offset.applyQuaternion(quatInverse);\n        position.copy(scope.target).add(offset);\n        scope.object.lookAt(scope.target);\n\n        if (scope.enableDamping === true) {\n          sphericalDelta.theta *= 1 - scope.dampingFactor;\n          sphericalDelta.phi *= 1 - scope.dampingFactor;\n          panOffset.multiplyScalar(1 - scope.dampingFactor);\n        } else {\n          sphericalDelta.set(0, 0, 0);\n          panOffset.set(0, 0, 0);\n        }\n\n        scale = 1; // update condition is:\n        // min(camera displacement, camera rotation in radians)^2 > EPS\n        // using small-angle approximation cos(x/2) = 1 - x^2 / 8\n\n        if (zoomChanged || lastPosition.distanceToSquared(scope.object.position) > EPS || 8 * (1 - lastQuaternion.dot(scope.object.quaternion)) > EPS) {\n          scope.dispatchEvent(changeEvent);\n          lastPosition.copy(scope.object.position);\n          lastQuaternion.copy(scope.object.quaternion);\n          zoomChanged = false;\n          return true;\n        }\n\n        return false;\n      };\n    })(); // https://github.com/mrdoob/three.js/issues/20575\n\n\n    this.connect = domElement => {\n      if (domElement === document) {\n        console.error('THREE.OrbitControls: \"document\" should not be used as the target \"domElement\". Please use \"renderer.domElement\" instead.');\n      }\n\n      scope.domElement = domElement; // disables touch scroll\n      // touch-action needs to be defined for pointer events to work on mobile\n      // https://stackoverflow.com/a/48254578\n\n      scope.domElement.style.touchAction = 'none';\n      scope.domElement.addEventListener('contextmenu', onContextMenu);\n      scope.domElement.addEventListener('pointerdown', onPointerDown);\n      scope.domElement.addEventListener('pointercancel', onPointerCancel);\n      scope.domElement.addEventListener('wheel', onMouseWheel);\n    };\n\n    this.dispose = () => {\n      var _scope$domElement, _scope$domElement2, _scope$domElement3, _scope$domElement4, _scope$domElement5, _scope$domElement6;\n\n      (_scope$domElement = scope.domElement) === null || _scope$domElement === void 0 ? void 0 : _scope$domElement.removeEventListener('contextmenu', onContextMenu);\n      (_scope$domElement2 = scope.domElement) === null || _scope$domElement2 === void 0 ? void 0 : _scope$domElement2.removeEventListener('pointerdown', onPointerDown);\n      (_scope$domElement3 = scope.domElement) === null || _scope$domElement3 === void 0 ? void 0 : _scope$domElement3.removeEventListener('pointercancel', onPointerCancel);\n      (_scope$domElement4 = scope.domElement) === null || _scope$domElement4 === void 0 ? void 0 : _scope$domElement4.removeEventListener('wheel', onMouseWheel);\n      (_scope$domElement5 = scope.domElement) === null || _scope$domElement5 === void 0 ? void 0 : _scope$domElement5.ownerDocument.removeEventListener('pointermove', onPointerMove);\n      (_scope$domElement6 = scope.domElement) === null || _scope$domElement6 === void 0 ? void 0 : _scope$domElement6.ownerDocument.removeEventListener('pointerup', onPointerUp);\n\n      if (scope._domElementKeyEvents !== null) {\n        scope._domElementKeyEvents.removeEventListener('keydown', onKeyDown);\n      } //scope.dispatchEvent( { type: 'dispose' } ); // should this be added here?\n\n    }; //\n    // internals\n    //\n\n\n    const scope = this;\n    const changeEvent = {\n      type: 'change'\n    };\n    const startEvent = {\n      type: 'start'\n    };\n    const endEvent = {\n      type: 'end'\n    };\n    const STATE = {\n      NONE: -1,\n      ROTATE: 0,\n      DOLLY: 1,\n      PAN: 2,\n      TOUCH_ROTATE: 3,\n      TOUCH_PAN: 4,\n      TOUCH_DOLLY_PAN: 5,\n      TOUCH_DOLLY_ROTATE: 6\n    };\n    let state = STATE.NONE;\n    const EPS = 0.000001; // current position in spherical coordinates\n\n    const spherical = new Spherical();\n    const sphericalDelta = new Spherical();\n    let scale = 1;\n    const panOffset = new Vector3();\n    let zoomChanged = false;\n    const rotateStart = new Vector2();\n    const rotateEnd = new Vector2();\n    const rotateDelta = new Vector2();\n    const panStart = new Vector2();\n    const panEnd = new Vector2();\n    const panDelta = new Vector2();\n    const dollyStart = new Vector2();\n    const dollyEnd = new Vector2();\n    const dollyDelta = new Vector2();\n    const pointers = [];\n    const pointerPositions = {};\n\n    function getAutoRotationAngle() {\n      return 2 * Math.PI / 60 / 60 * scope.autoRotateSpeed;\n    }\n\n    function getZoomScale() {\n      return Math.pow(0.95, scope.zoomSpeed);\n    }\n\n    function rotateLeft(angle) {\n      if (scope.reverseOrbit) {\n        sphericalDelta.theta += angle;\n      } else {\n        sphericalDelta.theta -= angle;\n      }\n    }\n\n    function rotateUp(angle) {\n      if (scope.reverseOrbit) {\n        sphericalDelta.phi += angle;\n      } else {\n        sphericalDelta.phi -= angle;\n      }\n    }\n\n    const panLeft = (() => {\n      const v = new Vector3();\n      return function panLeft(distance, objectMatrix) {\n        v.setFromMatrixColumn(objectMatrix, 0); // get X column of objectMatrix\n\n        v.multiplyScalar(-distance);\n        panOffset.add(v);\n      };\n    })();\n\n    const panUp = (() => {\n      const v = new Vector3();\n      return function panUp(distance, objectMatrix) {\n        if (scope.screenSpacePanning === true) {\n          v.setFromMatrixColumn(objectMatrix, 1);\n        } else {\n          v.setFromMatrixColumn(objectMatrix, 0);\n          v.crossVectors(scope.object.up, v);\n        }\n\n        v.multiplyScalar(distance);\n        panOffset.add(v);\n      };\n    })(); // deltaX and deltaY are in pixels; right and down are positive\n\n\n    const pan = (() => {\n      const offset = new Vector3();\n      return function pan(deltaX, deltaY) {\n        const element = scope.domElement;\n\n        if (element && scope.object instanceof PerspectiveCamera && scope.object.isPerspectiveCamera) {\n          // perspective\n          const position = scope.object.position;\n          offset.copy(position).sub(scope.target);\n          let targetDistance = offset.length(); // half of the fov is center to top of screen\n\n          targetDistance *= Math.tan(scope.object.fov / 2 * Math.PI / 180.0); // we use only clientHeight here so aspect ratio does not distort speed\n\n          panLeft(2 * deltaX * targetDistance / element.clientHeight, scope.object.matrix);\n          panUp(2 * deltaY * targetDistance / element.clientHeight, scope.object.matrix);\n        } else if (element && scope.object instanceof OrthographicCamera && scope.object.isOrthographicCamera) {\n          // orthographic\n          panLeft(deltaX * (scope.object.right - scope.object.left) / scope.object.zoom / element.clientWidth, scope.object.matrix);\n          panUp(deltaY * (scope.object.top - scope.object.bottom) / scope.object.zoom / element.clientHeight, scope.object.matrix);\n        } else {\n          // camera neither orthographic nor perspective\n          console.warn('WARNING: OrbitControls.js encountered an unknown camera type - pan disabled.');\n          scope.enablePan = false;\n        }\n      };\n    })();\n\n    function dollyOut(dollyScale) {\n      if (scope.object instanceof PerspectiveCamera && scope.object.isPerspectiveCamera) {\n        scale /= dollyScale;\n      } else if (scope.object instanceof OrthographicCamera && scope.object.isOrthographicCamera) {\n        scope.object.zoom = Math.max(scope.minZoom, Math.min(scope.maxZoom, scope.object.zoom * dollyScale));\n        scope.object.updateProjectionMatrix();\n        zoomChanged = true;\n      } else {\n        console.warn('WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.');\n        scope.enableZoom = false;\n      }\n    }\n\n    function dollyIn(dollyScale) {\n      if (scope.object instanceof PerspectiveCamera && scope.object.isPerspectiveCamera) {\n        scale *= dollyScale;\n      } else if (scope.object instanceof OrthographicCamera && scope.object.isOrthographicCamera) {\n        scope.object.zoom = Math.max(scope.minZoom, Math.min(scope.maxZoom, scope.object.zoom / dollyScale));\n        scope.object.updateProjectionMatrix();\n        zoomChanged = true;\n      } else {\n        console.warn('WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.');\n        scope.enableZoom = false;\n      }\n    } //\n    // event callbacks - update the object state\n    //\n\n\n    function handleMouseDownRotate(event) {\n      rotateStart.set(event.clientX, event.clientY);\n    }\n\n    function handleMouseDownDolly(event) {\n      dollyStart.set(event.clientX, event.clientY);\n    }\n\n    function handleMouseDownPan(event) {\n      panStart.set(event.clientX, event.clientY);\n    }\n\n    function handleMouseMoveRotate(event) {\n      rotateEnd.set(event.clientX, event.clientY);\n      rotateDelta.subVectors(rotateEnd, rotateStart).multiplyScalar(scope.rotateSpeed);\n      const element = scope.domElement;\n\n      if (element) {\n        rotateLeft(2 * Math.PI * rotateDelta.x / element.clientHeight); // yes, height\n\n        rotateUp(2 * Math.PI * rotateDelta.y / element.clientHeight);\n      }\n\n      rotateStart.copy(rotateEnd);\n      scope.update();\n    }\n\n    function handleMouseMoveDolly(event) {\n      dollyEnd.set(event.clientX, event.clientY);\n      dollyDelta.subVectors(dollyEnd, dollyStart);\n\n      if (dollyDelta.y > 0) {\n        dollyOut(getZoomScale());\n      } else if (dollyDelta.y < 0) {\n        dollyIn(getZoomScale());\n      }\n\n      dollyStart.copy(dollyEnd);\n      scope.update();\n    }\n\n    function handleMouseMovePan(event) {\n      panEnd.set(event.clientX, event.clientY);\n      panDelta.subVectors(panEnd, panStart).multiplyScalar(scope.panSpeed);\n      pan(panDelta.x, panDelta.y);\n      panStart.copy(panEnd);\n      scope.update();\n    }\n\n    function handleMouseWheel(event) {\n      if (event.deltaY < 0) {\n        dollyIn(getZoomScale());\n      } else if (event.deltaY > 0) {\n        dollyOut(getZoomScale());\n      }\n\n      scope.update();\n    }\n\n    function handleKeyDown(event) {\n      let needsUpdate = false;\n\n      switch (event.code) {\n        case scope.keys.UP:\n          pan(0, scope.keyPanSpeed);\n          needsUpdate = true;\n          break;\n\n        case scope.keys.BOTTOM:\n          pan(0, -scope.keyPanSpeed);\n          needsUpdate = true;\n          break;\n\n        case scope.keys.LEFT:\n          pan(scope.keyPanSpeed, 0);\n          needsUpdate = true;\n          break;\n\n        case scope.keys.RIGHT:\n          pan(-scope.keyPanSpeed, 0);\n          needsUpdate = true;\n          break;\n      }\n\n      if (needsUpdate) {\n        // prevent the browser from scrolling on cursor keys\n        event.preventDefault();\n        scope.update();\n      }\n    }\n\n    function handleTouchStartRotate() {\n      if (pointers.length == 1) {\n        rotateStart.set(pointers[0].pageX, pointers[0].pageY);\n      } else {\n        const x = 0.5 * (pointers[0].pageX + pointers[1].pageX);\n        const y = 0.5 * (pointers[0].pageY + pointers[1].pageY);\n        rotateStart.set(x, y);\n      }\n    }\n\n    function handleTouchStartPan() {\n      if (pointers.length == 1) {\n        panStart.set(pointers[0].pageX, pointers[0].pageY);\n      } else {\n        const x = 0.5 * (pointers[0].pageX + pointers[1].pageX);\n        const y = 0.5 * (pointers[0].pageY + pointers[1].pageY);\n        panStart.set(x, y);\n      }\n    }\n\n    function handleTouchStartDolly() {\n      const dx = pointers[0].pageX - pointers[1].pageX;\n      const dy = pointers[0].pageY - pointers[1].pageY;\n      const distance = Math.sqrt(dx * dx + dy * dy);\n      dollyStart.set(0, distance);\n    }\n\n    function handleTouchStartDollyPan() {\n      if (scope.enableZoom) handleTouchStartDolly();\n      if (scope.enablePan) handleTouchStartPan();\n    }\n\n    function handleTouchStartDollyRotate() {\n      if (scope.enableZoom) handleTouchStartDolly();\n      if (scope.enableRotate) handleTouchStartRotate();\n    }\n\n    function handleTouchMoveRotate(event) {\n      if (pointers.length == 1) {\n        rotateEnd.set(event.pageX, event.pageY);\n      } else {\n        const position = getSecondPointerPosition(event);\n        const x = 0.5 * (event.pageX + position.x);\n        const y = 0.5 * (event.pageY + position.y);\n        rotateEnd.set(x, y);\n      }\n\n      rotateDelta.subVectors(rotateEnd, rotateStart).multiplyScalar(scope.rotateSpeed);\n      const element = scope.domElement;\n\n      if (element) {\n        rotateLeft(2 * Math.PI * rotateDelta.x / element.clientHeight); // yes, height\n\n        rotateUp(2 * Math.PI * rotateDelta.y / element.clientHeight);\n      }\n\n      rotateStart.copy(rotateEnd);\n    }\n\n    function handleTouchMovePan(event) {\n      if (pointers.length == 1) {\n        panEnd.set(event.pageX, event.pageY);\n      } else {\n        const position = getSecondPointerPosition(event);\n        const x = 0.5 * (event.pageX + position.x);\n        const y = 0.5 * (event.pageY + position.y);\n        panEnd.set(x, y);\n      }\n\n      panDelta.subVectors(panEnd, panStart).multiplyScalar(scope.panSpeed);\n      pan(panDelta.x, panDelta.y);\n      panStart.copy(panEnd);\n    }\n\n    function handleTouchMoveDolly(event) {\n      const position = getSecondPointerPosition(event);\n      const dx = event.pageX - position.x;\n      const dy = event.pageY - position.y;\n      const distance = Math.sqrt(dx * dx + dy * dy);\n      dollyEnd.set(0, distance);\n      dollyDelta.set(0, Math.pow(dollyEnd.y / dollyStart.y, scope.zoomSpeed));\n      dollyOut(dollyDelta.y);\n      dollyStart.copy(dollyEnd);\n    }\n\n    function handleTouchMoveDollyPan(event) {\n      if (scope.enableZoom) handleTouchMoveDolly(event);\n      if (scope.enablePan) handleTouchMovePan(event);\n    }\n\n    function handleTouchMoveDollyRotate(event) {\n      if (scope.enableZoom) handleTouchMoveDolly(event);\n      if (scope.enableRotate) handleTouchMoveRotate(event);\n    } //\n    // event handlers - FSM: listen for events and reset state\n    //\n\n\n    function onPointerDown(event) {\n      if (scope.enabled === false) return;\n\n      if (pointers.length === 0) {\n        var _scope$domElement7, _scope$domElement8;\n\n        (_scope$domElement7 = scope.domElement) === null || _scope$domElement7 === void 0 ? void 0 : _scope$domElement7.ownerDocument.addEventListener('pointermove', onPointerMove);\n        (_scope$domElement8 = scope.domElement) === null || _scope$domElement8 === void 0 ? void 0 : _scope$domElement8.ownerDocument.addEventListener('pointerup', onPointerUp);\n      }\n\n      addPointer(event);\n\n      if (event.pointerType === 'touch') {\n        onTouchStart(event);\n      } else {\n        onMouseDown(event);\n      }\n    }\n\n    function onPointerMove(event) {\n      if (scope.enabled === false) return;\n\n      if (event.pointerType === 'touch') {\n        onTouchMove(event);\n      } else {\n        onMouseMove(event);\n      }\n    }\n\n    function onPointerUp(event) {\n      removePointer(event);\n\n      if (pointers.length === 0) {\n        var _scope$domElement9, _scope$domElement10, _scope$domElement11;\n\n        (_scope$domElement9 = scope.domElement) === null || _scope$domElement9 === void 0 ? void 0 : _scope$domElement9.releasePointerCapture(event.pointerId);\n        (_scope$domElement10 = scope.domElement) === null || _scope$domElement10 === void 0 ? void 0 : _scope$domElement10.ownerDocument.removeEventListener('pointermove', onPointerMove);\n        (_scope$domElement11 = scope.domElement) === null || _scope$domElement11 === void 0 ? void 0 : _scope$domElement11.ownerDocument.removeEventListener('pointerup', onPointerUp);\n      }\n\n      scope.dispatchEvent(endEvent);\n      state = STATE.NONE;\n    }\n\n    function onPointerCancel(event) {\n      removePointer(event);\n    }\n\n    function onMouseDown(event) {\n      let mouseAction;\n\n      switch (event.button) {\n        case 0:\n          mouseAction = scope.mouseButtons.LEFT;\n          break;\n\n        case 1:\n          mouseAction = scope.mouseButtons.MIDDLE;\n          break;\n\n        case 2:\n          mouseAction = scope.mouseButtons.RIGHT;\n          break;\n\n        default:\n          mouseAction = -1;\n      }\n\n      switch (mouseAction) {\n        case MOUSE.DOLLY:\n          if (scope.enableZoom === false) return;\n          handleMouseDownDolly(event);\n          state = STATE.DOLLY;\n          break;\n\n        case MOUSE.ROTATE:\n          if (event.ctrlKey || event.metaKey || event.shiftKey) {\n            if (scope.enablePan === false) return;\n            handleMouseDownPan(event);\n            state = STATE.PAN;\n          } else {\n            if (scope.enableRotate === false) return;\n            handleMouseDownRotate(event);\n            state = STATE.ROTATE;\n          }\n\n          break;\n\n        case MOUSE.PAN:\n          if (event.ctrlKey || event.metaKey || event.shiftKey) {\n            if (scope.enableRotate === false) return;\n            handleMouseDownRotate(event);\n            state = STATE.ROTATE;\n          } else {\n            if (scope.enablePan === false) return;\n            handleMouseDownPan(event);\n            state = STATE.PAN;\n          }\n\n          break;\n\n        default:\n          state = STATE.NONE;\n      }\n\n      if (state !== STATE.NONE) {\n        scope.dispatchEvent(startEvent);\n      }\n    }\n\n    function onMouseMove(event) {\n      if (scope.enabled === false) return;\n\n      switch (state) {\n        case STATE.ROTATE:\n          if (scope.enableRotate === false) return;\n          handleMouseMoveRotate(event);\n          break;\n\n        case STATE.DOLLY:\n          if (scope.enableZoom === false) return;\n          handleMouseMoveDolly(event);\n          break;\n\n        case STATE.PAN:\n          if (scope.enablePan === false) return;\n          handleMouseMovePan(event);\n          break;\n      }\n    }\n\n    function onMouseWheel(event) {\n      if (scope.enabled === false || scope.enableZoom === false || state !== STATE.NONE && state !== STATE.ROTATE) {\n        return;\n      }\n\n      event.preventDefault();\n      scope.dispatchEvent(startEvent);\n      handleMouseWheel(event);\n      scope.dispatchEvent(endEvent);\n    }\n\n    function onKeyDown(event) {\n      if (scope.enabled === false || scope.enablePan === false) return;\n      handleKeyDown(event);\n    }\n\n    function onTouchStart(event) {\n      trackPointer(event);\n\n      switch (pointers.length) {\n        case 1:\n          switch (scope.touches.ONE) {\n            case TOUCH.ROTATE:\n              if (scope.enableRotate === false) return;\n              handleTouchStartRotate();\n              state = STATE.TOUCH_ROTATE;\n              break;\n\n            case TOUCH.PAN:\n              if (scope.enablePan === false) return;\n              handleTouchStartPan();\n              state = STATE.TOUCH_PAN;\n              break;\n\n            default:\n              state = STATE.NONE;\n          }\n\n          break;\n\n        case 2:\n          switch (scope.touches.TWO) {\n            case TOUCH.DOLLY_PAN:\n              if (scope.enableZoom === false && scope.enablePan === false) return;\n              handleTouchStartDollyPan();\n              state = STATE.TOUCH_DOLLY_PAN;\n              break;\n\n            case TOUCH.DOLLY_ROTATE:\n              if (scope.enableZoom === false && scope.enableRotate === false) return;\n              handleTouchStartDollyRotate();\n              state = STATE.TOUCH_DOLLY_ROTATE;\n              break;\n\n            default:\n              state = STATE.NONE;\n          }\n\n          break;\n\n        default:\n          state = STATE.NONE;\n      }\n\n      if (state !== STATE.NONE) {\n        scope.dispatchEvent(startEvent);\n      }\n    }\n\n    function onTouchMove(event) {\n      trackPointer(event);\n\n      switch (state) {\n        case STATE.TOUCH_ROTATE:\n          if (scope.enableRotate === false) return;\n          handleTouchMoveRotate(event);\n          scope.update();\n          break;\n\n        case STATE.TOUCH_PAN:\n          if (scope.enablePan === false) return;\n          handleTouchMovePan(event);\n          scope.update();\n          break;\n\n        case STATE.TOUCH_DOLLY_PAN:\n          if (scope.enableZoom === false && scope.enablePan === false) return;\n          handleTouchMoveDollyPan(event);\n          scope.update();\n          break;\n\n        case STATE.TOUCH_DOLLY_ROTATE:\n          if (scope.enableZoom === false && scope.enableRotate === false) return;\n          handleTouchMoveDollyRotate(event);\n          scope.update();\n          break;\n\n        default:\n          state = STATE.NONE;\n      }\n    }\n\n    function onContextMenu(event) {\n      if (scope.enabled === false) return;\n      event.preventDefault();\n    }\n\n    function addPointer(event) {\n      pointers.push(event);\n    }\n\n    function removePointer(event) {\n      delete pointerPositions[event.pointerId];\n\n      for (let i = 0; i < pointers.length; i++) {\n        if (pointers[i].pointerId == event.pointerId) {\n          pointers.splice(i, 1);\n          return;\n        }\n      }\n    }\n\n    function trackPointer(event) {\n      let position = pointerPositions[event.pointerId];\n\n      if (position === undefined) {\n        position = new Vector2();\n        pointerPositions[event.pointerId] = position;\n      }\n\n      position.set(event.pageX, event.pageY);\n    }\n\n    function getSecondPointerPosition(event) {\n      const pointer = event.pointerId === pointers[0].pointerId ? pointers[1] : pointers[0];\n      return pointerPositions[pointer.pointerId];\n    } // connect events\n\n\n    if (domElement !== undefined) this.connect(domElement); // force an update at start\n\n    this.update();\n  }\n\n} // This set of controls performs orbiting, dollying (zooming), and panning.\n// Unlike TrackballControls, it maintains the \"up\" direction object.up (+Y by default).\n// This is very similar to OrbitControls, another set of touch behavior\n//\n//    Orbit - right mouse, or left mouse + ctrl/meta/shiftKey / touch: two-finger rotate\n//    Zoom - middle mouse, or mousewheel / touch: two-finger spread or squish\n//    Pan - left mouse, or arrow keys / touch: one-finger move\n\n\nclass MapControls extends OrbitControls {\n  constructor(object, domElement) {\n    super(object, domElement);\n    this.screenSpacePanning = false; // pan orthogonal to world-space direction camera.up\n\n    this.mouseButtons.LEFT = MOUSE.PAN;\n    this.mouseButtons.RIGHT = MOUSE.ROTATE;\n    this.touches.ONE = TOUCH.PAN;\n    this.touches.TWO = TOUCH.DOLLY_ROTATE;\n  }\n\n}\n\nexport { MapControls, OrbitControls };\n","import _extends from '@babel/runtime/helpers/esm/extends';\nimport { useThree, useFrame } from '@react-three/fiber';\nimport * as React from 'react';\nimport { OrbitControls as OrbitControls$1 } from 'three-stdlib';\n\nconst OrbitControls = /*#__PURE__*/React.forwardRef(({\n  makeDefault,\n  camera,\n  regress,\n  domElement,\n  enableDamping = true,\n  onChange,\n  onStart,\n  onEnd,\n  ...restProps\n}, ref) => {\n  const invalidate = useThree(state => state.invalidate);\n  const defaultCamera = useThree(state => state.camera);\n  const gl = useThree(state => state.gl);\n  const events = useThree(state => state.events);\n  const set = useThree(state => state.set);\n  const get = useThree(state => state.get);\n  const performance = useThree(state => state.performance);\n  const explCamera = camera || defaultCamera;\n  const explDomElement = domElement || events.connected || gl.domElement;\n  const controls = React.useMemo(() => new OrbitControls$1(explCamera), [explCamera]);\n  useFrame(() => {\n    if (controls.enabled) controls.update();\n  }, -1);\n  React.useEffect(() => {\n    controls.connect(explDomElement);\n    return () => void controls.dispose();\n  }, [explDomElement, regress, controls, invalidate]);\n  React.useEffect(() => {\n    const callback = e => {\n      invalidate();\n      if (regress) performance.regress();\n      if (onChange) onChange(e);\n    };\n\n    controls.addEventListener('change', callback);\n    if (onStart) controls.addEventListener('start', onStart);\n    if (onEnd) controls.addEventListener('end', onEnd);\n    return () => {\n      if (onStart) controls.removeEventListener('start', onStart);\n      if (onEnd) controls.removeEventListener('end', onEnd);\n      controls.removeEventListener('change', callback);\n    };\n  }, [onChange, onStart, onEnd]);\n  React.useEffect(() => {\n    if (makeDefault) {\n      const old = get().controls;\n      set({\n        controls\n      });\n      return () => set({\n        controls: old\n      });\n    }\n  }, [makeDefault, controls]);\n  return /*#__PURE__*/React.createElement(\"primitive\", _extends({\n    ref: ref,\n    object: controls,\n    enableDamping: enableDamping\n  }, restProps));\n});\n\nexport { OrbitControls };\n","// This file is part of meshoptimizer library and is distributed under the terms of MIT License.\n// Copyright (C) 2016-2020, by Arseny Kapoulkine (arseny.kapoulkine@gmail.com)\nlet generated;\n\nconst MeshoptDecoder = () => {\n  if (generated) return generated; // Built with clang version 11.0.0 (https://github.com/llvm/llvm-project.git 0160ad802e899c2922bc9b29564080c22eb0908c)\n  // Built from meshoptimizer 0.14\n\n  const wasm_base = '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';\n  const wasm_simd = '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'; // Uses bulk-memory and simd extensions\n\n  const detector = new Uint8Array([0, 97, 115, 109, 1, 0, 0, 0, 1, 4, 1, 96, 0, 0, 3, 3, 2, 0, 0, 5, 3, 1, 0, 1, 12, 1, 0, 10, 22, 2, 12, 0, 65, 0, 65, 0, 65, 0, 252, 10, 0, 0, 11, 7, 0, 65, 0, 253, 15, 26, 11]); // Used to unpack wasm\n\n  const wasmpack = new Uint8Array([32, 0, 65, 253, 3, 1, 2, 34, 4, 106, 6, 5, 11, 8, 7, 20, 13, 33, 12, 16, 128, 9, 116, 64, 19, 113, 127, 15, 10, 21, 22, 14, 255, 66, 24, 54, 136, 107, 18, 23, 192, 26, 114, 118, 132, 17, 77, 101, 130, 144, 27, 87, 131, 44, 45, 74, 156, 154, 70, 167]);\n\n  if (typeof WebAssembly !== 'object') {\n    // This module requires WebAssembly to function\n    return {\n      supported: false\n    };\n  }\n\n  let wasm = wasm_base;\n\n  if (WebAssembly.validate(detector)) {\n    wasm = wasm_simd;\n  }\n\n  let instance;\n  const promise = WebAssembly.instantiate(unpack(wasm), {}).then(result => {\n    instance = result.instance;\n\n    instance.exports.__wasm_call_ctors();\n  });\n\n  function unpack(data) {\n    const result = new Uint8Array(data.length);\n\n    for (let i = 0; i < data.length; ++i) {\n      const ch = data.charCodeAt(i);\n      result[i] = ch > 96 ? ch - 71 : ch > 64 ? ch - 65 : ch > 47 ? ch + 4 : ch > 46 ? 63 : 62;\n    }\n\n    let write = 0;\n\n    for (let i = 0; i < data.length; ++i) {\n      result[write++] = result[i] < 60 ? wasmpack[result[i]] : (result[i] - 60) * 64 + result[++i];\n    }\n\n    return result.buffer.slice(0, write);\n  }\n\n  function decode(fun, target, count, size, source, filter) {\n    const sbrk = instance.exports.sbrk;\n    const count4 = count + 3 & ~3; // pad for SIMD filter\n\n    const tp = sbrk(count4 * size);\n    const sp = sbrk(source.length);\n    const heap = new Uint8Array(instance.exports.memory.buffer);\n    heap.set(source, sp);\n    const res = fun(tp, count, size, sp, source.length);\n\n    if (res === 0 && filter) {\n      filter(tp, count4, size);\n    }\n\n    target.set(heap.subarray(tp, tp + count * size));\n    sbrk(tp - sbrk(0));\n\n    if (res !== 0) {\n      throw new Error(`Malformed buffer data: ${res}`);\n    }\n  }\n\n  const filters = {\n    // legacy index-based enums for glTF\n    0: '',\n    1: 'meshopt_decodeFilterOct',\n    2: 'meshopt_decodeFilterQuat',\n    3: 'meshopt_decodeFilterExp',\n    // string-based enums for glTF\n    NONE: '',\n    OCTAHEDRAL: 'meshopt_decodeFilterOct',\n    QUATERNION: 'meshopt_decodeFilterQuat',\n    EXPONENTIAL: 'meshopt_decodeFilterExp'\n  };\n  const decoders = {\n    // legacy index-based enums for glTF\n    0: 'meshopt_decodeVertexBuffer',\n    1: 'meshopt_decodeIndexBuffer',\n    2: 'meshopt_decodeIndexSequence',\n    // string-based enums for glTF\n    ATTRIBUTES: 'meshopt_decodeVertexBuffer',\n    TRIANGLES: 'meshopt_decodeIndexBuffer',\n    INDICES: 'meshopt_decodeIndexSequence'\n  };\n  generated = {\n    ready: promise,\n    supported: true,\n\n    decodeVertexBuffer(target, count, size, source, filter) {\n      decode(instance.exports.meshopt_decodeVertexBuffer, target, count, size, source, instance.exports[filters[filter]]);\n    },\n\n    decodeIndexBuffer(target, count, size, source) {\n      decode(instance.exports.meshopt_decodeIndexBuffer, target, count, size, source);\n    },\n\n    decodeIndexSequence(target, count, size, source) {\n      decode(instance.exports.meshopt_decodeIndexSequence, target, count, size, source);\n    },\n\n    decodeGltfBuffer(target, count, size, source, mode, filter) {\n      decode(instance.exports[decoders[mode]], target, count, size, source, instance.exports[filters[filter]]);\n    }\n\n  };\n  return generated;\n};\n\nexport { MeshoptDecoder };\n","import { Loader, FileLoader, BufferGeometry, BufferAttribute } from 'three';\n\nconst _taskCache = new WeakMap();\n\nclass DRACOLoader extends Loader {\n  constructor(manager) {\n    super(manager);\n    this.decoderPath = '';\n    this.decoderConfig = {};\n    this.decoderBinary = null;\n    this.decoderPending = null;\n    this.workerLimit = 4;\n    this.workerPool = [];\n    this.workerNextTaskID = 1;\n    this.workerSourceURL = '';\n    this.defaultAttributeIDs = {\n      position: 'POSITION',\n      normal: 'NORMAL',\n      color: 'COLOR',\n      uv: 'TEX_COORD'\n    };\n    this.defaultAttributeTypes = {\n      position: 'Float32Array',\n      normal: 'Float32Array',\n      color: 'Float32Array',\n      uv: 'Float32Array'\n    };\n  }\n\n  setDecoderPath(path) {\n    this.decoderPath = path;\n    return this;\n  }\n\n  setDecoderConfig(config) {\n    this.decoderConfig = config;\n    return this;\n  }\n\n  setWorkerLimit(workerLimit) {\n    this.workerLimit = workerLimit;\n    return this;\n  }\n\n  load(url, onLoad, onProgress, onError) {\n    const loader = new FileLoader(this.manager);\n    loader.setPath(this.path);\n    loader.setResponseType('arraybuffer');\n    loader.setRequestHeader(this.requestHeader);\n    loader.setWithCredentials(this.withCredentials);\n    loader.load(url, buffer => {\n      const taskConfig = {\n        attributeIDs: this.defaultAttributeIDs,\n        attributeTypes: this.defaultAttributeTypes,\n        useUniqueIDs: false\n      };\n      this.decodeGeometry(buffer, taskConfig).then(onLoad).catch(onError);\n    }, onProgress, onError);\n  }\n  /** @deprecated Kept for backward-compatibility with previous DRACOLoader versions. */\n\n\n  decodeDracoFile(buffer, callback, attributeIDs, attributeTypes) {\n    const taskConfig = {\n      attributeIDs: attributeIDs || this.defaultAttributeIDs,\n      attributeTypes: attributeTypes || this.defaultAttributeTypes,\n      useUniqueIDs: !!attributeIDs\n    };\n    this.decodeGeometry(buffer, taskConfig).then(callback);\n  }\n\n  decodeGeometry(buffer, taskConfig) {\n    // TODO: For backward-compatibility, support 'attributeTypes' objects containing\n    // references (rather than names) to typed array constructors. These must be\n    // serialized before sending them to the worker.\n    for (const attribute in taskConfig.attributeTypes) {\n      const type = taskConfig.attributeTypes[attribute];\n\n      if (type.BYTES_PER_ELEMENT !== undefined) {\n        taskConfig.attributeTypes[attribute] = type.name;\n      }\n    } //\n\n\n    const taskKey = JSON.stringify(taskConfig); // Check for an existing task using this buffer. A transferred buffer cannot be transferred\n    // again from this thread.\n\n    if (_taskCache.has(buffer)) {\n      const cachedTask = _taskCache.get(buffer);\n\n      if (cachedTask.key === taskKey) {\n        return cachedTask.promise;\n      } else if (buffer.byteLength === 0) {\n        // Technically, it would be possible to wait for the previous task to complete,\n        // transfer the buffer back, and decode again with the second configuration. That\n        // is complex, and I don't know of any reason to decode a Draco buffer twice in\n        // different ways, so this is left unimplemented.\n        throw new Error('THREE.DRACOLoader: Unable to re-decode a buffer with different ' + 'settings. Buffer has already been transferred.');\n      }\n    } //\n\n\n    let worker;\n    const taskID = this.workerNextTaskID++;\n    const taskCost = buffer.byteLength; // Obtain a worker and assign a task, and construct a geometry instance\n    // when the task completes.\n\n    const geometryPending = this._getWorker(taskID, taskCost).then(_worker => {\n      worker = _worker;\n      return new Promise((resolve, reject) => {\n        worker._callbacks[taskID] = {\n          resolve,\n          reject\n        };\n        worker.postMessage({\n          type: 'decode',\n          id: taskID,\n          taskConfig,\n          buffer\n        }, [buffer]); // this.debug();\n      });\n    }).then(message => this._createGeometry(message.geometry)); // Remove task from the task list.\n    // Note: replaced '.finally()' with '.catch().then()' block - iOS 11 support (#19416)\n\n\n    geometryPending.catch(() => true).then(() => {\n      if (worker && taskID) {\n        this._releaseTask(worker, taskID); // this.debug();\n\n      }\n    }); // Cache the task result.\n\n    _taskCache.set(buffer, {\n      key: taskKey,\n      promise: geometryPending\n    });\n\n    return geometryPending;\n  }\n\n  _createGeometry(geometryData) {\n    const geometry = new BufferGeometry();\n\n    if (geometryData.index) {\n      geometry.setIndex(new BufferAttribute(geometryData.index.array, 1));\n    }\n\n    for (let i = 0; i < geometryData.attributes.length; i++) {\n      const attribute = geometryData.attributes[i];\n      const name = attribute.name;\n      const array = attribute.array;\n      const itemSize = attribute.itemSize;\n      geometry.setAttribute(name, new BufferAttribute(array, itemSize));\n    }\n\n    return geometry;\n  }\n\n  _loadLibrary(url, responseType) {\n    const loader = new FileLoader(this.manager);\n    loader.setPath(this.decoderPath);\n    loader.setResponseType(responseType);\n    loader.setWithCredentials(this.withCredentials);\n    return new Promise((resolve, reject) => {\n      loader.load(url, resolve, undefined, reject);\n    });\n  }\n\n  preload() {\n    this._initDecoder();\n\n    return this;\n  }\n\n  _initDecoder() {\n    if (this.decoderPending) return this.decoderPending;\n    const useJS = typeof WebAssembly !== 'object' || this.decoderConfig.type === 'js';\n    const librariesPending = [];\n\n    if (useJS) {\n      librariesPending.push(this._loadLibrary('draco_decoder.js', 'text'));\n    } else {\n      librariesPending.push(this._loadLibrary('draco_wasm_wrapper.js', 'text'));\n      librariesPending.push(this._loadLibrary('draco_decoder.wasm', 'arraybuffer'));\n    }\n\n    this.decoderPending = Promise.all(librariesPending).then(libraries => {\n      const jsContent = libraries[0];\n\n      if (!useJS) {\n        this.decoderConfig.wasmBinary = libraries[1];\n      }\n\n      const fn = DRACOWorker.toString();\n      const body = ['/* draco decoder */', jsContent, '', '/* worker */', fn.substring(fn.indexOf('{') + 1, fn.lastIndexOf('}'))].join('\\n');\n      this.workerSourceURL = URL.createObjectURL(new Blob([body]));\n    });\n    return this.decoderPending;\n  }\n\n  _getWorker(taskID, taskCost) {\n    return this._initDecoder().then(() => {\n      if (this.workerPool.length < this.workerLimit) {\n        const worker = new Worker(this.workerSourceURL);\n        worker._callbacks = {};\n        worker._taskCosts = {};\n        worker._taskLoad = 0;\n        worker.postMessage({\n          type: 'init',\n          decoderConfig: this.decoderConfig\n        });\n\n        worker.onmessage = function (e) {\n          const message = e.data;\n\n          switch (message.type) {\n            case 'decode':\n              worker._callbacks[message.id].resolve(message);\n\n              break;\n\n            case 'error':\n              worker._callbacks[message.id].reject(message);\n\n              break;\n\n            default:\n              console.error('THREE.DRACOLoader: Unexpected message, \"' + message.type + '\"');\n          }\n        };\n\n        this.workerPool.push(worker);\n      } else {\n        this.workerPool.sort(function (a, b) {\n          return a._taskLoad > b._taskLoad ? -1 : 1;\n        });\n      }\n\n      const worker = this.workerPool[this.workerPool.length - 1];\n      worker._taskCosts[taskID] = taskCost;\n      worker._taskLoad += taskCost;\n      return worker;\n    });\n  }\n\n  _releaseTask(worker, taskID) {\n    worker._taskLoad -= worker._taskCosts[taskID];\n    delete worker._callbacks[taskID];\n    delete worker._taskCosts[taskID];\n  }\n\n  debug() {\n    console.log('Task load: ', this.workerPool.map(worker => worker._taskLoad));\n  }\n\n  dispose() {\n    for (let i = 0; i < this.workerPool.length; ++i) {\n      this.workerPool[i].terminate();\n    }\n\n    this.workerPool.length = 0;\n    return this;\n  }\n\n}\n/* WEB WORKER */\n\n\nfunction DRACOWorker() {\n  let decoderConfig;\n  let decoderPending;\n\n  onmessage = function (e) {\n    const message = e.data;\n\n    switch (message.type) {\n      case 'init':\n        decoderConfig = message.decoderConfig;\n        decoderPending = new Promise(function (resolve\n        /*, reject*/\n        ) {\n          decoderConfig.onModuleLoaded = function (draco) {\n            // Module is Promise-like. Wrap before resolving to avoid loop.\n            resolve({\n              draco: draco\n            });\n          };\n\n          DracoDecoderModule(decoderConfig); // eslint-disable-line no-undef\n        });\n        break;\n\n      case 'decode':\n        const buffer = message.buffer;\n        const taskConfig = message.taskConfig;\n        decoderPending.then(module => {\n          const draco = module.draco;\n          const decoder = new draco.Decoder();\n          const decoderBuffer = new draco.DecoderBuffer();\n          decoderBuffer.Init(new Int8Array(buffer), buffer.byteLength);\n\n          try {\n            const geometry = decodeGeometry(draco, decoder, decoderBuffer, taskConfig);\n            const buffers = geometry.attributes.map(attr => attr.array.buffer);\n            if (geometry.index) buffers.push(geometry.index.array.buffer);\n            self.postMessage({\n              type: 'decode',\n              id: message.id,\n              geometry\n            }, buffers);\n          } catch (error) {\n            console.error(error);\n            self.postMessage({\n              type: 'error',\n              id: message.id,\n              error: error.message\n            });\n          } finally {\n            draco.destroy(decoderBuffer);\n            draco.destroy(decoder);\n          }\n        });\n        break;\n    }\n  };\n\n  function decodeGeometry(draco, decoder, decoderBuffer, taskConfig) {\n    const attributeIDs = taskConfig.attributeIDs;\n    const attributeTypes = taskConfig.attributeTypes;\n    let dracoGeometry;\n    let decodingStatus;\n    const geometryType = decoder.GetEncodedGeometryType(decoderBuffer);\n\n    if (geometryType === draco.TRIANGULAR_MESH) {\n      dracoGeometry = new draco.Mesh();\n      decodingStatus = decoder.DecodeBufferToMesh(decoderBuffer, dracoGeometry);\n    } else if (geometryType === draco.POINT_CLOUD) {\n      dracoGeometry = new draco.PointCloud();\n      decodingStatus = decoder.DecodeBufferToPointCloud(decoderBuffer, dracoGeometry);\n    } else {\n      throw new Error('THREE.DRACOLoader: Unexpected geometry type.');\n    }\n\n    if (!decodingStatus.ok() || dracoGeometry.ptr === 0) {\n      throw new Error('THREE.DRACOLoader: Decoding failed: ' + decodingStatus.error_msg());\n    }\n\n    const geometry = {\n      index: null,\n      attributes: []\n    }; // Gather all vertex attributes.\n\n    for (const attributeName in attributeIDs) {\n      const attributeType = self[attributeTypes[attributeName]];\n      let attribute;\n      let attributeID; // A Draco file may be created with default vertex attributes, whose attribute IDs\n      // are mapped 1:1 from their semantic name (POSITION, NORMAL, ...). Alternatively,\n      // a Draco file may contain a custom set of attributes, identified by known unique\n      // IDs. glTF files always do the latter, and `.drc` files typically do the former.\n\n      if (taskConfig.useUniqueIDs) {\n        attributeID = attributeIDs[attributeName];\n        attribute = decoder.GetAttributeByUniqueId(dracoGeometry, attributeID);\n      } else {\n        attributeID = decoder.GetAttributeId(dracoGeometry, draco[attributeIDs[attributeName]]);\n        if (attributeID === -1) continue;\n        attribute = decoder.GetAttribute(dracoGeometry, attributeID);\n      }\n\n      geometry.attributes.push(decodeAttribute(draco, decoder, dracoGeometry, attributeName, attributeType, attribute));\n    } // Add index.\n\n\n    if (geometryType === draco.TRIANGULAR_MESH) {\n      geometry.index = decodeIndex(draco, decoder, dracoGeometry);\n    }\n\n    draco.destroy(dracoGeometry);\n    return geometry;\n  }\n\n  function decodeIndex(draco, decoder, dracoGeometry) {\n    const numFaces = dracoGeometry.num_faces();\n    const numIndices = numFaces * 3;\n    const byteLength = numIndices * 4;\n\n    const ptr = draco._malloc(byteLength);\n\n    decoder.GetTrianglesUInt32Array(dracoGeometry, byteLength, ptr);\n    const index = new Uint32Array(draco.HEAPF32.buffer, ptr, numIndices).slice();\n\n    draco._free(ptr);\n\n    return {\n      array: index,\n      itemSize: 1\n    };\n  }\n\n  function decodeAttribute(draco, decoder, dracoGeometry, attributeName, attributeType, attribute) {\n    const numComponents = attribute.num_components();\n    const numPoints = dracoGeometry.num_points();\n    const numValues = numPoints * numComponents;\n    const byteLength = numValues * attributeType.BYTES_PER_ELEMENT;\n    const dataType = getDracoDataType(draco, attributeType);\n\n    const ptr = draco._malloc(byteLength);\n\n    decoder.GetAttributeDataArrayForAllPoints(dracoGeometry, attribute, dataType, byteLength, ptr);\n    const array = new attributeType(draco.HEAPF32.buffer, ptr, numValues).slice();\n\n    draco._free(ptr);\n\n    return {\n      name: attributeName,\n      array: array,\n      itemSize: numComponents\n    };\n  }\n\n  function getDracoDataType(draco, attributeType) {\n    switch (attributeType) {\n      case Float32Array:\n        return draco.DT_FLOAT32;\n\n      case Int8Array:\n        return draco.DT_INT8;\n\n      case Int16Array:\n        return draco.DT_INT16;\n\n      case Int32Array:\n        return draco.DT_INT32;\n\n      case Uint8Array:\n        return draco.DT_UINT8;\n\n      case Uint16Array:\n        return draco.DT_UINT16;\n\n      case Uint32Array:\n        return draco.DT_UINT32;\n    }\n  }\n}\n\nexport { DRACOLoader };\n","import { Loader, LoaderUtils, FileLoader, Color, SpotLight, PointLight, DirectionalLight, MeshBasicMaterial, MeshPhysicalMaterial, Vector2, sRGBEncoding, TangentSpaceNormalMap, Quaternion, ImageBitmapLoader, TextureLoader, InterleavedBuffer, InterleavedBufferAttribute, BufferAttribute, LinearFilter, LinearMipmapLinearFilter, RepeatWrapping, PointsMaterial, Material, LineBasicMaterial, MeshStandardMaterial, DoubleSide, PropertyBinding, BufferGeometry, SkinnedMesh, Mesh, LineSegments, Line, LineLoop, Points, Group, PerspectiveCamera, MathUtils, OrthographicCamera, InterpolateLinear, AnimationClip, Bone, Object3D, Matrix4, Skeleton, TriangleFanDrawMode, NearestFilter, NearestMipmapNearestFilter, LinearMipmapNearestFilter, NearestMipmapLinearFilter, ClampToEdgeWrapping, MirroredRepeatWrapping, InterpolateDiscrete, FrontSide, Texture, TriangleStripDrawMode, VectorKeyframeTrack, QuaternionKeyframeTrack, NumberKeyframeTrack, Box3, Vector3, Sphere, Interpolant } from 'three';\n\nclass GLTFLoader extends Loader {\n  constructor(manager) {\n    super(manager);\n    this.dracoLoader = null;\n    this.ktx2Loader = null;\n    this.meshoptDecoder = null;\n    this.pluginCallbacks = [];\n    this.register(function (parser) {\n      return new GLTFMaterialsClearcoatExtension(parser);\n    });\n    this.register(function (parser) {\n      return new GLTFTextureBasisUExtension(parser);\n    });\n    this.register(function (parser) {\n      return new GLTFTextureWebPExtension(parser);\n    });\n    this.register(function (parser) {\n      return new GLTFMaterialsSheenExtension(parser);\n    });\n    this.register(function (parser) {\n      return new GLTFMaterialsTransmissionExtension(parser);\n    });\n    this.register(function (parser) {\n      return new GLTFMaterialsVolumeExtension(parser);\n    });\n    this.register(function (parser) {\n      return new GLTFMaterialsIorExtension(parser);\n    });\n    this.register(function (parser) {\n      return new GLTFMaterialsSpecularExtension(parser);\n    });\n    this.register(function (parser) {\n      return new GLTFLightsExtension(parser);\n    });\n    this.register(function (parser) {\n      return new GLTFMeshoptCompression(parser);\n    });\n  }\n\n  load(url, onLoad, onProgress, onError) {\n    const scope = this;\n    let resourcePath;\n\n    if (this.resourcePath !== '') {\n      resourcePath = this.resourcePath;\n    } else if (this.path !== '') {\n      resourcePath = this.path;\n    } else {\n      resourcePath = LoaderUtils.extractUrlBase(url);\n    } // Tells the LoadingManager to track an extra item, which resolves after\n    // the model is fully loaded. This means the count of items loaded will\n    // be incorrect, but ensures manager.onLoad() does not fire early.\n\n\n    this.manager.itemStart(url);\n\n    const _onError = function (e) {\n      if (onError) {\n        onError(e);\n      } else {\n        console.error(e);\n      }\n\n      scope.manager.itemError(url);\n      scope.manager.itemEnd(url);\n    };\n\n    const loader = new FileLoader(this.manager);\n    loader.setPath(this.path);\n    loader.setResponseType('arraybuffer');\n    loader.setRequestHeader(this.requestHeader);\n    loader.setWithCredentials(this.withCredentials);\n    loader.load(url, function (data) {\n      try {\n        scope.parse(data, resourcePath, function (gltf) {\n          onLoad(gltf);\n          scope.manager.itemEnd(url);\n        }, _onError);\n      } catch (e) {\n        _onError(e);\n      }\n    }, onProgress, _onError);\n  }\n\n  setDRACOLoader(dracoLoader) {\n    this.dracoLoader = dracoLoader;\n    return this;\n  }\n\n  setDDSLoader() {\n    throw new Error('THREE.GLTFLoader: \"MSFT_texture_dds\" no longer supported. Please update to \"KHR_texture_basisu\".');\n  }\n\n  setKTX2Loader(ktx2Loader) {\n    this.ktx2Loader = ktx2Loader;\n    return this;\n  }\n\n  setMeshoptDecoder(meshoptDecoder) {\n    this.meshoptDecoder = meshoptDecoder;\n    return this;\n  }\n\n  register(callback) {\n    if (this.pluginCallbacks.indexOf(callback) === -1) {\n      this.pluginCallbacks.push(callback);\n    }\n\n    return this;\n  }\n\n  unregister(callback) {\n    if (this.pluginCallbacks.indexOf(callback) !== -1) {\n      this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(callback), 1);\n    }\n\n    return this;\n  }\n\n  parse(data, path, onLoad, onError) {\n    let content;\n    const extensions = {};\n    const plugins = {};\n\n    if (typeof data === 'string') {\n      content = data;\n    } else {\n      const magic = LoaderUtils.decodeText(new Uint8Array(data, 0, 4));\n\n      if (magic === BINARY_EXTENSION_HEADER_MAGIC) {\n        try {\n          extensions[EXTENSIONS.KHR_BINARY_GLTF] = new GLTFBinaryExtension(data);\n        } catch (error) {\n          if (onError) onError(error);\n          return;\n        }\n\n        content = extensions[EXTENSIONS.KHR_BINARY_GLTF].content;\n      } else {\n        content = LoaderUtils.decodeText(new Uint8Array(data));\n      }\n    }\n\n    const json = JSON.parse(content);\n\n    if (json.asset === undefined || json.asset.version[0] < 2) {\n      if (onError) onError(new Error('THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported.'));\n      return;\n    }\n\n    const parser = new GLTFParser(json, {\n      path: path || this.resourcePath || '',\n      crossOrigin: this.crossOrigin,\n      requestHeader: this.requestHeader,\n      manager: this.manager,\n      ktx2Loader: this.ktx2Loader,\n      meshoptDecoder: this.meshoptDecoder\n    });\n    parser.fileLoader.setRequestHeader(this.requestHeader);\n\n    for (let i = 0; i < this.pluginCallbacks.length; i++) {\n      const plugin = this.pluginCallbacks[i](parser);\n      plugins[plugin.name] = plugin; // Workaround to avoid determining as unknown extension\n      // in addUnknownExtensionsToUserData().\n      // Remove this workaround if we move all the existing\n      // extension handlers to plugin system\n\n      extensions[plugin.name] = true;\n    }\n\n    if (json.extensionsUsed) {\n      for (let i = 0; i < json.extensionsUsed.length; ++i) {\n        const extensionName = json.extensionsUsed[i];\n        const extensionsRequired = json.extensionsRequired || [];\n\n        switch (extensionName) {\n          case EXTENSIONS.KHR_MATERIALS_UNLIT:\n            extensions[extensionName] = new GLTFMaterialsUnlitExtension();\n            break;\n\n          case EXTENSIONS.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:\n            extensions[extensionName] = new GLTFMaterialsPbrSpecularGlossinessExtension();\n            break;\n\n          case EXTENSIONS.KHR_DRACO_MESH_COMPRESSION:\n            extensions[extensionName] = new GLTFDracoMeshCompressionExtension(json, this.dracoLoader);\n            break;\n\n          case EXTENSIONS.KHR_TEXTURE_TRANSFORM:\n            extensions[extensionName] = new GLTFTextureTransformExtension();\n            break;\n\n          case EXTENSIONS.KHR_MESH_QUANTIZATION:\n            extensions[extensionName] = new GLTFMeshQuantizationExtension();\n            break;\n\n          default:\n            if (extensionsRequired.indexOf(extensionName) >= 0 && plugins[extensionName] === undefined) {\n              console.warn('THREE.GLTFLoader: Unknown extension \"' + extensionName + '\".');\n            }\n\n        }\n      }\n    }\n\n    parser.setExtensions(extensions);\n    parser.setPlugins(plugins);\n    parser.parse(onLoad, onError);\n  }\n\n  parseAsync(data, path) {\n    const scope = this;\n    return new Promise(function (resolve, reject) {\n      scope.parse(data, path, resolve, reject);\n    });\n  }\n\n}\n/* GLTFREGISTRY */\n\n\nfunction GLTFRegistry() {\n  let objects = {};\n  return {\n    get: function (key) {\n      return objects[key];\n    },\n    add: function (key, object) {\n      objects[key] = object;\n    },\n    remove: function (key) {\n      delete objects[key];\n    },\n    removeAll: function () {\n      objects = {};\n    }\n  };\n}\n/*********************************/\n\n/********** EXTENSIONS ***********/\n\n/*********************************/\n\n\nconst EXTENSIONS = {\n  KHR_BINARY_GLTF: 'KHR_binary_glTF',\n  KHR_DRACO_MESH_COMPRESSION: 'KHR_draco_mesh_compression',\n  KHR_LIGHTS_PUNCTUAL: 'KHR_lights_punctual',\n  KHR_MATERIALS_CLEARCOAT: 'KHR_materials_clearcoat',\n  KHR_MATERIALS_IOR: 'KHR_materials_ior',\n  KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS: 'KHR_materials_pbrSpecularGlossiness',\n  KHR_MATERIALS_SHEEN: 'KHR_materials_sheen',\n  KHR_MATERIALS_SPECULAR: 'KHR_materials_specular',\n  KHR_MATERIALS_TRANSMISSION: 'KHR_materials_transmission',\n  KHR_MATERIALS_UNLIT: 'KHR_materials_unlit',\n  KHR_MATERIALS_VOLUME: 'KHR_materials_volume',\n  KHR_TEXTURE_BASISU: 'KHR_texture_basisu',\n  KHR_TEXTURE_TRANSFORM: 'KHR_texture_transform',\n  KHR_MESH_QUANTIZATION: 'KHR_mesh_quantization',\n  EXT_TEXTURE_WEBP: 'EXT_texture_webp',\n  EXT_MESHOPT_COMPRESSION: 'EXT_meshopt_compression'\n};\n/**\n * Punctual Lights Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_lights_punctual\n */\n\nclass GLTFLightsExtension {\n  constructor(parser) {\n    this.parser = parser;\n    this.name = EXTENSIONS.KHR_LIGHTS_PUNCTUAL; // Object3D instance caches\n\n    this.cache = {\n      refs: {},\n      uses: {}\n    };\n  }\n\n  _markDefs() {\n    const parser = this.parser;\n    const nodeDefs = this.parser.json.nodes || [];\n\n    for (let nodeIndex = 0, nodeLength = nodeDefs.length; nodeIndex < nodeLength; nodeIndex++) {\n      const nodeDef = nodeDefs[nodeIndex];\n\n      if (nodeDef.extensions && nodeDef.extensions[this.name] && nodeDef.extensions[this.name].light !== undefined) {\n        parser._addNodeRef(this.cache, nodeDef.extensions[this.name].light);\n      }\n    }\n  }\n\n  _loadLight(lightIndex) {\n    const parser = this.parser;\n    const cacheKey = 'light:' + lightIndex;\n    let dependency = parser.cache.get(cacheKey);\n    if (dependency) return dependency;\n    const json = parser.json;\n    const extensions = json.extensions && json.extensions[this.name] || {};\n    const lightDefs = extensions.lights || [];\n    const lightDef = lightDefs[lightIndex];\n    let lightNode;\n    const color = new Color(0xffffff);\n    if (lightDef.color !== undefined) color.fromArray(lightDef.color);\n    const range = lightDef.range !== undefined ? lightDef.range : 0;\n\n    switch (lightDef.type) {\n      case 'directional':\n        lightNode = new DirectionalLight(color);\n        lightNode.target.position.set(0, 0, -1);\n        lightNode.add(lightNode.target);\n        break;\n\n      case 'point':\n        lightNode = new PointLight(color);\n        lightNode.distance = range;\n        break;\n\n      case 'spot':\n        lightNode = new SpotLight(color);\n        lightNode.distance = range; // Handle spotlight properties.\n\n        lightDef.spot = lightDef.spot || {};\n        lightDef.spot.innerConeAngle = lightDef.spot.innerConeAngle !== undefined ? lightDef.spot.innerConeAngle : 0;\n        lightDef.spot.outerConeAngle = lightDef.spot.outerConeAngle !== undefined ? lightDef.spot.outerConeAngle : Math.PI / 4.0;\n        lightNode.angle = lightDef.spot.outerConeAngle;\n        lightNode.penumbra = 1.0 - lightDef.spot.innerConeAngle / lightDef.spot.outerConeAngle;\n        lightNode.target.position.set(0, 0, -1);\n        lightNode.add(lightNode.target);\n        break;\n\n      default:\n        throw new Error('THREE.GLTFLoader: Unexpected light type: ' + lightDef.type);\n    } // Some lights (e.g. spot) default to a position other than the origin. Reset the position\n    // here, because node-level parsing will only override position if explicitly specified.\n\n\n    lightNode.position.set(0, 0, 0);\n    lightNode.decay = 2;\n    if (lightDef.intensity !== undefined) lightNode.intensity = lightDef.intensity;\n    lightNode.name = parser.createUniqueName(lightDef.name || 'light_' + lightIndex);\n    dependency = Promise.resolve(lightNode);\n    parser.cache.add(cacheKey, dependency);\n    return dependency;\n  }\n\n  createNodeAttachment(nodeIndex) {\n    const self = this;\n    const parser = this.parser;\n    const json = parser.json;\n    const nodeDef = json.nodes[nodeIndex];\n    const lightDef = nodeDef.extensions && nodeDef.extensions[this.name] || {};\n    const lightIndex = lightDef.light;\n    if (lightIndex === undefined) return null;\n    return this._loadLight(lightIndex).then(function (light) {\n      return parser._getNodeRef(self.cache, lightIndex, light);\n    });\n  }\n\n}\n/**\n * Unlit Materials Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_materials_unlit\n */\n\n\nclass GLTFMaterialsUnlitExtension {\n  constructor() {\n    this.name = EXTENSIONS.KHR_MATERIALS_UNLIT;\n  }\n\n  getMaterialType() {\n    return MeshBasicMaterial;\n  }\n\n  extendParams(materialParams, materialDef, parser) {\n    const pending = [];\n    materialParams.color = new Color(1.0, 1.0, 1.0);\n    materialParams.opacity = 1.0;\n    const metallicRoughness = materialDef.pbrMetallicRoughness;\n\n    if (metallicRoughness) {\n      if (Array.isArray(metallicRoughness.baseColorFactor)) {\n        const array = metallicRoughness.baseColorFactor;\n        materialParams.color.fromArray(array);\n        materialParams.opacity = array[3];\n      }\n\n      if (metallicRoughness.baseColorTexture !== undefined) {\n        pending.push(parser.assignTexture(materialParams, 'map', metallicRoughness.baseColorTexture));\n      }\n    }\n\n    return Promise.all(pending);\n  }\n\n}\n/**\n * Clearcoat Materials Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_materials_clearcoat\n */\n\n\nclass GLTFMaterialsClearcoatExtension {\n  constructor(parser) {\n    this.parser = parser;\n    this.name = EXTENSIONS.KHR_MATERIALS_CLEARCOAT;\n  }\n\n  getMaterialType(materialIndex) {\n    const parser = this.parser;\n    const materialDef = parser.json.materials[materialIndex];\n    if (!materialDef.extensions || !materialDef.extensions[this.name]) return null;\n    return MeshPhysicalMaterial;\n  }\n\n  extendMaterialParams(materialIndex, materialParams) {\n    const parser = this.parser;\n    const materialDef = parser.json.materials[materialIndex];\n\n    if (!materialDef.extensions || !materialDef.extensions[this.name]) {\n      return Promise.resolve();\n    }\n\n    const pending = [];\n    const extension = materialDef.extensions[this.name];\n\n    if (extension.clearcoatFactor !== undefined) {\n      materialParams.clearcoat = extension.clearcoatFactor;\n    }\n\n    if (extension.clearcoatTexture !== undefined) {\n      pending.push(parser.assignTexture(materialParams, 'clearcoatMap', extension.clearcoatTexture));\n    }\n\n    if (extension.clearcoatRoughnessFactor !== undefined) {\n      materialParams.clearcoatRoughness = extension.clearcoatRoughnessFactor;\n    }\n\n    if (extension.clearcoatRoughnessTexture !== undefined) {\n      pending.push(parser.assignTexture(materialParams, 'clearcoatRoughnessMap', extension.clearcoatRoughnessTexture));\n    }\n\n    if (extension.clearcoatNormalTexture !== undefined) {\n      pending.push(parser.assignTexture(materialParams, 'clearcoatNormalMap', extension.clearcoatNormalTexture));\n\n      if (extension.clearcoatNormalTexture.scale !== undefined) {\n        const scale = extension.clearcoatNormalTexture.scale;\n        materialParams.clearcoatNormalScale = new Vector2(scale, scale);\n      }\n    }\n\n    return Promise.all(pending);\n  }\n\n}\n/**\n * Sheen Materials Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/main/extensions/2.0/Khronos/KHR_materials_sheen\n */\n\n\nclass GLTFMaterialsSheenExtension {\n  constructor(parser) {\n    this.parser = parser;\n    this.name = EXTENSIONS.KHR_MATERIALS_SHEEN;\n  }\n\n  getMaterialType(materialIndex) {\n    const parser = this.parser;\n    const materialDef = parser.json.materials[materialIndex];\n    if (!materialDef.extensions || !materialDef.extensions[this.name]) return null;\n    return MeshPhysicalMaterial;\n  }\n\n  extendMaterialParams(materialIndex, materialParams) {\n    const parser = this.parser;\n    const materialDef = parser.json.materials[materialIndex];\n\n    if (!materialDef.extensions || !materialDef.extensions[this.name]) {\n      return Promise.resolve();\n    }\n\n    const pending = [];\n    materialParams.sheenColor = new Color(0, 0, 0);\n    materialParams.sheenRoughness = 0;\n    materialParams.sheen = 1;\n    const extension = materialDef.extensions[this.name];\n\n    if (extension.sheenColorFactor !== undefined) {\n      materialParams.sheenColor.fromArray(extension.sheenColorFactor);\n    }\n\n    if (extension.sheenRoughnessFactor !== undefined) {\n      materialParams.sheenRoughness = extension.sheenRoughnessFactor;\n    }\n\n    if (extension.sheenColorTexture !== undefined) {\n      pending.push(parser.assignTexture(materialParams, 'sheenColorMap', extension.sheenColorTexture));\n    }\n\n    if (extension.sheenRoughnessTexture !== undefined) {\n      pending.push(parser.assignTexture(materialParams, 'sheenRoughnessMap', extension.sheenRoughnessTexture));\n    }\n\n    return Promise.all(pending);\n  }\n\n}\n/**\n * Transmission Materials Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_materials_transmission\n * Draft: https://github.com/KhronosGroup/glTF/pull/1698\n */\n\n\nclass GLTFMaterialsTransmissionExtension {\n  constructor(parser) {\n    this.parser = parser;\n    this.name = EXTENSIONS.KHR_MATERIALS_TRANSMISSION;\n  }\n\n  getMaterialType(materialIndex) {\n    const parser = this.parser;\n    const materialDef = parser.json.materials[materialIndex];\n    if (!materialDef.extensions || !materialDef.extensions[this.name]) return null;\n    return MeshPhysicalMaterial;\n  }\n\n  extendMaterialParams(materialIndex, materialParams) {\n    const parser = this.parser;\n    const materialDef = parser.json.materials[materialIndex];\n\n    if (!materialDef.extensions || !materialDef.extensions[this.name]) {\n      return Promise.resolve();\n    }\n\n    const pending = [];\n    const extension = materialDef.extensions[this.name];\n\n    if (extension.transmissionFactor !== undefined) {\n      materialParams.transmission = extension.transmissionFactor;\n    }\n\n    if (extension.transmissionTexture !== undefined) {\n      pending.push(parser.assignTexture(materialParams, 'transmissionMap', extension.transmissionTexture));\n    }\n\n    return Promise.all(pending);\n  }\n\n}\n/**\n * Materials Volume Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_materials_volume\n */\n\n\nclass GLTFMaterialsVolumeExtension {\n  constructor(parser) {\n    this.parser = parser;\n    this.name = EXTENSIONS.KHR_MATERIALS_VOLUME;\n  }\n\n  getMaterialType(materialIndex) {\n    const parser = this.parser;\n    const materialDef = parser.json.materials[materialIndex];\n    if (!materialDef.extensions || !materialDef.extensions[this.name]) return null;\n    return MeshPhysicalMaterial;\n  }\n\n  extendMaterialParams(materialIndex, materialParams) {\n    const parser = this.parser;\n    const materialDef = parser.json.materials[materialIndex];\n\n    if (!materialDef.extensions || !materialDef.extensions[this.name]) {\n      return Promise.resolve();\n    }\n\n    const pending = [];\n    const extension = materialDef.extensions[this.name];\n    materialParams.thickness = extension.thicknessFactor !== undefined ? extension.thicknessFactor : 0;\n\n    if (extension.thicknessTexture !== undefined) {\n      pending.push(parser.assignTexture(materialParams, 'thicknessMap', extension.thicknessTexture));\n    }\n\n    materialParams.attenuationDistance = extension.attenuationDistance || 0;\n    const colorArray = extension.attenuationColor || [1, 1, 1];\n    materialParams.attenuationColor = new Color(colorArray[0], colorArray[1], colorArray[2]);\n    return Promise.all(pending);\n  }\n\n}\n/**\n * Materials ior Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_materials_ior\n */\n\n\nclass GLTFMaterialsIorExtension {\n  constructor(parser) {\n    this.parser = parser;\n    this.name = EXTENSIONS.KHR_MATERIALS_IOR;\n  }\n\n  getMaterialType(materialIndex) {\n    const parser = this.parser;\n    const materialDef = parser.json.materials[materialIndex];\n    if (!materialDef.extensions || !materialDef.extensions[this.name]) return null;\n    return MeshPhysicalMaterial;\n  }\n\n  extendMaterialParams(materialIndex, materialParams) {\n    const parser = this.parser;\n    const materialDef = parser.json.materials[materialIndex];\n\n    if (!materialDef.extensions || !materialDef.extensions[this.name]) {\n      return Promise.resolve();\n    }\n\n    const extension = materialDef.extensions[this.name];\n    materialParams.ior = extension.ior !== undefined ? extension.ior : 1.5;\n    return Promise.resolve();\n  }\n\n}\n/**\n * Materials specular Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_materials_specular\n */\n\n\nclass GLTFMaterialsSpecularExtension {\n  constructor(parser) {\n    this.parser = parser;\n    this.name = EXTENSIONS.KHR_MATERIALS_SPECULAR;\n  }\n\n  getMaterialType(materialIndex) {\n    const parser = this.parser;\n    const materialDef = parser.json.materials[materialIndex];\n    if (!materialDef.extensions || !materialDef.extensions[this.name]) return null;\n    return MeshPhysicalMaterial;\n  }\n\n  extendMaterialParams(materialIndex, materialParams) {\n    const parser = this.parser;\n    const materialDef = parser.json.materials[materialIndex];\n\n    if (!materialDef.extensions || !materialDef.extensions[this.name]) {\n      return Promise.resolve();\n    }\n\n    const pending = [];\n    const extension = materialDef.extensions[this.name];\n    materialParams.specularIntensity = extension.specularFactor !== undefined ? extension.specularFactor : 1.0;\n\n    if (extension.specularTexture !== undefined) {\n      pending.push(parser.assignTexture(materialParams, 'specularIntensityMap', extension.specularTexture));\n    }\n\n    const colorArray = extension.specularColorFactor || [1, 1, 1];\n    materialParams.specularColor = new Color(colorArray[0], colorArray[1], colorArray[2]);\n\n    if (extension.specularColorTexture !== undefined) {\n      pending.push(parser.assignTexture(materialParams, 'specularColorMap', extension.specularColorTexture).then(function (texture) {\n        texture.encoding = sRGBEncoding;\n      }));\n    }\n\n    return Promise.all(pending);\n  }\n\n}\n/**\n * BasisU Texture Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_texture_basisu\n */\n\n\nclass GLTFTextureBasisUExtension {\n  constructor(parser) {\n    this.parser = parser;\n    this.name = EXTENSIONS.KHR_TEXTURE_BASISU;\n  }\n\n  loadTexture(textureIndex) {\n    const parser = this.parser;\n    const json = parser.json;\n    const textureDef = json.textures[textureIndex];\n\n    if (!textureDef.extensions || !textureDef.extensions[this.name]) {\n      return null;\n    }\n\n    const extension = textureDef.extensions[this.name];\n    const source = json.images[extension.source];\n    const loader = parser.options.ktx2Loader;\n\n    if (!loader) {\n      if (json.extensionsRequired && json.extensionsRequired.indexOf(this.name) >= 0) {\n        throw new Error('THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures');\n      } else {\n        // Assumes that the extension is optional and that a fallback texture is present\n        return null;\n      }\n    }\n\n    return parser.loadTextureImage(textureIndex, source, loader);\n  }\n\n}\n/**\n * WebP Texture Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Vendor/EXT_texture_webp\n */\n\n\nclass GLTFTextureWebPExtension {\n  constructor(parser) {\n    this.parser = parser;\n    this.name = EXTENSIONS.EXT_TEXTURE_WEBP;\n    this.isSupported = null;\n  }\n\n  loadTexture(textureIndex) {\n    const name = this.name;\n    const parser = this.parser;\n    const json = parser.json;\n    const textureDef = json.textures[textureIndex];\n\n    if (!textureDef.extensions || !textureDef.extensions[name]) {\n      return null;\n    }\n\n    const extension = textureDef.extensions[name];\n    const source = json.images[extension.source];\n    let loader = parser.textureLoader;\n\n    if (source.uri) {\n      const handler = parser.options.manager.getHandler(source.uri);\n      if (handler !== null) loader = handler;\n    }\n\n    return this.detectSupport().then(function (isSupported) {\n      if (isSupported) return parser.loadTextureImage(textureIndex, source, loader);\n\n      if (json.extensionsRequired && json.extensionsRequired.indexOf(name) >= 0) {\n        throw new Error('THREE.GLTFLoader: WebP required by asset but unsupported.');\n      } // Fall back to PNG or JPEG.\n\n\n      return parser.loadTexture(textureIndex);\n    });\n  }\n\n  detectSupport() {\n    if (!this.isSupported) {\n      this.isSupported = new Promise(function (resolve) {\n        const image = new Image(); // Lossy test image. Support for lossy images doesn't guarantee support for all\n        // WebP images, unfortunately.\n\n        image.src = 'data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA';\n\n        image.onload = image.onerror = function () {\n          resolve(image.height === 1);\n        };\n      });\n    }\n\n    return this.isSupported;\n  }\n\n}\n/**\n * meshopt BufferView Compression Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Vendor/EXT_meshopt_compression\n */\n\n\nclass GLTFMeshoptCompression {\n  constructor(parser) {\n    this.name = EXTENSIONS.EXT_MESHOPT_COMPRESSION;\n    this.parser = parser;\n  }\n\n  loadBufferView(index) {\n    const json = this.parser.json;\n    const bufferView = json.bufferViews[index];\n\n    if (bufferView.extensions && bufferView.extensions[this.name]) {\n      const extensionDef = bufferView.extensions[this.name];\n      const buffer = this.parser.getDependency('buffer', extensionDef.buffer);\n      const decoder = this.parser.options.meshoptDecoder;\n\n      if (!decoder || !decoder.supported) {\n        if (json.extensionsRequired && json.extensionsRequired.indexOf(this.name) >= 0) {\n          throw new Error('THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files');\n        } else {\n          // Assumes that the extension is optional and that fallback buffer data is present\n          return null;\n        }\n      }\n\n      return Promise.all([buffer, decoder.ready]).then(function (res) {\n        const byteOffset = extensionDef.byteOffset || 0;\n        const byteLength = extensionDef.byteLength || 0;\n        const count = extensionDef.count;\n        const stride = extensionDef.byteStride;\n        const result = new ArrayBuffer(count * stride);\n        const source = new Uint8Array(res[0], byteOffset, byteLength);\n        decoder.decodeGltfBuffer(new Uint8Array(result), count, stride, source, extensionDef.mode, extensionDef.filter);\n        return result;\n      });\n    } else {\n      return null;\n    }\n  }\n\n}\n/* BINARY EXTENSION */\n\n\nconst BINARY_EXTENSION_HEADER_MAGIC = 'glTF';\nconst BINARY_EXTENSION_HEADER_LENGTH = 12;\nconst BINARY_EXTENSION_CHUNK_TYPES = {\n  JSON: 0x4e4f534a,\n  BIN: 0x004e4942\n};\n\nclass GLTFBinaryExtension {\n  constructor(data) {\n    this.name = EXTENSIONS.KHR_BINARY_GLTF;\n    this.content = null;\n    this.body = null;\n    const headerView = new DataView(data, 0, BINARY_EXTENSION_HEADER_LENGTH);\n    this.header = {\n      magic: LoaderUtils.decodeText(new Uint8Array(data.slice(0, 4))),\n      version: headerView.getUint32(4, true),\n      length: headerView.getUint32(8, true)\n    };\n\n    if (this.header.magic !== BINARY_EXTENSION_HEADER_MAGIC) {\n      throw new Error('THREE.GLTFLoader: Unsupported glTF-Binary header.');\n    } else if (this.header.version < 2.0) {\n      throw new Error('THREE.GLTFLoader: Legacy binary file detected.');\n    }\n\n    const chunkContentsLength = this.header.length - BINARY_EXTENSION_HEADER_LENGTH;\n    const chunkView = new DataView(data, BINARY_EXTENSION_HEADER_LENGTH);\n    let chunkIndex = 0;\n\n    while (chunkIndex < chunkContentsLength) {\n      const chunkLength = chunkView.getUint32(chunkIndex, true);\n      chunkIndex += 4;\n      const chunkType = chunkView.getUint32(chunkIndex, true);\n      chunkIndex += 4;\n\n      if (chunkType === BINARY_EXTENSION_CHUNK_TYPES.JSON) {\n        const contentArray = new Uint8Array(data, BINARY_EXTENSION_HEADER_LENGTH + chunkIndex, chunkLength);\n        this.content = LoaderUtils.decodeText(contentArray);\n      } else if (chunkType === BINARY_EXTENSION_CHUNK_TYPES.BIN) {\n        const byteOffset = BINARY_EXTENSION_HEADER_LENGTH + chunkIndex;\n        this.body = data.slice(byteOffset, byteOffset + chunkLength);\n      } // Clients must ignore chunks with unknown types.\n\n\n      chunkIndex += chunkLength;\n    }\n\n    if (this.content === null) {\n      throw new Error('THREE.GLTFLoader: JSON content not found.');\n    }\n  }\n\n}\n/**\n * DRACO Mesh Compression Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_draco_mesh_compression\n */\n\n\nclass GLTFDracoMeshCompressionExtension {\n  constructor(json, dracoLoader) {\n    if (!dracoLoader) {\n      throw new Error('THREE.GLTFLoader: No DRACOLoader instance provided.');\n    }\n\n    this.name = EXTENSIONS.KHR_DRACO_MESH_COMPRESSION;\n    this.json = json;\n    this.dracoLoader = dracoLoader;\n    this.dracoLoader.preload();\n  }\n\n  decodePrimitive(primitive, parser) {\n    const json = this.json;\n    const dracoLoader = this.dracoLoader;\n    const bufferViewIndex = primitive.extensions[this.name].bufferView;\n    const gltfAttributeMap = primitive.extensions[this.name].attributes;\n    const threeAttributeMap = {};\n    const attributeNormalizedMap = {};\n    const attributeTypeMap = {};\n\n    for (const attributeName in gltfAttributeMap) {\n      const threeAttributeName = ATTRIBUTES[attributeName] || attributeName.toLowerCase();\n      threeAttributeMap[threeAttributeName] = gltfAttributeMap[attributeName];\n    }\n\n    for (const attributeName in primitive.attributes) {\n      const threeAttributeName = ATTRIBUTES[attributeName] || attributeName.toLowerCase();\n\n      if (gltfAttributeMap[attributeName] !== undefined) {\n        const accessorDef = json.accessors[primitive.attributes[attributeName]];\n        const componentType = WEBGL_COMPONENT_TYPES[accessorDef.componentType];\n        attributeTypeMap[threeAttributeName] = componentType;\n        attributeNormalizedMap[threeAttributeName] = accessorDef.normalized === true;\n      }\n    }\n\n    return parser.getDependency('bufferView', bufferViewIndex).then(function (bufferView) {\n      return new Promise(function (resolve) {\n        dracoLoader.decodeDracoFile(bufferView, function (geometry) {\n          for (const attributeName in geometry.attributes) {\n            const attribute = geometry.attributes[attributeName];\n            const normalized = attributeNormalizedMap[attributeName];\n            if (normalized !== undefined) attribute.normalized = normalized;\n          }\n\n          resolve(geometry);\n        }, threeAttributeMap, attributeTypeMap);\n      });\n    });\n  }\n\n}\n/**\n * Texture Transform Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_texture_transform\n */\n\n\nclass GLTFTextureTransformExtension {\n  constructor() {\n    this.name = EXTENSIONS.KHR_TEXTURE_TRANSFORM;\n  }\n\n  extendTexture(texture, transform) {\n    if (transform.texCoord !== undefined) {\n      console.warn('THREE.GLTFLoader: Custom UV sets in \"' + this.name + '\" extension not yet supported.');\n    }\n\n    if (transform.offset === undefined && transform.rotation === undefined && transform.scale === undefined) {\n      // See https://github.com/mrdoob/three.js/issues/21819.\n      return texture;\n    }\n\n    texture = texture.clone();\n\n    if (transform.offset !== undefined) {\n      texture.offset.fromArray(transform.offset);\n    }\n\n    if (transform.rotation !== undefined) {\n      texture.rotation = transform.rotation;\n    }\n\n    if (transform.scale !== undefined) {\n      texture.repeat.fromArray(transform.scale);\n    }\n\n    texture.needsUpdate = true;\n    return texture;\n  }\n\n}\n/**\n * Specular-Glossiness Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/main/extensions/2.0/Archived/KHR_materials_pbrSpecularGlossiness\n */\n\n/**\n * A sub class of StandardMaterial with some of the functionality\n * changed via the `onBeforeCompile` callback\n * @pailhead\n */\n\n\nclass GLTFMeshStandardSGMaterial extends MeshStandardMaterial {\n  constructor(params) {\n    super();\n    this.isGLTFSpecularGlossinessMaterial = true; //various chunks that need replacing\n\n    const specularMapParsFragmentChunk = ['#ifdef USE_SPECULARMAP', '\tuniform sampler2D specularMap;', '#endif'].join('\\n');\n    const glossinessMapParsFragmentChunk = ['#ifdef USE_GLOSSINESSMAP', '\tuniform sampler2D glossinessMap;', '#endif'].join('\\n');\n    const specularMapFragmentChunk = ['vec3 specularFactor = specular;', '#ifdef USE_SPECULARMAP', '\tvec4 texelSpecular = texture2D( specularMap, vUv );', '\t// reads channel RGB, compatible with a glTF Specular-Glossiness (RGBA) texture', '\tspecularFactor *= texelSpecular.rgb;', '#endif'].join('\\n');\n    const glossinessMapFragmentChunk = ['float glossinessFactor = glossiness;', '#ifdef USE_GLOSSINESSMAP', '\tvec4 texelGlossiness = texture2D( glossinessMap, vUv );', '\t// reads channel A, compatible with a glTF Specular-Glossiness (RGBA) texture', '\tglossinessFactor *= texelGlossiness.a;', '#endif'].join('\\n');\n    const lightPhysicalFragmentChunk = ['PhysicalMaterial material;', 'material.diffuseColor = diffuseColor.rgb * ( 1. - max( specularFactor.r, max( specularFactor.g, specularFactor.b ) ) );', 'vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );', 'float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );', 'material.roughness = max( 1.0 - glossinessFactor, 0.0525 ); // 0.0525 corresponds to the base mip of a 256 cubemap.', 'material.roughness += geometryRoughness;', 'material.roughness = min( material.roughness, 1.0 );', 'material.specularColor = specularFactor;'].join('\\n');\n    const uniforms = {\n      specular: {\n        value: new Color().setHex(0xffffff)\n      },\n      glossiness: {\n        value: 1\n      },\n      specularMap: {\n        value: null\n      },\n      glossinessMap: {\n        value: null\n      }\n    };\n    this._extraUniforms = uniforms;\n\n    this.onBeforeCompile = function (shader) {\n      for (const uniformName in uniforms) {\n        shader.uniforms[uniformName] = uniforms[uniformName];\n      }\n\n      shader.fragmentShader = shader.fragmentShader.replace('uniform float roughness;', 'uniform vec3 specular;').replace('uniform float metalness;', 'uniform float glossiness;').replace('#include <roughnessmap_pars_fragment>', specularMapParsFragmentChunk).replace('#include <metalnessmap_pars_fragment>', glossinessMapParsFragmentChunk).replace('#include <roughnessmap_fragment>', specularMapFragmentChunk).replace('#include <metalnessmap_fragment>', glossinessMapFragmentChunk).replace('#include <lights_physical_fragment>', lightPhysicalFragmentChunk);\n    };\n\n    Object.defineProperties(this, {\n      specular: {\n        get: function () {\n          return uniforms.specular.value;\n        },\n        set: function (v) {\n          uniforms.specular.value = v;\n        }\n      },\n      specularMap: {\n        get: function () {\n          return uniforms.specularMap.value;\n        },\n        set: function (v) {\n          uniforms.specularMap.value = v;\n\n          if (v) {\n            this.defines.USE_SPECULARMAP = ''; // USE_UV is set by the renderer for specular maps\n          } else {\n            delete this.defines.USE_SPECULARMAP;\n          }\n        }\n      },\n      glossiness: {\n        get: function () {\n          return uniforms.glossiness.value;\n        },\n        set: function (v) {\n          uniforms.glossiness.value = v;\n        }\n      },\n      glossinessMap: {\n        get: function () {\n          return uniforms.glossinessMap.value;\n        },\n        set: function (v) {\n          uniforms.glossinessMap.value = v;\n\n          if (v) {\n            this.defines.USE_GLOSSINESSMAP = '';\n            this.defines.USE_UV = '';\n          } else {\n            delete this.defines.USE_GLOSSINESSMAP;\n            delete this.defines.USE_UV;\n          }\n        }\n      }\n    });\n    delete this.metalness;\n    delete this.roughness;\n    delete this.metalnessMap;\n    delete this.roughnessMap;\n    this.setValues(params);\n  }\n\n  copy(source) {\n    super.copy(source);\n    this.specularMap = source.specularMap;\n    this.specular.copy(source.specular);\n    this.glossinessMap = source.glossinessMap;\n    this.glossiness = source.glossiness;\n    delete this.metalness;\n    delete this.roughness;\n    delete this.metalnessMap;\n    delete this.roughnessMap;\n    return this;\n  }\n\n}\n\nclass GLTFMaterialsPbrSpecularGlossinessExtension {\n  constructor() {\n    this.name = EXTENSIONS.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS;\n    this.specularGlossinessParams = ['color', 'map', 'lightMap', 'lightMapIntensity', 'aoMap', 'aoMapIntensity', 'emissive', 'emissiveIntensity', 'emissiveMap', 'bumpMap', 'bumpScale', 'normalMap', 'normalMapType', 'displacementMap', 'displacementScale', 'displacementBias', 'specularMap', 'specular', 'glossinessMap', 'glossiness', 'alphaMap', 'envMap', 'envMapIntensity', 'refractionRatio'];\n  }\n\n  getMaterialType() {\n    return GLTFMeshStandardSGMaterial;\n  }\n\n  extendParams(materialParams, materialDef, parser) {\n    const pbrSpecularGlossiness = materialDef.extensions[this.name];\n    materialParams.color = new Color(1.0, 1.0, 1.0);\n    materialParams.opacity = 1.0;\n    const pending = [];\n\n    if (Array.isArray(pbrSpecularGlossiness.diffuseFactor)) {\n      const array = pbrSpecularGlossiness.diffuseFactor;\n      materialParams.color.fromArray(array);\n      materialParams.opacity = array[3];\n    }\n\n    if (pbrSpecularGlossiness.diffuseTexture !== undefined) {\n      pending.push(parser.assignTexture(materialParams, 'map', pbrSpecularGlossiness.diffuseTexture));\n    }\n\n    materialParams.emissive = new Color(0.0, 0.0, 0.0);\n    materialParams.glossiness = pbrSpecularGlossiness.glossinessFactor !== undefined ? pbrSpecularGlossiness.glossinessFactor : 1.0;\n    materialParams.specular = new Color(1.0, 1.0, 1.0);\n\n    if (Array.isArray(pbrSpecularGlossiness.specularFactor)) {\n      materialParams.specular.fromArray(pbrSpecularGlossiness.specularFactor);\n    }\n\n    if (pbrSpecularGlossiness.specularGlossinessTexture !== undefined) {\n      const specGlossMapDef = pbrSpecularGlossiness.specularGlossinessTexture;\n      pending.push(parser.assignTexture(materialParams, 'glossinessMap', specGlossMapDef));\n      pending.push(parser.assignTexture(materialParams, 'specularMap', specGlossMapDef));\n    }\n\n    return Promise.all(pending);\n  }\n\n  createMaterial(materialParams) {\n    const material = new GLTFMeshStandardSGMaterial(materialParams);\n    material.fog = true;\n    material.color = materialParams.color;\n    material.map = materialParams.map === undefined ? null : materialParams.map;\n    material.lightMap = null;\n    material.lightMapIntensity = 1.0;\n    material.aoMap = materialParams.aoMap === undefined ? null : materialParams.aoMap;\n    material.aoMapIntensity = 1.0;\n    material.emissive = materialParams.emissive;\n    material.emissiveIntensity = 1.0;\n    material.emissiveMap = materialParams.emissiveMap === undefined ? null : materialParams.emissiveMap;\n    material.bumpMap = materialParams.bumpMap === undefined ? null : materialParams.bumpMap;\n    material.bumpScale = 1;\n    material.normalMap = materialParams.normalMap === undefined ? null : materialParams.normalMap;\n    material.normalMapType = TangentSpaceNormalMap;\n    if (materialParams.normalScale) material.normalScale = materialParams.normalScale;\n    material.displacementMap = null;\n    material.displacementScale = 1;\n    material.displacementBias = 0;\n    material.specularMap = materialParams.specularMap === undefined ? null : materialParams.specularMap;\n    material.specular = materialParams.specular;\n    material.glossinessMap = materialParams.glossinessMap === undefined ? null : materialParams.glossinessMap;\n    material.glossiness = materialParams.glossiness;\n    material.alphaMap = null;\n    material.envMap = materialParams.envMap === undefined ? null : materialParams.envMap;\n    material.envMapIntensity = 1.0;\n    material.refractionRatio = 0.98;\n    return material;\n  }\n\n}\n/**\n * Mesh Quantization Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_mesh_quantization\n */\n\n\nclass GLTFMeshQuantizationExtension {\n  constructor() {\n    this.name = EXTENSIONS.KHR_MESH_QUANTIZATION;\n  }\n\n}\n/*********************************/\n\n/********** INTERPOLATION ********/\n\n/*********************************/\n// Spline Interpolation\n// Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#appendix-c-spline-interpolation\n\n\nclass GLTFCubicSplineInterpolant extends Interpolant {\n  constructor(parameterPositions, sampleValues, sampleSize, resultBuffer) {\n    super(parameterPositions, sampleValues, sampleSize, resultBuffer);\n  }\n\n  copySampleValue_(index) {\n    // Copies a sample value to the result buffer. See description of glTF\n    // CUBICSPLINE values layout in interpolate_() function below.\n    const result = this.resultBuffer,\n          values = this.sampleValues,\n          valueSize = this.valueSize,\n          offset = index * valueSize * 3 + valueSize;\n\n    for (let i = 0; i !== valueSize; i++) {\n      result[i] = values[offset + i];\n    }\n\n    return result;\n  }\n\n}\n\nGLTFCubicSplineInterpolant.prototype.beforeStart_ = GLTFCubicSplineInterpolant.prototype.copySampleValue_;\nGLTFCubicSplineInterpolant.prototype.afterEnd_ = GLTFCubicSplineInterpolant.prototype.copySampleValue_;\n\nGLTFCubicSplineInterpolant.prototype.interpolate_ = function (i1, t0, t, t1) {\n  const result = this.resultBuffer;\n  const values = this.sampleValues;\n  const stride = this.valueSize;\n  const stride2 = stride * 2;\n  const stride3 = stride * 3;\n  const td = t1 - t0;\n  const p = (t - t0) / td;\n  const pp = p * p;\n  const ppp = pp * p;\n  const offset1 = i1 * stride3;\n  const offset0 = offset1 - stride3;\n  const s2 = -2 * ppp + 3 * pp;\n  const s3 = ppp - pp;\n  const s0 = 1 - s2;\n  const s1 = s3 - pp + p; // Layout of keyframe output values for CUBICSPLINE animations:\n  //   [ inTangent_1, splineVertex_1, outTangent_1, inTangent_2, splineVertex_2, ... ]\n\n  for (let i = 0; i !== stride; i++) {\n    const p0 = values[offset0 + i + stride]; // splineVertex_k\n\n    const m0 = values[offset0 + i + stride2] * td; // outTangent_k * (t_k+1 - t_k)\n\n    const p1 = values[offset1 + i + stride]; // splineVertex_k+1\n\n    const m1 = values[offset1 + i] * td; // inTangent_k+1 * (t_k+1 - t_k)\n\n    result[i] = s0 * p0 + s1 * m0 + s2 * p1 + s3 * m1;\n  }\n\n  return result;\n};\n\nconst _q = new Quaternion();\n\nclass GLTFCubicSplineQuaternionInterpolant extends GLTFCubicSplineInterpolant {\n  interpolate_(i1, t0, t, t1) {\n    const result = super.interpolate_(i1, t0, t, t1);\n\n    _q.fromArray(result).normalize().toArray(result);\n\n    return result;\n  }\n\n}\n/*********************************/\n\n/********** INTERNALS ************/\n\n/*********************************/\n\n/* CONSTANTS */\n\n\nconst WEBGL_CONSTANTS = {\n  FLOAT: 5126,\n  //FLOAT_MAT2: 35674,\n  FLOAT_MAT3: 35675,\n  FLOAT_MAT4: 35676,\n  FLOAT_VEC2: 35664,\n  FLOAT_VEC3: 35665,\n  FLOAT_VEC4: 35666,\n  LINEAR: 9729,\n  REPEAT: 10497,\n  SAMPLER_2D: 35678,\n  POINTS: 0,\n  LINES: 1,\n  LINE_LOOP: 2,\n  LINE_STRIP: 3,\n  TRIANGLES: 4,\n  TRIANGLE_STRIP: 5,\n  TRIANGLE_FAN: 6,\n  UNSIGNED_BYTE: 5121,\n  UNSIGNED_SHORT: 5123\n};\nconst WEBGL_COMPONENT_TYPES = {\n  5120: Int8Array,\n  5121: Uint8Array,\n  5122: Int16Array,\n  5123: Uint16Array,\n  5125: Uint32Array,\n  5126: Float32Array\n};\nconst WEBGL_FILTERS = {\n  9728: NearestFilter,\n  9729: LinearFilter,\n  9984: NearestMipmapNearestFilter,\n  9985: LinearMipmapNearestFilter,\n  9986: NearestMipmapLinearFilter,\n  9987: LinearMipmapLinearFilter\n};\nconst WEBGL_WRAPPINGS = {\n  33071: ClampToEdgeWrapping,\n  33648: MirroredRepeatWrapping,\n  10497: RepeatWrapping\n};\nconst WEBGL_TYPE_SIZES = {\n  SCALAR: 1,\n  VEC2: 2,\n  VEC3: 3,\n  VEC4: 4,\n  MAT2: 4,\n  MAT3: 9,\n  MAT4: 16\n};\nconst ATTRIBUTES = {\n  POSITION: 'position',\n  NORMAL: 'normal',\n  TANGENT: 'tangent',\n  TEXCOORD_0: 'uv',\n  TEXCOORD_1: 'uv2',\n  COLOR_0: 'color',\n  WEIGHTS_0: 'skinWeight',\n  JOINTS_0: 'skinIndex'\n};\nconst PATH_PROPERTIES = {\n  scale: 'scale',\n  translation: 'position',\n  rotation: 'quaternion',\n  weights: 'morphTargetInfluences'\n};\nconst INTERPOLATION = {\n  CUBICSPLINE: undefined,\n  // We use a custom interpolant (GLTFCubicSplineInterpolation) for CUBICSPLINE tracks. Each\n  // keyframe track will be initialized with a default interpolation type, then modified.\n  LINEAR: InterpolateLinear,\n  STEP: InterpolateDiscrete\n};\nconst ALPHA_MODES = {\n  OPAQUE: 'OPAQUE',\n  MASK: 'MASK',\n  BLEND: 'BLEND'\n};\n/**\n * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#default-material\n */\n\nfunction createDefaultMaterial(cache) {\n  if (cache['DefaultMaterial'] === undefined) {\n    cache['DefaultMaterial'] = new MeshStandardMaterial({\n      color: 0xffffff,\n      emissive: 0x000000,\n      metalness: 1,\n      roughness: 1,\n      transparent: false,\n      depthTest: true,\n      side: FrontSide\n    });\n  }\n\n  return cache['DefaultMaterial'];\n}\n\nfunction addUnknownExtensionsToUserData(knownExtensions, object, objectDef) {\n  // Add unknown glTF extensions to an object's userData.\n  for (const name in objectDef.extensions) {\n    if (knownExtensions[name] === undefined) {\n      object.userData.gltfExtensions = object.userData.gltfExtensions || {};\n      object.userData.gltfExtensions[name] = objectDef.extensions[name];\n    }\n  }\n}\n/**\n * @param {Object3D|Material|BufferGeometry} object\n * @param {GLTF.definition} gltfDef\n */\n\n\nfunction assignExtrasToUserData(object, gltfDef) {\n  if (gltfDef.extras !== undefined) {\n    if (typeof gltfDef.extras === 'object') {\n      Object.assign(object.userData, gltfDef.extras);\n    } else {\n      console.warn('THREE.GLTFLoader: Ignoring primitive type .extras, ' + gltfDef.extras);\n    }\n  }\n}\n/**\n * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#morph-targets\n *\n * @param {BufferGeometry} geometry\n * @param {Array<GLTF.Target>} targets\n * @param {GLTFParser} parser\n * @return {Promise<BufferGeometry>}\n */\n\n\nfunction addMorphTargets(geometry, targets, parser) {\n  let hasMorphPosition = false;\n  let hasMorphNormal = false;\n\n  for (let i = 0, il = targets.length; i < il; i++) {\n    const target = targets[i];\n    if (target.POSITION !== undefined) hasMorphPosition = true;\n    if (target.NORMAL !== undefined) hasMorphNormal = true;\n    if (hasMorphPosition && hasMorphNormal) break;\n  }\n\n  if (!hasMorphPosition && !hasMorphNormal) return Promise.resolve(geometry);\n  const pendingPositionAccessors = [];\n  const pendingNormalAccessors = [];\n\n  for (let i = 0, il = targets.length; i < il; i++) {\n    const target = targets[i];\n\n    if (hasMorphPosition) {\n      const pendingAccessor = target.POSITION !== undefined ? parser.getDependency('accessor', target.POSITION) : geometry.attributes.position;\n      pendingPositionAccessors.push(pendingAccessor);\n    }\n\n    if (hasMorphNormal) {\n      const pendingAccessor = target.NORMAL !== undefined ? parser.getDependency('accessor', target.NORMAL) : geometry.attributes.normal;\n      pendingNormalAccessors.push(pendingAccessor);\n    }\n  }\n\n  return Promise.all([Promise.all(pendingPositionAccessors), Promise.all(pendingNormalAccessors)]).then(function (accessors) {\n    const morphPositions = accessors[0];\n    const morphNormals = accessors[1];\n    if (hasMorphPosition) geometry.morphAttributes.position = morphPositions;\n    if (hasMorphNormal) geometry.morphAttributes.normal = morphNormals;\n    geometry.morphTargetsRelative = true;\n    return geometry;\n  });\n}\n/**\n * @param {Mesh} mesh\n * @param {GLTF.Mesh} meshDef\n */\n\n\nfunction updateMorphTargets(mesh, meshDef) {\n  mesh.updateMorphTargets();\n\n  if (meshDef.weights !== undefined) {\n    for (let i = 0, il = meshDef.weights.length; i < il; i++) {\n      mesh.morphTargetInfluences[i] = meshDef.weights[i];\n    }\n  } // .extras has user-defined data, so check that .extras.targetNames is an array.\n\n\n  if (meshDef.extras && Array.isArray(meshDef.extras.targetNames)) {\n    const targetNames = meshDef.extras.targetNames;\n\n    if (mesh.morphTargetInfluences.length === targetNames.length) {\n      mesh.morphTargetDictionary = {};\n\n      for (let i = 0, il = targetNames.length; i < il; i++) {\n        mesh.morphTargetDictionary[targetNames[i]] = i;\n      }\n    } else {\n      console.warn('THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.');\n    }\n  }\n}\n\nfunction createPrimitiveKey(primitiveDef) {\n  const dracoExtension = primitiveDef.extensions && primitiveDef.extensions[EXTENSIONS.KHR_DRACO_MESH_COMPRESSION];\n  let geometryKey;\n\n  if (dracoExtension) {\n    geometryKey = 'draco:' + dracoExtension.bufferView + ':' + dracoExtension.indices + ':' + createAttributesKey(dracoExtension.attributes);\n  } else {\n    geometryKey = primitiveDef.indices + ':' + createAttributesKey(primitiveDef.attributes) + ':' + primitiveDef.mode;\n  }\n\n  return geometryKey;\n}\n\nfunction createAttributesKey(attributes) {\n  let attributesKey = '';\n  const keys = Object.keys(attributes).sort();\n\n  for (let i = 0, il = keys.length; i < il; i++) {\n    attributesKey += keys[i] + ':' + attributes[keys[i]] + ';';\n  }\n\n  return attributesKey;\n}\n\nfunction getNormalizedComponentScale(constructor) {\n  // Reference:\n  // https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_mesh_quantization#encoding-quantized-data\n  switch (constructor) {\n    case Int8Array:\n      return 1 / 127;\n\n    case Uint8Array:\n      return 1 / 255;\n\n    case Int16Array:\n      return 1 / 32767;\n\n    case Uint16Array:\n      return 1 / 65535;\n\n    default:\n      throw new Error('THREE.GLTFLoader: Unsupported normalized accessor component type.');\n  }\n}\n/* GLTF PARSER */\n\n\nclass GLTFParser {\n  constructor(json = {}, options = {}) {\n    this.json = json;\n    this.extensions = {};\n    this.plugins = {};\n    this.options = options; // loader object cache\n\n    this.cache = new GLTFRegistry(); // associations between Three.js objects and glTF elements\n\n    this.associations = new Map(); // BufferGeometry caching\n\n    this.primitiveCache = {}; // Object3D instance caches\n\n    this.meshCache = {\n      refs: {},\n      uses: {}\n    };\n    this.cameraCache = {\n      refs: {},\n      uses: {}\n    };\n    this.lightCache = {\n      refs: {},\n      uses: {}\n    };\n    this.textureCache = {}; // Track node names, to ensure no duplicates\n\n    this.nodeNamesUsed = {}; // Use an ImageBitmapLoader if imageBitmaps are supported. Moves much of the\n    // expensive work of uploading a texture to the GPU off the main thread.\n\n    if (typeof createImageBitmap !== 'undefined' && /Firefox|^((?!chrome|android).)*safari/i.test(navigator.userAgent) === false) {\n      this.textureLoader = new ImageBitmapLoader(this.options.manager);\n    } else {\n      this.textureLoader = new TextureLoader(this.options.manager);\n    }\n\n    this.textureLoader.setCrossOrigin(this.options.crossOrigin);\n    this.textureLoader.setRequestHeader(this.options.requestHeader);\n    this.fileLoader = new FileLoader(this.options.manager);\n    this.fileLoader.setResponseType('arraybuffer');\n\n    if (this.options.crossOrigin === 'use-credentials') {\n      this.fileLoader.setWithCredentials(true);\n    }\n  }\n\n  setExtensions(extensions) {\n    this.extensions = extensions;\n  }\n\n  setPlugins(plugins) {\n    this.plugins = plugins;\n  }\n\n  parse(onLoad, onError) {\n    const parser = this;\n    const json = this.json;\n    const extensions = this.extensions; // Clear the loader cache\n\n    this.cache.removeAll(); // Mark the special nodes/meshes in json for efficient parse\n\n    this._invokeAll(function (ext) {\n      return ext._markDefs && ext._markDefs();\n    });\n\n    Promise.all(this._invokeAll(function (ext) {\n      return ext.beforeRoot && ext.beforeRoot();\n    })).then(function () {\n      return Promise.all([parser.getDependencies('scene'), parser.getDependencies('animation'), parser.getDependencies('camera')]);\n    }).then(function (dependencies) {\n      const result = {\n        scene: dependencies[0][json.scene || 0],\n        scenes: dependencies[0],\n        animations: dependencies[1],\n        cameras: dependencies[2],\n        asset: json.asset,\n        parser: parser,\n        userData: {}\n      };\n      addUnknownExtensionsToUserData(extensions, result, json);\n      assignExtrasToUserData(result, json);\n      Promise.all(parser._invokeAll(function (ext) {\n        return ext.afterRoot && ext.afterRoot(result);\n      })).then(function () {\n        onLoad(result);\n      });\n    }).catch(onError);\n  }\n  /**\n   * Marks the special nodes/meshes in json for efficient parse.\n   */\n\n\n  _markDefs() {\n    const nodeDefs = this.json.nodes || [];\n    const skinDefs = this.json.skins || [];\n    const meshDefs = this.json.meshes || []; // Nothing in the node definition indicates whether it is a Bone or an\n    // Object3D. Use the skins' joint references to mark bones.\n\n    for (let skinIndex = 0, skinLength = skinDefs.length; skinIndex < skinLength; skinIndex++) {\n      const joints = skinDefs[skinIndex].joints;\n\n      for (let i = 0, il = joints.length; i < il; i++) {\n        nodeDefs[joints[i]].isBone = true;\n      }\n    } // Iterate over all nodes, marking references to shared resources,\n    // as well as skeleton joints.\n\n\n    for (let nodeIndex = 0, nodeLength = nodeDefs.length; nodeIndex < nodeLength; nodeIndex++) {\n      const nodeDef = nodeDefs[nodeIndex];\n\n      if (nodeDef.mesh !== undefined) {\n        this._addNodeRef(this.meshCache, nodeDef.mesh); // Nothing in the mesh definition indicates whether it is\n        // a SkinnedMesh or Mesh. Use the node's mesh reference\n        // to mark SkinnedMesh if node has skin.\n\n\n        if (nodeDef.skin !== undefined) {\n          meshDefs[nodeDef.mesh].isSkinnedMesh = true;\n        }\n      }\n\n      if (nodeDef.camera !== undefined) {\n        this._addNodeRef(this.cameraCache, nodeDef.camera);\n      }\n    }\n  }\n  /**\n   * Counts references to shared node / Object3D resources. These resources\n   * can be reused, or \"instantiated\", at multiple nodes in the scene\n   * hierarchy. Mesh, Camera, and Light instances are instantiated and must\n   * be marked. Non-scenegraph resources (like Materials, Geometries, and\n   * Textures) can be reused directly and are not marked here.\n   *\n   * Example: CesiumMilkTruck sample model reuses \"Wheel\" meshes.\n   */\n\n\n  _addNodeRef(cache, index) {\n    if (index === undefined) return;\n\n    if (cache.refs[index] === undefined) {\n      cache.refs[index] = cache.uses[index] = 0;\n    }\n\n    cache.refs[index]++;\n  }\n  /** Returns a reference to a shared resource, cloning it if necessary. */\n\n\n  _getNodeRef(cache, index, object) {\n    if (cache.refs[index] <= 1) return object;\n    const ref = object.clone(); // Propagates mappings to the cloned object, prevents mappings on the\n    // original object from being lost.\n\n    const updateMappings = (original, clone) => {\n      const mappings = this.associations.get(original);\n\n      if (mappings != null) {\n        this.associations.set(clone, mappings);\n      }\n\n      for (const [i, child] of original.children.entries()) {\n        updateMappings(child, clone.children[i]);\n      }\n    };\n\n    updateMappings(object, ref);\n    ref.name += '_instance_' + cache.uses[index]++;\n    return ref;\n  }\n\n  _invokeOne(func) {\n    const extensions = Object.values(this.plugins);\n    extensions.push(this);\n\n    for (let i = 0; i < extensions.length; i++) {\n      const result = func(extensions[i]);\n      if (result) return result;\n    }\n\n    return null;\n  }\n\n  _invokeAll(func) {\n    const extensions = Object.values(this.plugins);\n    extensions.unshift(this);\n    const pending = [];\n\n    for (let i = 0; i < extensions.length; i++) {\n      const result = func(extensions[i]);\n      if (result) pending.push(result);\n    }\n\n    return pending;\n  }\n  /**\n   * Requests the specified dependency asynchronously, with caching.\n   * @param {string} type\n   * @param {number} index\n   * @return {Promise<Object3D|Material|THREE.Texture|AnimationClip|ArrayBuffer|Object>}\n   */\n\n\n  getDependency(type, index) {\n    const cacheKey = type + ':' + index;\n    let dependency = this.cache.get(cacheKey);\n\n    if (!dependency) {\n      switch (type) {\n        case 'scene':\n          dependency = this.loadScene(index);\n          break;\n\n        case 'node':\n          dependency = this.loadNode(index);\n          break;\n\n        case 'mesh':\n          dependency = this._invokeOne(function (ext) {\n            return ext.loadMesh && ext.loadMesh(index);\n          });\n          break;\n\n        case 'accessor':\n          dependency = this.loadAccessor(index);\n          break;\n\n        case 'bufferView':\n          dependency = this._invokeOne(function (ext) {\n            return ext.loadBufferView && ext.loadBufferView(index);\n          });\n          break;\n\n        case 'buffer':\n          dependency = this.loadBuffer(index);\n          break;\n\n        case 'material':\n          dependency = this._invokeOne(function (ext) {\n            return ext.loadMaterial && ext.loadMaterial(index);\n          });\n          break;\n\n        case 'texture':\n          dependency = this._invokeOne(function (ext) {\n            return ext.loadTexture && ext.loadTexture(index);\n          });\n          break;\n\n        case 'skin':\n          dependency = this.loadSkin(index);\n          break;\n\n        case 'animation':\n          dependency = this.loadAnimation(index);\n          break;\n\n        case 'camera':\n          dependency = this.loadCamera(index);\n          break;\n\n        default:\n          throw new Error('Unknown type: ' + type);\n      }\n\n      this.cache.add(cacheKey, dependency);\n    }\n\n    return dependency;\n  }\n  /**\n   * Requests all dependencies of the specified type asynchronously, with caching.\n   * @param {string} type\n   * @return {Promise<Array<Object>>}\n   */\n\n\n  getDependencies(type) {\n    let dependencies = this.cache.get(type);\n\n    if (!dependencies) {\n      const parser = this;\n      const defs = this.json[type + (type === 'mesh' ? 'es' : 's')] || [];\n      dependencies = Promise.all(defs.map(function (def, index) {\n        return parser.getDependency(type, index);\n      }));\n      this.cache.add(type, dependencies);\n    }\n\n    return dependencies;\n  }\n  /**\n   * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#buffers-and-buffer-views\n   * @param {number} bufferIndex\n   * @return {Promise<ArrayBuffer>}\n   */\n\n\n  loadBuffer(bufferIndex) {\n    const bufferDef = this.json.buffers[bufferIndex];\n    const loader = this.fileLoader;\n\n    if (bufferDef.type && bufferDef.type !== 'arraybuffer') {\n      throw new Error('THREE.GLTFLoader: ' + bufferDef.type + ' buffer type is not supported.');\n    } // If present, GLB container is required to be the first buffer.\n\n\n    if (bufferDef.uri === undefined && bufferIndex === 0) {\n      return Promise.resolve(this.extensions[EXTENSIONS.KHR_BINARY_GLTF].body);\n    }\n\n    const options = this.options;\n    return new Promise(function (resolve, reject) {\n      loader.load(LoaderUtils.resolveURL(bufferDef.uri, options.path), resolve, undefined, function () {\n        reject(new Error('THREE.GLTFLoader: Failed to load buffer \"' + bufferDef.uri + '\".'));\n      });\n    });\n  }\n  /**\n   * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#buffers-and-buffer-views\n   * @param {number} bufferViewIndex\n   * @return {Promise<ArrayBuffer>}\n   */\n\n\n  loadBufferView(bufferViewIndex) {\n    const bufferViewDef = this.json.bufferViews[bufferViewIndex];\n    return this.getDependency('buffer', bufferViewDef.buffer).then(function (buffer) {\n      const byteLength = bufferViewDef.byteLength || 0;\n      const byteOffset = bufferViewDef.byteOffset || 0;\n      return buffer.slice(byteOffset, byteOffset + byteLength);\n    });\n  }\n  /**\n   * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#accessors\n   * @param {number} accessorIndex\n   * @return {Promise<BufferAttribute|InterleavedBufferAttribute>}\n   */\n\n\n  loadAccessor(accessorIndex) {\n    const parser = this;\n    const json = this.json;\n    const accessorDef = this.json.accessors[accessorIndex];\n\n    if (accessorDef.bufferView === undefined && accessorDef.sparse === undefined) {\n      // Ignore empty accessors, which may be used to declare runtime\n      // information about attributes coming from another source (e.g. Draco\n      // compression extension).\n      return Promise.resolve(null);\n    }\n\n    const pendingBufferViews = [];\n\n    if (accessorDef.bufferView !== undefined) {\n      pendingBufferViews.push(this.getDependency('bufferView', accessorDef.bufferView));\n    } else {\n      pendingBufferViews.push(null);\n    }\n\n    if (accessorDef.sparse !== undefined) {\n      pendingBufferViews.push(this.getDependency('bufferView', accessorDef.sparse.indices.bufferView));\n      pendingBufferViews.push(this.getDependency('bufferView', accessorDef.sparse.values.bufferView));\n    }\n\n    return Promise.all(pendingBufferViews).then(function (bufferViews) {\n      const bufferView = bufferViews[0];\n      const itemSize = WEBGL_TYPE_SIZES[accessorDef.type];\n      const TypedArray = WEBGL_COMPONENT_TYPES[accessorDef.componentType]; // For VEC3: itemSize is 3, elementBytes is 4, itemBytes is 12.\n\n      const elementBytes = TypedArray.BYTES_PER_ELEMENT;\n      const itemBytes = elementBytes * itemSize;\n      const byteOffset = accessorDef.byteOffset || 0;\n      const byteStride = accessorDef.bufferView !== undefined ? json.bufferViews[accessorDef.bufferView].byteStride : undefined;\n      const normalized = accessorDef.normalized === true;\n      let array, bufferAttribute; // The buffer is not interleaved if the stride is the item size in bytes.\n\n      if (byteStride && byteStride !== itemBytes) {\n        // Each \"slice\" of the buffer, as defined by 'count' elements of 'byteStride' bytes, gets its own InterleavedBuffer\n        // This makes sure that IBA.count reflects accessor.count properly\n        const ibSlice = Math.floor(byteOffset / byteStride);\n        const ibCacheKey = 'InterleavedBuffer:' + accessorDef.bufferView + ':' + accessorDef.componentType + ':' + ibSlice + ':' + accessorDef.count;\n        let ib = parser.cache.get(ibCacheKey);\n\n        if (!ib) {\n          array = new TypedArray(bufferView, ibSlice * byteStride, accessorDef.count * byteStride / elementBytes); // Integer parameters to IB/IBA are in array elements, not bytes.\n\n          ib = new InterleavedBuffer(array, byteStride / elementBytes);\n          parser.cache.add(ibCacheKey, ib);\n        }\n\n        bufferAttribute = new InterleavedBufferAttribute(ib, itemSize, byteOffset % byteStride / elementBytes, normalized);\n      } else {\n        if (bufferView === null) {\n          array = new TypedArray(accessorDef.count * itemSize);\n        } else {\n          array = new TypedArray(bufferView, byteOffset, accessorDef.count * itemSize);\n        }\n\n        bufferAttribute = new BufferAttribute(array, itemSize, normalized);\n      } // https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#sparse-accessors\n\n\n      if (accessorDef.sparse !== undefined) {\n        const itemSizeIndices = WEBGL_TYPE_SIZES.SCALAR;\n        const TypedArrayIndices = WEBGL_COMPONENT_TYPES[accessorDef.sparse.indices.componentType];\n        const byteOffsetIndices = accessorDef.sparse.indices.byteOffset || 0;\n        const byteOffsetValues = accessorDef.sparse.values.byteOffset || 0;\n        const sparseIndices = new TypedArrayIndices(bufferViews[1], byteOffsetIndices, accessorDef.sparse.count * itemSizeIndices);\n        const sparseValues = new TypedArray(bufferViews[2], byteOffsetValues, accessorDef.sparse.count * itemSize);\n\n        if (bufferView !== null) {\n          // Avoid modifying the original ArrayBuffer, if the bufferView wasn't initialized with zeroes.\n          bufferAttribute = new BufferAttribute(bufferAttribute.array.slice(), bufferAttribute.itemSize, bufferAttribute.normalized);\n        }\n\n        for (let i = 0, il = sparseIndices.length; i < il; i++) {\n          const index = sparseIndices[i];\n          bufferAttribute.setX(index, sparseValues[i * itemSize]);\n          if (itemSize >= 2) bufferAttribute.setY(index, sparseValues[i * itemSize + 1]);\n          if (itemSize >= 3) bufferAttribute.setZ(index, sparseValues[i * itemSize + 2]);\n          if (itemSize >= 4) bufferAttribute.setW(index, sparseValues[i * itemSize + 3]);\n          if (itemSize >= 5) throw new Error('THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.');\n        }\n      }\n\n      return bufferAttribute;\n    });\n  }\n  /**\n   * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#textures\n   * @param {number} textureIndex\n   * @return {Promise<THREE.Texture>}\n   */\n\n\n  loadTexture(textureIndex) {\n    const json = this.json;\n    const options = this.options;\n    const textureDef = json.textures[textureIndex];\n    const source = json.images[textureDef.source];\n    let loader = this.textureLoader;\n\n    if (source.uri) {\n      const handler = options.manager.getHandler(source.uri);\n      if (handler !== null) loader = handler;\n    }\n\n    return this.loadTextureImage(textureIndex, source, loader);\n  }\n\n  loadTextureImage(textureIndex, source, loader) {\n    const parser = this;\n    const json = this.json;\n    const options = this.options;\n    const textureDef = json.textures[textureIndex];\n    const cacheKey = (source.uri || source.bufferView) + ':' + textureDef.sampler;\n\n    if (this.textureCache[cacheKey]) {\n      // See https://github.com/mrdoob/three.js/issues/21559.\n      return this.textureCache[cacheKey];\n    }\n\n    const URL = self.URL || self.webkitURL;\n    let sourceURI = source.uri || '';\n    let isObjectURL = false;\n\n    if (source.bufferView !== undefined) {\n      // Load binary image data from bufferView, if provided.\n      sourceURI = parser.getDependency('bufferView', source.bufferView).then(function (bufferView) {\n        isObjectURL = true;\n        const blob = new Blob([bufferView], {\n          type: source.mimeType\n        });\n        sourceURI = URL.createObjectURL(blob);\n        return sourceURI;\n      });\n    } else if (source.uri === undefined) {\n      throw new Error('THREE.GLTFLoader: Image ' + textureIndex + ' is missing URI and bufferView');\n    }\n\n    const promise = Promise.resolve(sourceURI).then(function (sourceURI) {\n      return new Promise(function (resolve, reject) {\n        let onLoad = resolve;\n\n        if (loader.isImageBitmapLoader === true) {\n          onLoad = function (imageBitmap) {\n            const texture = new Texture(imageBitmap);\n            texture.needsUpdate = true;\n            resolve(texture);\n          };\n        }\n\n        loader.load(LoaderUtils.resolveURL(sourceURI, options.path), onLoad, undefined, reject);\n      });\n    }).then(function (texture) {\n      // Clean up resources and configure Texture.\n      if (isObjectURL === true) {\n        URL.revokeObjectURL(sourceURI);\n      }\n\n      texture.flipY = false;\n      if (textureDef.name) texture.name = textureDef.name;\n      const samplers = json.samplers || {};\n      const sampler = samplers[textureDef.sampler] || {};\n      texture.magFilter = WEBGL_FILTERS[sampler.magFilter] || LinearFilter;\n      texture.minFilter = WEBGL_FILTERS[sampler.minFilter] || LinearMipmapLinearFilter;\n      texture.wrapS = WEBGL_WRAPPINGS[sampler.wrapS] || RepeatWrapping;\n      texture.wrapT = WEBGL_WRAPPINGS[sampler.wrapT] || RepeatWrapping;\n      parser.associations.set(texture, {\n        textures: textureIndex\n      });\n      return texture;\n    }).catch(function () {\n      console.error(\"THREE.GLTFLoader: Couldn't load texture\", sourceURI);\n      return null;\n    });\n    this.textureCache[cacheKey] = promise;\n    return promise;\n  }\n  /**\n   * Asynchronously assigns a texture to the given material parameters.\n   * @param {Object} materialParams\n   * @param {string} mapName\n   * @param {Object} mapDef\n   * @return {Promise<Texture>}\n   */\n\n\n  assignTexture(materialParams, mapName, mapDef) {\n    const parser = this;\n    return this.getDependency('texture', mapDef.index).then(function (texture) {\n      // Materials sample aoMap from UV set 1 and other maps from UV set 0 - this can't be configured\n      // However, we will copy UV set 0 to UV set 1 on demand for aoMap\n      if (mapDef.texCoord !== undefined && mapDef.texCoord != 0 && !(mapName === 'aoMap' && mapDef.texCoord == 1)) {\n        console.warn('THREE.GLTFLoader: Custom UV set ' + mapDef.texCoord + ' for texture ' + mapName + ' not yet supported.');\n      }\n\n      if (parser.extensions[EXTENSIONS.KHR_TEXTURE_TRANSFORM]) {\n        const transform = mapDef.extensions !== undefined ? mapDef.extensions[EXTENSIONS.KHR_TEXTURE_TRANSFORM] : undefined;\n\n        if (transform) {\n          const gltfReference = parser.associations.get(texture);\n          texture = parser.extensions[EXTENSIONS.KHR_TEXTURE_TRANSFORM].extendTexture(texture, transform);\n          parser.associations.set(texture, gltfReference);\n        }\n      }\n\n      materialParams[mapName] = texture;\n      return texture;\n    });\n  }\n  /**\n   * Assigns final material to a Mesh, Line, or Points instance. The instance\n   * already has a material (generated from the glTF material options alone)\n   * but reuse of the same glTF material may require multiple threejs materials\n   * to accommodate different primitive types, defines, etc. New materials will\n   * be created if necessary, and reused from a cache.\n   * @param  {Object3D} mesh Mesh, Line, or Points instance.\n   */\n\n\n  assignFinalMaterial(mesh) {\n    const geometry = mesh.geometry;\n    let material = mesh.material;\n    const useDerivativeTangents = geometry.attributes.tangent === undefined;\n    const useVertexColors = geometry.attributes.color !== undefined;\n    const useFlatShading = geometry.attributes.normal === undefined;\n\n    if (mesh.isPoints) {\n      const cacheKey = 'PointsMaterial:' + material.uuid;\n      let pointsMaterial = this.cache.get(cacheKey);\n\n      if (!pointsMaterial) {\n        pointsMaterial = new PointsMaterial();\n        Material.prototype.copy.call(pointsMaterial, material);\n        pointsMaterial.color.copy(material.color);\n        pointsMaterial.map = material.map;\n        pointsMaterial.sizeAttenuation = false; // glTF spec says points should be 1px\n\n        this.cache.add(cacheKey, pointsMaterial);\n      }\n\n      material = pointsMaterial;\n    } else if (mesh.isLine) {\n      const cacheKey = 'LineBasicMaterial:' + material.uuid;\n      let lineMaterial = this.cache.get(cacheKey);\n\n      if (!lineMaterial) {\n        lineMaterial = new LineBasicMaterial();\n        Material.prototype.copy.call(lineMaterial, material);\n        lineMaterial.color.copy(material.color);\n        this.cache.add(cacheKey, lineMaterial);\n      }\n\n      material = lineMaterial;\n    } // Clone the material if it will be modified\n\n\n    if (useDerivativeTangents || useVertexColors || useFlatShading) {\n      let cacheKey = 'ClonedMaterial:' + material.uuid + ':';\n      if (material.isGLTFSpecularGlossinessMaterial) cacheKey += 'specular-glossiness:';\n      if (useDerivativeTangents) cacheKey += 'derivative-tangents:';\n      if (useVertexColors) cacheKey += 'vertex-colors:';\n      if (useFlatShading) cacheKey += 'flat-shading:';\n      let cachedMaterial = this.cache.get(cacheKey);\n\n      if (!cachedMaterial) {\n        cachedMaterial = material.clone();\n        if (useVertexColors) cachedMaterial.vertexColors = true;\n        if (useFlatShading) cachedMaterial.flatShading = true;\n\n        if (useDerivativeTangents) {\n          // https://github.com/mrdoob/three.js/issues/11438#issuecomment-507003995\n          if (cachedMaterial.normalScale) cachedMaterial.normalScale.y *= -1;\n          if (cachedMaterial.clearcoatNormalScale) cachedMaterial.clearcoatNormalScale.y *= -1;\n        }\n\n        this.cache.add(cacheKey, cachedMaterial);\n        this.associations.set(cachedMaterial, this.associations.get(material));\n      }\n\n      material = cachedMaterial;\n    } // workarounds for mesh and geometry\n\n\n    if (material.aoMap && geometry.attributes.uv2 === undefined && geometry.attributes.uv !== undefined) {\n      geometry.setAttribute('uv2', geometry.attributes.uv);\n    }\n\n    mesh.material = material;\n  }\n\n  getMaterialType() {\n    return MeshStandardMaterial;\n  }\n  /**\n   * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#materials\n   * @param {number} materialIndex\n   * @return {Promise<Material>}\n   */\n\n\n  loadMaterial(materialIndex) {\n    const parser = this;\n    const json = this.json;\n    const extensions = this.extensions;\n    const materialDef = json.materials[materialIndex];\n    let materialType;\n    const materialParams = {};\n    const materialExtensions = materialDef.extensions || {};\n    const pending = [];\n\n    if (materialExtensions[EXTENSIONS.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS]) {\n      const sgExtension = extensions[EXTENSIONS.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS];\n      materialType = sgExtension.getMaterialType();\n      pending.push(sgExtension.extendParams(materialParams, materialDef, parser));\n    } else if (materialExtensions[EXTENSIONS.KHR_MATERIALS_UNLIT]) {\n      const kmuExtension = extensions[EXTENSIONS.KHR_MATERIALS_UNLIT];\n      materialType = kmuExtension.getMaterialType();\n      pending.push(kmuExtension.extendParams(materialParams, materialDef, parser));\n    } else {\n      // Specification:\n      // https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#metallic-roughness-material\n      const metallicRoughness = materialDef.pbrMetallicRoughness || {};\n      materialParams.color = new Color(1.0, 1.0, 1.0);\n      materialParams.opacity = 1.0;\n\n      if (Array.isArray(metallicRoughness.baseColorFactor)) {\n        const array = metallicRoughness.baseColorFactor;\n        materialParams.color.fromArray(array);\n        materialParams.opacity = array[3];\n      }\n\n      if (metallicRoughness.baseColorTexture !== undefined) {\n        pending.push(parser.assignTexture(materialParams, 'map', metallicRoughness.baseColorTexture));\n      }\n\n      materialParams.metalness = metallicRoughness.metallicFactor !== undefined ? metallicRoughness.metallicFactor : 1.0;\n      materialParams.roughness = metallicRoughness.roughnessFactor !== undefined ? metallicRoughness.roughnessFactor : 1.0;\n\n      if (metallicRoughness.metallicRoughnessTexture !== undefined) {\n        pending.push(parser.assignTexture(materialParams, 'metalnessMap', metallicRoughness.metallicRoughnessTexture));\n        pending.push(parser.assignTexture(materialParams, 'roughnessMap', metallicRoughness.metallicRoughnessTexture));\n      }\n\n      materialType = this._invokeOne(function (ext) {\n        return ext.getMaterialType && ext.getMaterialType(materialIndex);\n      });\n      pending.push(Promise.all(this._invokeAll(function (ext) {\n        return ext.extendMaterialParams && ext.extendMaterialParams(materialIndex, materialParams);\n      })));\n    }\n\n    if (materialDef.doubleSided === true) {\n      materialParams.side = DoubleSide;\n    }\n\n    const alphaMode = materialDef.alphaMode || ALPHA_MODES.OPAQUE;\n\n    if (alphaMode === ALPHA_MODES.BLEND) {\n      materialParams.transparent = true; // See: https://github.com/mrdoob/three.js/issues/17706\n\n      materialParams.depthWrite = false;\n    } else {\n      materialParams.transparent = false;\n\n      if (alphaMode === ALPHA_MODES.MASK) {\n        materialParams.alphaTest = materialDef.alphaCutoff !== undefined ? materialDef.alphaCutoff : 0.5;\n      }\n    }\n\n    if (materialDef.normalTexture !== undefined && materialType !== MeshBasicMaterial) {\n      pending.push(parser.assignTexture(materialParams, 'normalMap', materialDef.normalTexture));\n      materialParams.normalScale = new Vector2(1, 1);\n\n      if (materialDef.normalTexture.scale !== undefined) {\n        const scale = materialDef.normalTexture.scale;\n        materialParams.normalScale.set(scale, scale);\n      }\n    }\n\n    if (materialDef.occlusionTexture !== undefined && materialType !== MeshBasicMaterial) {\n      pending.push(parser.assignTexture(materialParams, 'aoMap', materialDef.occlusionTexture));\n\n      if (materialDef.occlusionTexture.strength !== undefined) {\n        materialParams.aoMapIntensity = materialDef.occlusionTexture.strength;\n      }\n    }\n\n    if (materialDef.emissiveFactor !== undefined && materialType !== MeshBasicMaterial) {\n      materialParams.emissive = new Color().fromArray(materialDef.emissiveFactor);\n    }\n\n    if (materialDef.emissiveTexture !== undefined && materialType !== MeshBasicMaterial) {\n      pending.push(parser.assignTexture(materialParams, 'emissiveMap', materialDef.emissiveTexture));\n    }\n\n    return Promise.all(pending).then(function () {\n      let material;\n\n      if (materialType === GLTFMeshStandardSGMaterial) {\n        material = extensions[EXTENSIONS.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS].createMaterial(materialParams);\n      } else {\n        material = new materialType(materialParams);\n      }\n\n      if (materialDef.name) material.name = materialDef.name; // baseColorTexture, emissiveTexture, and specularGlossinessTexture use sRGB encoding.\n\n      if (material.map) material.map.encoding = sRGBEncoding;\n      if (material.emissiveMap) material.emissiveMap.encoding = sRGBEncoding;\n      assignExtrasToUserData(material, materialDef);\n      parser.associations.set(material, {\n        materials: materialIndex\n      });\n      if (materialDef.extensions) addUnknownExtensionsToUserData(extensions, material, materialDef);\n      return material;\n    });\n  }\n  /** When Object3D instances are targeted by animation, they need unique names. */\n\n\n  createUniqueName(originalName) {\n    const sanitizedName = PropertyBinding.sanitizeNodeName(originalName || '');\n    let name = sanitizedName;\n\n    for (let i = 1; this.nodeNamesUsed[name]; ++i) {\n      name = sanitizedName + '_' + i;\n    }\n\n    this.nodeNamesUsed[name] = true;\n    return name;\n  }\n  /**\n   * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#geometry\n   *\n   * Creates BufferGeometries from primitives.\n   *\n   * @param {Array<GLTF.Primitive>} primitives\n   * @return {Promise<Array<BufferGeometry>>}\n   */\n\n\n  loadGeometries(primitives) {\n    const parser = this;\n    const extensions = this.extensions;\n    const cache = this.primitiveCache;\n\n    function createDracoPrimitive(primitive) {\n      return extensions[EXTENSIONS.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(primitive, parser).then(function (geometry) {\n        return addPrimitiveAttributes(geometry, primitive, parser);\n      });\n    }\n\n    const pending = [];\n\n    for (let i = 0, il = primitives.length; i < il; i++) {\n      const primitive = primitives[i];\n      const cacheKey = createPrimitiveKey(primitive); // See if we've already created this geometry\n\n      const cached = cache[cacheKey];\n\n      if (cached) {\n        // Use the cached geometry if it exists\n        pending.push(cached.promise);\n      } else {\n        let geometryPromise;\n\n        if (primitive.extensions && primitive.extensions[EXTENSIONS.KHR_DRACO_MESH_COMPRESSION]) {\n          // Use DRACO geometry if available\n          geometryPromise = createDracoPrimitive(primitive);\n        } else {\n          // Otherwise create a new geometry\n          geometryPromise = addPrimitiveAttributes(new BufferGeometry(), primitive, parser);\n        } // Cache this geometry\n\n\n        cache[cacheKey] = {\n          primitive: primitive,\n          promise: geometryPromise\n        };\n        pending.push(geometryPromise);\n      }\n    }\n\n    return Promise.all(pending);\n  }\n  /**\n   * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#meshes\n   * @param {number} meshIndex\n   * @return {Promise<Group|Mesh|SkinnedMesh>}\n   */\n\n\n  loadMesh(meshIndex) {\n    const parser = this;\n    const json = this.json;\n    const extensions = this.extensions;\n    const meshDef = json.meshes[meshIndex];\n    const primitives = meshDef.primitives;\n    const pending = [];\n\n    for (let i = 0, il = primitives.length; i < il; i++) {\n      const material = primitives[i].material === undefined ? createDefaultMaterial(this.cache) : this.getDependency('material', primitives[i].material);\n      pending.push(material);\n    }\n\n    pending.push(parser.loadGeometries(primitives));\n    return Promise.all(pending).then(function (results) {\n      const materials = results.slice(0, results.length - 1);\n      const geometries = results[results.length - 1];\n      const meshes = [];\n\n      for (let i = 0, il = geometries.length; i < il; i++) {\n        const geometry = geometries[i];\n        const primitive = primitives[i]; // 1. create Mesh\n\n        let mesh;\n        const material = materials[i];\n\n        if (primitive.mode === WEBGL_CONSTANTS.TRIANGLES || primitive.mode === WEBGL_CONSTANTS.TRIANGLE_STRIP || primitive.mode === WEBGL_CONSTANTS.TRIANGLE_FAN || primitive.mode === undefined) {\n          // .isSkinnedMesh isn't in glTF spec. See ._markDefs()\n          mesh = meshDef.isSkinnedMesh === true ? new SkinnedMesh(geometry, material) : new Mesh(geometry, material);\n\n          if (mesh.isSkinnedMesh === true && !mesh.geometry.attributes.skinWeight.normalized) {\n            // we normalize floating point skin weight array to fix malformed assets (see #15319)\n            // it's important to skip this for non-float32 data since normalizeSkinWeights assumes non-normalized inputs\n            mesh.normalizeSkinWeights();\n          }\n\n          if (primitive.mode === WEBGL_CONSTANTS.TRIANGLE_STRIP) {\n            mesh.geometry = toTrianglesDrawMode(mesh.geometry, TriangleStripDrawMode);\n          } else if (primitive.mode === WEBGL_CONSTANTS.TRIANGLE_FAN) {\n            mesh.geometry = toTrianglesDrawMode(mesh.geometry, TriangleFanDrawMode);\n          }\n        } else if (primitive.mode === WEBGL_CONSTANTS.LINES) {\n          mesh = new LineSegments(geometry, material);\n        } else if (primitive.mode === WEBGL_CONSTANTS.LINE_STRIP) {\n          mesh = new Line(geometry, material);\n        } else if (primitive.mode === WEBGL_CONSTANTS.LINE_LOOP) {\n          mesh = new LineLoop(geometry, material);\n        } else if (primitive.mode === WEBGL_CONSTANTS.POINTS) {\n          mesh = new Points(geometry, material);\n        } else {\n          throw new Error('THREE.GLTFLoader: Primitive mode unsupported: ' + primitive.mode);\n        }\n\n        if (Object.keys(mesh.geometry.morphAttributes).length > 0) {\n          updateMorphTargets(mesh, meshDef);\n        }\n\n        mesh.name = parser.createUniqueName(meshDef.name || 'mesh_' + meshIndex);\n        assignExtrasToUserData(mesh, meshDef);\n        if (primitive.extensions) addUnknownExtensionsToUserData(extensions, mesh, primitive);\n        parser.assignFinalMaterial(mesh);\n        meshes.push(mesh);\n      }\n\n      for (let i = 0, il = meshes.length; i < il; i++) {\n        parser.associations.set(meshes[i], {\n          meshes: meshIndex,\n          primitives: i\n        });\n      }\n\n      if (meshes.length === 1) {\n        return meshes[0];\n      }\n\n      const group = new Group();\n      parser.associations.set(group, {\n        meshes: meshIndex\n      });\n\n      for (let i = 0, il = meshes.length; i < il; i++) {\n        group.add(meshes[i]);\n      }\n\n      return group;\n    });\n  }\n  /**\n   * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#cameras\n   * @param {number} cameraIndex\n   * @return {Promise<THREE.Camera>}\n   */\n\n\n  loadCamera(cameraIndex) {\n    let camera;\n    const cameraDef = this.json.cameras[cameraIndex];\n    const params = cameraDef[cameraDef.type];\n\n    if (!params) {\n      console.warn('THREE.GLTFLoader: Missing camera parameters.');\n      return;\n    }\n\n    if (cameraDef.type === 'perspective') {\n      camera = new PerspectiveCamera(MathUtils.radToDeg(params.yfov), params.aspectRatio || 1, params.znear || 1, params.zfar || 2e6);\n    } else if (cameraDef.type === 'orthographic') {\n      camera = new OrthographicCamera(-params.xmag, params.xmag, params.ymag, -params.ymag, params.znear, params.zfar);\n    }\n\n    if (cameraDef.name) camera.name = this.createUniqueName(cameraDef.name);\n    assignExtrasToUserData(camera, cameraDef);\n    return Promise.resolve(camera);\n  }\n  /**\n   * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#skins\n   * @param {number} skinIndex\n   * @return {Promise<Object>}\n   */\n\n\n  loadSkin(skinIndex) {\n    const skinDef = this.json.skins[skinIndex];\n    const skinEntry = {\n      joints: skinDef.joints\n    };\n\n    if (skinDef.inverseBindMatrices === undefined) {\n      return Promise.resolve(skinEntry);\n    }\n\n    return this.getDependency('accessor', skinDef.inverseBindMatrices).then(function (accessor) {\n      skinEntry.inverseBindMatrices = accessor;\n      return skinEntry;\n    });\n  }\n  /**\n   * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#animations\n   * @param {number} animationIndex\n   * @return {Promise<AnimationClip>}\n   */\n\n\n  loadAnimation(animationIndex) {\n    const json = this.json;\n    const animationDef = json.animations[animationIndex];\n    const pendingNodes = [];\n    const pendingInputAccessors = [];\n    const pendingOutputAccessors = [];\n    const pendingSamplers = [];\n    const pendingTargets = [];\n\n    for (let i = 0, il = animationDef.channels.length; i < il; i++) {\n      const channel = animationDef.channels[i];\n      const sampler = animationDef.samplers[channel.sampler];\n      const target = channel.target;\n      const name = target.node !== undefined ? target.node : target.id; // NOTE: target.id is deprecated.\n\n      const input = animationDef.parameters !== undefined ? animationDef.parameters[sampler.input] : sampler.input;\n      const output = animationDef.parameters !== undefined ? animationDef.parameters[sampler.output] : sampler.output;\n      pendingNodes.push(this.getDependency('node', name));\n      pendingInputAccessors.push(this.getDependency('accessor', input));\n      pendingOutputAccessors.push(this.getDependency('accessor', output));\n      pendingSamplers.push(sampler);\n      pendingTargets.push(target);\n    }\n\n    return Promise.all([Promise.all(pendingNodes), Promise.all(pendingInputAccessors), Promise.all(pendingOutputAccessors), Promise.all(pendingSamplers), Promise.all(pendingTargets)]).then(function (dependencies) {\n      const nodes = dependencies[0];\n      const inputAccessors = dependencies[1];\n      const outputAccessors = dependencies[2];\n      const samplers = dependencies[3];\n      const targets = dependencies[4];\n      const tracks = [];\n\n      for (let i = 0, il = nodes.length; i < il; i++) {\n        const node = nodes[i];\n        const inputAccessor = inputAccessors[i];\n        const outputAccessor = outputAccessors[i];\n        const sampler = samplers[i];\n        const target = targets[i];\n        if (node === undefined) continue;\n        node.updateMatrix();\n        node.matrixAutoUpdate = true;\n        let TypedKeyframeTrack;\n\n        switch (PATH_PROPERTIES[target.path]) {\n          case PATH_PROPERTIES.weights:\n            TypedKeyframeTrack = NumberKeyframeTrack;\n            break;\n\n          case PATH_PROPERTIES.rotation:\n            TypedKeyframeTrack = QuaternionKeyframeTrack;\n            break;\n\n          case PATH_PROPERTIES.position:\n          case PATH_PROPERTIES.scale:\n          default:\n            TypedKeyframeTrack = VectorKeyframeTrack;\n            break;\n        }\n\n        const targetName = node.name ? node.name : node.uuid;\n        const interpolation = sampler.interpolation !== undefined ? INTERPOLATION[sampler.interpolation] : InterpolateLinear;\n        const targetNames = [];\n\n        if (PATH_PROPERTIES[target.path] === PATH_PROPERTIES.weights) {\n          node.traverse(function (object) {\n            if (object.morphTargetInfluences) {\n              targetNames.push(object.name ? object.name : object.uuid);\n            }\n          });\n        } else {\n          targetNames.push(targetName);\n        }\n\n        let outputArray = outputAccessor.array;\n\n        if (outputAccessor.normalized) {\n          const scale = getNormalizedComponentScale(outputArray.constructor);\n          const scaled = new Float32Array(outputArray.length);\n\n          for (let j = 0, jl = outputArray.length; j < jl; j++) {\n            scaled[j] = outputArray[j] * scale;\n          }\n\n          outputArray = scaled;\n        }\n\n        for (let j = 0, jl = targetNames.length; j < jl; j++) {\n          const track = new TypedKeyframeTrack(targetNames[j] + '.' + PATH_PROPERTIES[target.path], inputAccessor.array, outputArray, interpolation); // Override interpolation with custom factory method.\n\n          if (sampler.interpolation === 'CUBICSPLINE') {\n            track.createInterpolant = function InterpolantFactoryMethodGLTFCubicSpline(result) {\n              // A CUBICSPLINE keyframe in glTF has three output values for each input value,\n              // representing inTangent, splineVertex, and outTangent. As a result, track.getValueSize()\n              // must be divided by three to get the interpolant's sampleSize argument.\n              const interpolantType = this instanceof QuaternionKeyframeTrack ? GLTFCubicSplineQuaternionInterpolant : GLTFCubicSplineInterpolant;\n              return new interpolantType(this.times, this.values, this.getValueSize() / 3, result);\n            }; // Mark as CUBICSPLINE. `track.getInterpolation()` doesn't support custom interpolants.\n\n\n            track.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline = true;\n          }\n\n          tracks.push(track);\n        }\n      }\n\n      const name = animationDef.name ? animationDef.name : 'animation_' + animationIndex;\n      return new AnimationClip(name, undefined, tracks);\n    });\n  }\n\n  createNodeMesh(nodeIndex) {\n    const json = this.json;\n    const parser = this;\n    const nodeDef = json.nodes[nodeIndex];\n    if (nodeDef.mesh === undefined) return null;\n    return parser.getDependency('mesh', nodeDef.mesh).then(function (mesh) {\n      const node = parser._getNodeRef(parser.meshCache, nodeDef.mesh, mesh); // if weights are provided on the node, override weights on the mesh.\n\n\n      if (nodeDef.weights !== undefined) {\n        node.traverse(function (o) {\n          if (!o.isMesh) return;\n\n          for (let i = 0, il = nodeDef.weights.length; i < il; i++) {\n            o.morphTargetInfluences[i] = nodeDef.weights[i];\n          }\n        });\n      }\n\n      return node;\n    });\n  }\n  /**\n   * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#nodes-and-hierarchy\n   * @param {number} nodeIndex\n   * @return {Promise<Object3D>}\n   */\n\n\n  loadNode(nodeIndex) {\n    const json = this.json;\n    const extensions = this.extensions;\n    const parser = this;\n    const nodeDef = json.nodes[nodeIndex]; // reserve node's name before its dependencies, so the root has the intended name.\n\n    const nodeName = nodeDef.name ? parser.createUniqueName(nodeDef.name) : '';\n    return function () {\n      const pending = [];\n\n      const meshPromise = parser._invokeOne(function (ext) {\n        return ext.createNodeMesh && ext.createNodeMesh(nodeIndex);\n      });\n\n      if (meshPromise) {\n        pending.push(meshPromise);\n      }\n\n      if (nodeDef.camera !== undefined) {\n        pending.push(parser.getDependency('camera', nodeDef.camera).then(function (camera) {\n          return parser._getNodeRef(parser.cameraCache, nodeDef.camera, camera);\n        }));\n      }\n\n      parser._invokeAll(function (ext) {\n        return ext.createNodeAttachment && ext.createNodeAttachment(nodeIndex);\n      }).forEach(function (promise) {\n        pending.push(promise);\n      });\n\n      return Promise.all(pending);\n    }().then(function (objects) {\n      let node; // .isBone isn't in glTF spec. See ._markDefs\n\n      if (nodeDef.isBone === true) {\n        node = new Bone();\n      } else if (objects.length > 1) {\n        node = new Group();\n      } else if (objects.length === 1) {\n        node = objects[0];\n      } else {\n        node = new Object3D();\n      }\n\n      if (node !== objects[0]) {\n        for (let i = 0, il = objects.length; i < il; i++) {\n          node.add(objects[i]);\n        }\n      }\n\n      if (nodeDef.name) {\n        node.userData.name = nodeDef.name;\n        node.name = nodeName;\n      }\n\n      assignExtrasToUserData(node, nodeDef);\n      if (nodeDef.extensions) addUnknownExtensionsToUserData(extensions, node, nodeDef);\n\n      if (nodeDef.matrix !== undefined) {\n        const matrix = new Matrix4();\n        matrix.fromArray(nodeDef.matrix);\n        node.applyMatrix4(matrix);\n      } else {\n        if (nodeDef.translation !== undefined) {\n          node.position.fromArray(nodeDef.translation);\n        }\n\n        if (nodeDef.rotation !== undefined) {\n          node.quaternion.fromArray(nodeDef.rotation);\n        }\n\n        if (nodeDef.scale !== undefined) {\n          node.scale.fromArray(nodeDef.scale);\n        }\n      }\n\n      if (!parser.associations.has(node)) {\n        parser.associations.set(node, {});\n      }\n\n      parser.associations.get(node).nodes = nodeIndex;\n      return node;\n    });\n  }\n  /**\n   * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#scenes\n   * @param {number} sceneIndex\n   * @return {Promise<Group>}\n   */\n\n\n  loadScene(sceneIndex) {\n    const json = this.json;\n    const extensions = this.extensions;\n    const sceneDef = this.json.scenes[sceneIndex];\n    const parser = this; // Loader returns Group, not Scene.\n    // See: https://github.com/mrdoob/three.js/issues/18342#issuecomment-578981172\n\n    const scene = new Group();\n    if (sceneDef.name) scene.name = parser.createUniqueName(sceneDef.name);\n    assignExtrasToUserData(scene, sceneDef);\n    if (sceneDef.extensions) addUnknownExtensionsToUserData(extensions, scene, sceneDef);\n    const nodeIds = sceneDef.nodes || [];\n    const pending = [];\n\n    for (let i = 0, il = nodeIds.length; i < il; i++) {\n      pending.push(buildNodeHierarchy(nodeIds[i], scene, json, parser));\n    }\n\n    return Promise.all(pending).then(function () {\n      // Removes dangling associations, associations that reference a node that\n      // didn't make it into the scene.\n      const reduceAssociations = node => {\n        const reducedAssociations = new Map();\n\n        for (const [key, value] of parser.associations) {\n          if (key instanceof Material || key instanceof Texture) {\n            reducedAssociations.set(key, value);\n          }\n        }\n\n        node.traverse(node => {\n          const mappings = parser.associations.get(node);\n\n          if (mappings != null) {\n            reducedAssociations.set(node, mappings);\n          }\n        });\n        return reducedAssociations;\n      };\n\n      parser.associations = reduceAssociations(scene);\n      return scene;\n    });\n  }\n\n}\n\nfunction buildNodeHierarchy(nodeId, parentObject, json, parser) {\n  const nodeDef = json.nodes[nodeId];\n  return parser.getDependency('node', nodeId).then(function (node) {\n    if (nodeDef.skin === undefined) return node; // build skeleton here as well\n\n    let skinEntry;\n    return parser.getDependency('skin', nodeDef.skin).then(function (skin) {\n      skinEntry = skin;\n      const pendingJoints = [];\n\n      for (let i = 0, il = skinEntry.joints.length; i < il; i++) {\n        pendingJoints.push(parser.getDependency('node', skinEntry.joints[i]));\n      }\n\n      return Promise.all(pendingJoints);\n    }).then(function (jointNodes) {\n      node.traverse(function (mesh) {\n        if (!mesh.isMesh) return;\n        const bones = [];\n        const boneInverses = [];\n\n        for (let j = 0, jl = jointNodes.length; j < jl; j++) {\n          const jointNode = jointNodes[j];\n\n          if (jointNode) {\n            bones.push(jointNode);\n            const mat = new Matrix4();\n\n            if (skinEntry.inverseBindMatrices !== undefined) {\n              mat.fromArray(skinEntry.inverseBindMatrices.array, j * 16);\n            }\n\n            boneInverses.push(mat);\n          } else {\n            console.warn('THREE.GLTFLoader: Joint \"%s\" could not be found.', skinEntry.joints[j]);\n          }\n        }\n\n        mesh.bind(new Skeleton(bones, boneInverses), mesh.matrixWorld);\n      });\n      return node;\n    });\n  }).then(function (node) {\n    // build node hierachy\n    parentObject.add(node);\n    const pending = [];\n\n    if (nodeDef.children) {\n      const children = nodeDef.children;\n\n      for (let i = 0, il = children.length; i < il; i++) {\n        const child = children[i];\n        pending.push(buildNodeHierarchy(child, node, json, parser));\n      }\n    }\n\n    return Promise.all(pending);\n  });\n}\n/**\n * @param {BufferGeometry} geometry\n * @param {GLTF.Primitive} primitiveDef\n * @param {GLTFParser} parser\n */\n\n\nfunction computeBounds(geometry, primitiveDef, parser) {\n  const attributes = primitiveDef.attributes;\n  const box = new Box3();\n\n  if (attributes.POSITION !== undefined) {\n    const accessor = parser.json.accessors[attributes.POSITION];\n    const min = accessor.min;\n    const max = accessor.max; // glTF requires 'min' and 'max', but VRM (which extends glTF) currently ignores that requirement.\n\n    if (min !== undefined && max !== undefined) {\n      box.set(new Vector3(min[0], min[1], min[2]), new Vector3(max[0], max[1], max[2]));\n\n      if (accessor.normalized) {\n        const boxScale = getNormalizedComponentScale(WEBGL_COMPONENT_TYPES[accessor.componentType]);\n        box.min.multiplyScalar(boxScale);\n        box.max.multiplyScalar(boxScale);\n      }\n    } else {\n      console.warn('THREE.GLTFLoader: Missing min/max properties for accessor POSITION.');\n      return;\n    }\n  } else {\n    return;\n  }\n\n  const targets = primitiveDef.targets;\n\n  if (targets !== undefined) {\n    const maxDisplacement = new Vector3();\n    const vector = new Vector3();\n\n    for (let i = 0, il = targets.length; i < il; i++) {\n      const target = targets[i];\n\n      if (target.POSITION !== undefined) {\n        const accessor = parser.json.accessors[target.POSITION];\n        const min = accessor.min;\n        const max = accessor.max; // glTF requires 'min' and 'max', but VRM (which extends glTF) currently ignores that requirement.\n\n        if (min !== undefined && max !== undefined) {\n          // we need to get max of absolute components because target weight is [-1,1]\n          vector.setX(Math.max(Math.abs(min[0]), Math.abs(max[0])));\n          vector.setY(Math.max(Math.abs(min[1]), Math.abs(max[1])));\n          vector.setZ(Math.max(Math.abs(min[2]), Math.abs(max[2])));\n\n          if (accessor.normalized) {\n            const boxScale = getNormalizedComponentScale(WEBGL_COMPONENT_TYPES[accessor.componentType]);\n            vector.multiplyScalar(boxScale);\n          } // Note: this assumes that the sum of all weights is at most 1. This isn't quite correct - it's more conservative\n          // to assume that each target can have a max weight of 1. However, for some use cases - notably, when morph targets\n          // are used to implement key-frame animations and as such only two are active at a time - this results in very large\n          // boxes. So for now we make a box that's sometimes a touch too small but is hopefully mostly of reasonable size.\n\n\n          maxDisplacement.max(vector);\n        } else {\n          console.warn('THREE.GLTFLoader: Missing min/max properties for accessor POSITION.');\n        }\n      }\n    } // As per comment above this box isn't conservative, but has a reasonable size for a very large number of morph targets.\n\n\n    box.expandByVector(maxDisplacement);\n  }\n\n  geometry.boundingBox = box;\n  const sphere = new Sphere();\n  box.getCenter(sphere.center);\n  sphere.radius = box.min.distanceTo(box.max) / 2;\n  geometry.boundingSphere = sphere;\n}\n/**\n * @param {BufferGeometry} geometry\n * @param {GLTF.Primitive} primitiveDef\n * @param {GLTFParser} parser\n * @return {Promise<BufferGeometry>}\n */\n\n\nfunction addPrimitiveAttributes(geometry, primitiveDef, parser) {\n  const attributes = primitiveDef.attributes;\n  const pending = [];\n\n  function assignAttributeAccessor(accessorIndex, attributeName) {\n    return parser.getDependency('accessor', accessorIndex).then(function (accessor) {\n      geometry.setAttribute(attributeName, accessor);\n    });\n  }\n\n  for (const gltfAttributeName in attributes) {\n    const threeAttributeName = ATTRIBUTES[gltfAttributeName] || gltfAttributeName.toLowerCase(); // Skip attributes already provided by e.g. Draco extension.\n\n    if (threeAttributeName in geometry.attributes) continue;\n    pending.push(assignAttributeAccessor(attributes[gltfAttributeName], threeAttributeName));\n  }\n\n  if (primitiveDef.indices !== undefined && !geometry.index) {\n    const accessor = parser.getDependency('accessor', primitiveDef.indices).then(function (accessor) {\n      geometry.setIndex(accessor);\n    });\n    pending.push(accessor);\n  }\n\n  assignExtrasToUserData(geometry, primitiveDef);\n  computeBounds(geometry, primitiveDef, parser);\n  return Promise.all(pending).then(function () {\n    return primitiveDef.targets !== undefined ? addMorphTargets(geometry, primitiveDef.targets, parser) : geometry;\n  });\n}\n/**\n * @param {BufferGeometry} geometry\n * @param {Number} drawMode\n * @return {BufferGeometry}\n */\n\n\nfunction toTrianglesDrawMode(geometry, drawMode) {\n  let index = geometry.getIndex(); // generate index if not present\n\n  if (index === null) {\n    const indices = [];\n    const position = geometry.getAttribute('position');\n\n    if (position !== undefined) {\n      for (let i = 0; i < position.count; i++) {\n        indices.push(i);\n      }\n\n      geometry.setIndex(indices);\n      index = geometry.getIndex();\n    } else {\n      console.error('THREE.GLTFLoader.toTrianglesDrawMode(): Undefined position attribute. Processing not possible.');\n      return geometry;\n    }\n  } //\n\n\n  const numberOfTriangles = index.count - 2;\n  const newIndices = [];\n\n  if (drawMode === TriangleFanDrawMode) {\n    // gl.TRIANGLE_FAN\n    for (let i = 1; i <= numberOfTriangles; i++) {\n      newIndices.push(index.getX(0));\n      newIndices.push(index.getX(i));\n      newIndices.push(index.getX(i + 1));\n    }\n  } else {\n    // gl.TRIANGLE_STRIP\n    for (let i = 0; i < numberOfTriangles; i++) {\n      if (i % 2 === 0) {\n        newIndices.push(index.getX(i));\n        newIndices.push(index.getX(i + 1));\n        newIndices.push(index.getX(i + 2));\n      } else {\n        newIndices.push(index.getX(i + 2));\n        newIndices.push(index.getX(i + 1));\n        newIndices.push(index.getX(i));\n      }\n    }\n  }\n\n  if (newIndices.length / 3 !== numberOfTriangles) {\n    console.error('THREE.GLTFLoader.toTrianglesDrawMode(): Unable to generate correct amount of triangles.');\n  } // build final geometry\n\n\n  const newGeometry = geometry.clone();\n  newGeometry.setIndex(newIndices);\n  return newGeometry;\n}\n\nexport { GLTFLoader };\n","import { GLTFLoader, DRACOLoader, MeshoptDecoder } from 'three-stdlib';\nimport { useLoader } from '@react-three/fiber';\n\n// @ts-ignore\nlet dracoLoader = null;\n\nfunction extensions(useDraco, useMeshopt, extendLoader) {\n  return loader => {\n    if (extendLoader) {\n      extendLoader(loader);\n    }\n\n    if (useDraco) {\n      if (!dracoLoader) {\n        dracoLoader = new DRACOLoader();\n      }\n\n      dracoLoader.setDecoderPath(typeof useDraco === 'string' ? useDraco : 'https://www.gstatic.com/draco/versioned/decoders/1.4.3/');\n      loader.setDRACOLoader(dracoLoader);\n    }\n\n    if (useMeshopt) {\n      loader.setMeshoptDecoder(typeof MeshoptDecoder === 'function' ? MeshoptDecoder() : MeshoptDecoder);\n    }\n  };\n}\n\nfunction useGLTF(path, useDraco = true, useMeshOpt = true, extendLoader) {\n  const gltf = useLoader(GLTFLoader, path, extensions(useDraco, useMeshOpt, extendLoader));\n  return gltf;\n}\n\nuseGLTF.preload = (path, useDraco = true, useMeshOpt = true, extendLoader) => useLoader.preload(GLTFLoader, path, extensions(useDraco, useMeshOpt, extendLoader));\n\nuseGLTF.clear = input => useLoader.clear(GLTFLoader, input);\n\nexport { useGLTF };\n"],"names":["HorizontalBlurShader","uniforms","tDiffuse","value","h","vertexShader","fragmentShader","VerticalBlurShader","v","ContactShadows","React","ref","scale","frames","Infinity","opacity","width","height","blur","far","resolution","smooth","color","depthWrite","renderOrder","props","scene","useThree","state","gl","shadowCamera","Array","isArray","renderTarget","THREE","renderTargetBlur","texture","generateMipmaps","planeGeometry","rotateX","Math","PI","blurPlane","depthMaterial","depthTest","onBeforeCompile","shader","ucolor","convertSRGBToLinear","replace","horizontalBlurMaterial","verticalBlurMaterial","blurShadows","visible","material","setRenderTarget","render","current","count","useFrame","initialBackground","background","initialOverrideMaterial","overrideMaterial","_extends","geometry","rotation","map","outputEncoding","transparent","args","moduloWrapAround","offset","capacity","OrbitControls","object","domElement","_defineProperty","Vector3","LEFT","UP","RIGHT","BOTTOM","MOUSE","MIDDLE","ONE","TOUCH","TWO","target0","target","clone","position0","position","zoom0","PerspectiveCamera","zoom","getPolarAngle","spherical","phi","getAzimuthalAngle","theta","setPolarAngle","currentPhi","phiDist","abs","sphericalDelta","scope","update","setAzimuthalAngle","currentTheta","thetaDist","getDistance","distanceTo","listenToKeyEvents","addEventListener","onKeyDown","_domElementKeyEvents","saveState","copy","reset","updateProjectionMatrix","dispatchEvent","changeEvent","STATE","NONE","quat","Quaternion","setFromUnitVectors","up","quatInverse","invert","lastPosition","lastQuaternion","twoPI","sub","applyQuaternion","setFromVector3","autoRotate","rotateLeft","autoRotateSpeed","enableDamping","dampingFactor","min","minAzimuthAngle","max","maxAzimuthAngle","isFinite","minPolarAngle","maxPolarAngle","makeSafe","radius","minDistance","maxDistance","addScaledVector","panOffset","add","setFromSpherical","lookAt","multiplyScalar","set","zoomChanged","distanceToSquared","EPS","dot","quaternion","connect","document","console","error","style","touchAction","onContextMenu","onPointerDown","onPointerCancel","onMouseWheel","dispose","_scope$domElement","_scope$domElement2","_scope$domElement3","_scope$domElement4","_scope$domElement5","_scope$domElement6","removeEventListener","ownerDocument","onPointerMove","onPointerUp","type","startEvent","endEvent","ROTATE","DOLLY","PAN","TOUCH_ROTATE","TOUCH_PAN","TOUCH_DOLLY_PAN","TOUCH_DOLLY_ROTATE","Spherical","rotateStart","Vector2","rotateEnd","rotateDelta","panStart","panEnd","panDelta","dollyStart","dollyEnd","dollyDelta","pointers","pointerPositions","getZoomScale","pow","zoomSpeed","angle","reverseOrbit","rotateUp","panLeft","distance","objectMatrix","setFromMatrixColumn","panUp","screenSpacePanning","crossVectors","pan","deltaX","deltaY","element","isPerspectiveCamera","targetDistance","length","tan","fov","clientHeight","matrix","OrthographicCamera","isOrthographicCamera","right","left","clientWidth","top","bottom","warn","enablePan","dollyOut","dollyScale","minZoom","maxZoom","enableZoom","dollyIn","handleMouseDownRotate","event","clientX","clientY","handleMouseDownPan","handleTouchStartRotate","pageX","pageY","x","y","handleTouchStartPan","handleTouchStartDolly","dx","dy","sqrt","handleTouchMoveRotate","getSecondPointerPosition","subVectors","rotateSpeed","handleTouchMovePan","panSpeed","handleTouchMoveDolly","enabled","_scope$domElement7","_scope$domElement8","push","addPointer","pointerType","trackPointer","touches","enableRotate","onTouchStart","mouseAction","button","mouseButtons","handleMouseDownDolly","ctrlKey","metaKey","shiftKey","onMouseDown","handleTouchMoveDollyPan","handleTouchMoveDollyRotate","onTouchMove","handleMouseMoveRotate","handleMouseMoveDolly","handleMouseMovePan","onMouseMove","_scope$domElement9","_scope$domElement10","_scope$domElement11","removePointer","releasePointerCapture","pointerId","preventDefault","handleMouseWheel","needsUpdate","code","keys","keyPanSpeed","handleKeyDown","i","splice","undefined","pointer","EventDispatcher","makeDefault","camera","regress","onChange","onStart","onEnd","restProps","invalidate","defaultCamera","events","get","performance","explCamera","explDomElement","connected","controls","OrbitControls$1","callback","e","old","generated","_taskCache","WeakMap","DRACOLoader","manager","decoderPath","decoderConfig","decoderBinary","decoderPending","workerLimit","workerPool","workerNextTaskID","workerSourceURL","defaultAttributeIDs","normal","uv","defaultAttributeTypes","path","this","config","url","onLoad","onProgress","onError","loader","FileLoader","setPath","setResponseType","setRequestHeader","requestHeader","setWithCredentials","withCredentials","load","buffer","taskConfig","attributeIDs","attributeTypes","useUniqueIDs","decodeGeometry","then","catch","attribute","BYTES_PER_ELEMENT","name","worker","taskKey","JSON","stringify","has","cachedTask","key","promise","byteLength","Error","taskID","taskCost","geometryPending","_getWorker","_worker","Promise","resolve","reject","_callbacks","postMessage","id","message","_createGeometry","_releaseTask","geometryData","BufferGeometry","index","setIndex","BufferAttribute","array","attributes","itemSize","setAttribute","responseType","_initDecoder","useJS","WebAssembly","librariesPending","_loadLibrary","all","libraries","jsContent","wasmBinary","fn","DRACOWorker","toString","body","substring","indexOf","lastIndexOf","join","URL","createObjectURL","Blob","Worker","_taskCosts","_taskLoad","onmessage","data","sort","a","b","log","terminate","Loader","decodeAttribute","draco","decoder","dracoGeometry","attributeName","attributeType","numComponents","num_components","numValues","num_points","dataType","Float32Array","DT_FLOAT32","Int8Array","DT_INT8","Int16Array","DT_INT16","Int32Array","DT_INT32","Uint8Array","DT_UINT8","Uint16Array","DT_UINT16","Uint32Array","DT_UINT32","getDracoDataType","ptr","_malloc","GetAttributeDataArrayForAllPoints","HEAPF32","slice","_free","onModuleLoaded","DracoDecoderModule","module","Decoder","decoderBuffer","DecoderBuffer","Init","decodingStatus","geometryType","GetEncodedGeometryType","TRIANGULAR_MESH","Mesh","DecodeBufferToMesh","POINT_CLOUD","PointCloud","DecodeBufferToPointCloud","ok","error_msg","self","attributeID","GetAttributeByUniqueId","GetAttributeId","GetAttribute","numIndices","num_faces","GetTrianglesUInt32Array","decodeIndex","destroy","buffers","attr","MeshoptDecoder","detector","wasmpack","supported","instance","wasm","validate","instantiate","result","ch","charCodeAt","write","unpack","exports","__wasm_call_ctors","decode","fun","size","source","filter","sbrk","count4","tp","sp","heap","memory","res","subarray","filters","OCTAHEDRAL","QUATERNION","EXPONENTIAL","decoders","ATTRIBUTES","TRIANGLES","INDICES","ready","decodeVertexBuffer","meshopt_decodeVertexBuffer","decodeIndexBuffer","meshopt_decodeIndexBuffer","decodeIndexSequence","meshopt_decodeIndexSequence","decodeGltfBuffer","mode","GLTFLoader","dracoLoader","ktx2Loader","meshoptDecoder","pluginCallbacks","register","parser","GLTFMaterialsClearcoatExtension","GLTFTextureBasisUExtension","GLTFTextureWebPExtension","GLTFMaterialsSheenExtension","GLTFMaterialsTransmissionExtension","GLTFMaterialsVolumeExtension","GLTFMaterialsIorExtension","GLTFMaterialsSpecularExtension","GLTFLightsExtension","GLTFMeshoptCompression","resourcePath","LoaderUtils","itemStart","_onError","itemError","itemEnd","parse","gltf","content","extensions","plugins","BINARY_EXTENSION_HEADER_MAGIC","EXTENSIONS","KHR_BINARY_GLTF","GLTFBinaryExtension","json","asset","version","GLTFParser","crossOrigin","fileLoader","plugin","extensionsUsed","extensionName","extensionsRequired","KHR_MATERIALS_UNLIT","GLTFMaterialsUnlitExtension","KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS","GLTFMaterialsPbrSpecularGlossinessExtension","KHR_DRACO_MESH_COMPRESSION","GLTFDracoMeshCompressionExtension","KHR_TEXTURE_TRANSFORM","GLTFTextureTransformExtension","KHR_MESH_QUANTIZATION","GLTFMeshQuantizationExtension","setExtensions","setPlugins","GLTFRegistry","objects","remove","removeAll","KHR_LIGHTS_PUNCTUAL","KHR_MATERIALS_CLEARCOAT","KHR_MATERIALS_IOR","KHR_MATERIALS_SHEEN","KHR_MATERIALS_SPECULAR","KHR_MATERIALS_TRANSMISSION","KHR_MATERIALS_VOLUME","KHR_TEXTURE_BASISU","EXT_TEXTURE_WEBP","EXT_MESHOPT_COMPRESSION","cache","refs","uses","nodeDefs","nodes","nodeIndex","nodeLength","nodeDef","light","_addNodeRef","lightIndex","cacheKey","dependency","lightNode","lightDef","lights","Color","fromArray","range","DirectionalLight","PointLight","SpotLight","spot","innerConeAngle","outerConeAngle","penumbra","decay","intensity","createUniqueName","_loadLight","_getNodeRef","MeshBasicMaterial","materialParams","materialDef","pending","metallicRoughness","pbrMetallicRoughness","baseColorFactor","baseColorTexture","assignTexture","materialIndex","materials","MeshPhysicalMaterial","extension","clearcoatFactor","clearcoat","clearcoatTexture","clearcoatRoughnessFactor","clearcoatRoughness","clearcoatRoughnessTexture","clearcoatNormalTexture","clearcoatNormalScale","sheenColor","sheenRoughness","sheen","sheenColorFactor","sheenRoughnessFactor","sheenColorTexture","sheenRoughnessTexture","transmissionFactor","transmission","transmissionTexture","thickness","thicknessFactor","thicknessTexture","attenuationDistance","colorArray","attenuationColor","ior","specularIntensity","specularFactor","specularTexture","specularColorFactor","specularColor","specularColorTexture","encoding","sRGBEncoding","textureIndex","textureDef","textures","images","options","loadTextureImage","isSupported","textureLoader","uri","handler","getHandler","detectSupport","loadTexture","image","Image","src","onload","onerror","bufferView","bufferViews","extensionDef","getDependency","byteOffset","stride","byteStride","ArrayBuffer","BINARY_EXTENSION_CHUNK_TYPES","headerView","DataView","header","magic","getUint32","chunkContentsLength","chunkView","chunkIndex","chunkLength","chunkType","contentArray","preload","primitive","bufferViewIndex","gltfAttributeMap","threeAttributeMap","attributeNormalizedMap","attributeTypeMap","threeAttributeName","toLowerCase","accessorDef","accessors","componentType","WEBGL_COMPONENT_TYPES","normalized","decodeDracoFile","transform","texCoord","repeat","GLTFMeshStandardSGMaterial","params","isGLTFSpecularGlossinessMaterial","specularMapParsFragmentChunk","glossinessMapParsFragmentChunk","specularMapFragmentChunk","glossinessMapFragmentChunk","lightPhysicalFragmentChunk","specular","setHex","glossiness","specularMap","glossinessMap","_extraUniforms","uniformName","Object","defineProperties","defines","USE_SPECULARMAP","USE_GLOSSINESSMAP","USE_UV","metalness","roughness","metalnessMap","roughnessMap","setValues","MeshStandardMaterial","specularGlossinessParams","pbrSpecularGlossiness","diffuseFactor","diffuseTexture","emissive","glossinessFactor","specularGlossinessTexture","specGlossMapDef","fog","lightMap","lightMapIntensity","aoMap","aoMapIntensity","emissiveIntensity","emissiveMap","bumpMap","bumpScale","normalMap","normalMapType","TangentSpaceNormalMap","normalScale","displacementMap","displacementScale","displacementBias","alphaMap","envMap","envMapIntensity","refractionRatio","GLTFCubicSplineInterpolant","parameterPositions","sampleValues","sampleSize","resultBuffer","values","valueSize","Interpolant","prototype","beforeStart_","copySampleValue_","afterEnd_","interpolate_","i1","t0","t","t1","stride2","stride3","td","p","pp","ppp","offset1","offset0","s2","s3","s0","s1","p0","m0","p1","m1","_q","GLTFCubicSplineQuaternionInterpolant","normalize","toArray","WEBGL_CONSTANTS","WEBGL_FILTERS","NearestFilter","LinearFilter","NearestMipmapNearestFilter","LinearMipmapNearestFilter","NearestMipmapLinearFilter","LinearMipmapLinearFilter","WEBGL_WRAPPINGS","ClampToEdgeWrapping","MirroredRepeatWrapping","RepeatWrapping","WEBGL_TYPE_SIZES","SCALAR","VEC2","VEC3","VEC4","MAT2","MAT3","MAT4","POSITION","NORMAL","TANGENT","TEXCOORD_0","TEXCOORD_1","COLOR_0","WEIGHTS_0","JOINTS_0","PATH_PROPERTIES","translation","weights","INTERPOLATION","CUBICSPLINE","LINEAR","InterpolateLinear","STEP","InterpolateDiscrete","ALPHA_MODES","addUnknownExtensionsToUserData","knownExtensions","objectDef","userData","gltfExtensions","assignExtrasToUserData","gltfDef","extras","assign","updateMorphTargets","mesh","meshDef","il","morphTargetInfluences","targetNames","morphTargetDictionary","createPrimitiveKey","primitiveDef","dracoExtension","indices","createAttributesKey","attributesKey","getNormalizedComponentScale","constructor","associations","Map","primitiveCache","meshCache","cameraCache","lightCache","textureCache","nodeNamesUsed","createImageBitmap","test","navigator","userAgent","ImageBitmapLoader","TextureLoader","setCrossOrigin","_invokeAll","ext","_markDefs","beforeRoot","getDependencies","dependencies","scenes","animations","cameras","afterRoot","skinDefs","skins","meshDefs","meshes","skinIndex","skinLength","joints","isBone","skin","isSkinnedMesh","updateMappings","original","mappings","children","entries","func","unshift","loadScene","loadNode","_invokeOne","loadMesh","loadAccessor","loadBufferView","loadBuffer","loadMaterial","loadSkin","loadAnimation","loadCamera","defs","def","bufferIndex","bufferDef","bufferViewDef","accessorIndex","sparse","pendingBufferViews","bufferAttribute","TypedArray","elementBytes","itemBytes","ibSlice","floor","ibCacheKey","ib","InterleavedBuffer","InterleavedBufferAttribute","itemSizeIndices","TypedArrayIndices","byteOffsetIndices","byteOffsetValues","sparseIndices","sparseValues","setX","setY","setZ","setW","sampler","webkitURL","sourceURI","isObjectURL","blob","mimeType","isImageBitmapLoader","imageBitmap","Texture","revokeObjectURL","flipY","samplers","magFilter","minFilter","wrapS","wrapT","mapName","mapDef","gltfReference","extendTexture","useDerivativeTangents","tangent","useVertexColors","useFlatShading","isPoints","uuid","pointsMaterial","PointsMaterial","Material","sizeAttenuation","isLine","lineMaterial","LineBasicMaterial","cachedMaterial","vertexColors","flatShading","uv2","materialType","materialExtensions","sgExtension","getMaterialType","extendParams","kmuExtension","metallicFactor","roughnessFactor","metallicRoughnessTexture","extendMaterialParams","doubleSided","side","DoubleSide","alphaMode","alphaTest","alphaCutoff","normalTexture","occlusionTexture","strength","emissiveFactor","emissiveTexture","createMaterial","originalName","sanitizedName","PropertyBinding","primitives","createDracoPrimitive","decodePrimitive","addPrimitiveAttributes","cached","geometryPromise","meshIndex","FrontSide","loadGeometries","results","geometries","SkinnedMesh","skinWeight","normalizeSkinWeights","toTrianglesDrawMode","TriangleStripDrawMode","TriangleFanDrawMode","LineSegments","Line","LineLoop","Points","morphAttributes","assignFinalMaterial","group","Group","cameraIndex","cameraDef","MathUtils","yfov","aspectRatio","znear","zfar","xmag","ymag","skinDef","skinEntry","inverseBindMatrices","accessor","animationIndex","animationDef","pendingNodes","pendingInputAccessors","pendingOutputAccessors","pendingSamplers","pendingTargets","channels","channel","node","input","parameters","output","inputAccessors","outputAccessors","targets","tracks","inputAccessor","outputAccessor","updateMatrix","matrixAutoUpdate","TypedKeyframeTrack","NumberKeyframeTrack","QuaternionKeyframeTrack","VectorKeyframeTrack","targetName","interpolation","traverse","outputArray","scaled","j","jl","track","createInterpolant","times","getValueSize","isInterpolantFactoryMethodGLTFCubicSpline","AnimationClip","o","isMesh","nodeName","meshPromise","createNodeMesh","createNodeAttachment","forEach","Bone","Object3D","Matrix4","applyMatrix4","sceneIndex","sceneDef","nodeIds","buildNodeHierarchy","reducedAssociations","reduceAssociations","nodeId","parentObject","pendingJoints","jointNodes","bones","boneInverses","jointNode","mat","bind","Skeleton","matrixWorld","child","assignAttributeAccessor","gltfAttributeName","box","Box3","boxScale","maxDisplacement","vector","expandByVector","boundingBox","sphere","Sphere","getCenter","center","boundingSphere","computeBounds","hasMorphPosition","hasMorphNormal","pendingPositionAccessors","pendingNormalAccessors","pendingAccessor","morphPositions","morphNormals","morphTargetsRelative","addMorphTargets","drawMode","getIndex","getAttribute","numberOfTriangles","newIndices","getX","newGeometry","useDraco","useMeshopt","extendLoader","setDecoderPath","setDRACOLoader","setMeshoptDecoder","useGLTF","useMeshOpt","useLoader","clear"],"sourceRoot":""}