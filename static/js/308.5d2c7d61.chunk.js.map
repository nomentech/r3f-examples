{"version":3,"file":"static/js/308.5d2c7d61.chunk.js","mappings":"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","sources":["../node_modules/three-stdlib/controls/TransformControls.js","../node_modules/@react-three/drei/core/TransformControls.js","../node_modules/@react-three/drei/web/useCursor.js","../node_modules/lodash.omit/index.js","../node_modules/lodash.pick/index.js"],"sourcesContent":["import _defineProperty from '@babel/runtime/helpers/esm/defineProperty';\nimport { Object3D, Raycaster, Vector3, Quaternion, Euler, Matrix4, Color, MeshBasicMaterial, DoubleSide, LineBasicMaterial, CylinderGeometry, BoxGeometry, BufferGeometry, Float32BufferAttribute, Mesh, Line, OctahedronGeometry, PlaneGeometry, TorusGeometry, SphereGeometry } from 'three';\n\nclass TransformControls extends Object3D {\n  // events\n  constructor(camera, _domElement) {\n    super();\n\n    _defineProperty(this, \"isTransformControls\", true);\n\n    _defineProperty(this, \"visible\", false);\n\n    _defineProperty(this, \"domElement\", void 0);\n\n    _defineProperty(this, \"raycaster\", new Raycaster());\n\n    _defineProperty(this, \"gizmo\", void 0);\n\n    _defineProperty(this, \"plane\", void 0);\n\n    _defineProperty(this, \"tempVector\", new Vector3());\n\n    _defineProperty(this, \"tempVector2\", new Vector3());\n\n    _defineProperty(this, \"tempQuaternion\", new Quaternion());\n\n    _defineProperty(this, \"unit\", {\n      X: new Vector3(1, 0, 0),\n      Y: new Vector3(0, 1, 0),\n      Z: new Vector3(0, 0, 1)\n    });\n\n    _defineProperty(this, \"pointStart\", new Vector3());\n\n    _defineProperty(this, \"pointEnd\", new Vector3());\n\n    _defineProperty(this, \"offset\", new Vector3());\n\n    _defineProperty(this, \"rotationAxis\", new Vector3());\n\n    _defineProperty(this, \"startNorm\", new Vector3());\n\n    _defineProperty(this, \"endNorm\", new Vector3());\n\n    _defineProperty(this, \"rotationAngle\", 0);\n\n    _defineProperty(this, \"cameraPosition\", new Vector3());\n\n    _defineProperty(this, \"cameraQuaternion\", new Quaternion());\n\n    _defineProperty(this, \"cameraScale\", new Vector3());\n\n    _defineProperty(this, \"parentPosition\", new Vector3());\n\n    _defineProperty(this, \"parentQuaternion\", new Quaternion());\n\n    _defineProperty(this, \"parentQuaternionInv\", new Quaternion());\n\n    _defineProperty(this, \"parentScale\", new Vector3());\n\n    _defineProperty(this, \"worldPositionStart\", new Vector3());\n\n    _defineProperty(this, \"worldQuaternionStart\", new Quaternion());\n\n    _defineProperty(this, \"worldScaleStart\", new Vector3());\n\n    _defineProperty(this, \"worldPosition\", new Vector3());\n\n    _defineProperty(this, \"worldQuaternion\", new Quaternion());\n\n    _defineProperty(this, \"worldQuaternionInv\", new Quaternion());\n\n    _defineProperty(this, \"worldScale\", new Vector3());\n\n    _defineProperty(this, \"eye\", new Vector3());\n\n    _defineProperty(this, \"positionStart\", new Vector3());\n\n    _defineProperty(this, \"quaternionStart\", new Quaternion());\n\n    _defineProperty(this, \"scaleStart\", new Vector3());\n\n    _defineProperty(this, \"camera\", void 0);\n\n    _defineProperty(this, \"object\", void 0);\n\n    _defineProperty(this, \"enabled\", true);\n\n    _defineProperty(this, \"axis\", null);\n\n    _defineProperty(this, \"mode\", 'translate');\n\n    _defineProperty(this, \"translationSnap\", null);\n\n    _defineProperty(this, \"rotationSnap\", null);\n\n    _defineProperty(this, \"scaleSnap\", null);\n\n    _defineProperty(this, \"space\", 'world');\n\n    _defineProperty(this, \"size\", 1);\n\n    _defineProperty(this, \"dragging\", false);\n\n    _defineProperty(this, \"showX\", true);\n\n    _defineProperty(this, \"showY\", true);\n\n    _defineProperty(this, \"showZ\", true);\n\n    _defineProperty(this, \"changeEvent\", {\n      type: 'change'\n    });\n\n    _defineProperty(this, \"mouseDownEvent\", {\n      type: 'mouseDown',\n      mode: this.mode\n    });\n\n    _defineProperty(this, \"mouseUpEvent\", {\n      type: 'mouseUp',\n      mode: this.mode\n    });\n\n    _defineProperty(this, \"objectChangeEvent\", {\n      type: 'objectChange'\n    });\n\n    _defineProperty(this, \"intersectObjectWithRay\", (object, raycaster, includeInvisible) => {\n      const allIntersections = raycaster.intersectObject(object, true);\n\n      for (let i = 0; i < allIntersections.length; i++) {\n        if (allIntersections[i].object.visible || includeInvisible) {\n          return allIntersections[i];\n        }\n      }\n\n      return false;\n    });\n\n    _defineProperty(this, \"attach\", object => {\n      this.object = object;\n      this.visible = true;\n      return this;\n    });\n\n    _defineProperty(this, \"detach\", () => {\n      this.object = undefined;\n      this.visible = false;\n      this.axis = null;\n      return this;\n    });\n\n    _defineProperty(this, \"updateMatrixWorld\", () => {\n      if (this.object !== undefined) {\n        this.object.updateMatrixWorld();\n\n        if (this.object.parent === null) {\n          console.error('TransformControls: The attached 3D object must be a part of the scene graph.');\n        } else {\n          this.object.parent.matrixWorld.decompose(this.parentPosition, this.parentQuaternion, this.parentScale);\n        }\n\n        this.object.matrixWorld.decompose(this.worldPosition, this.worldQuaternion, this.worldScale);\n        this.parentQuaternionInv.copy(this.parentQuaternion).invert();\n        this.worldQuaternionInv.copy(this.worldQuaternion).invert();\n      }\n\n      this.camera.updateMatrixWorld();\n      this.camera.matrixWorld.decompose(this.cameraPosition, this.cameraQuaternion, this.cameraScale);\n      this.eye.copy(this.cameraPosition).sub(this.worldPosition).normalize();\n      super.updateMatrixWorld();\n    });\n\n    _defineProperty(this, \"pointerHover\", pointer => {\n      if (this.object === undefined || this.dragging === true) return;\n      this.raycaster.setFromCamera(pointer, this.camera);\n      const intersect = this.intersectObjectWithRay(this.gizmo.picker[this.mode], this.raycaster);\n\n      if (intersect) {\n        this.axis = intersect.object.name;\n      } else {\n        this.axis = null;\n      }\n    });\n\n    _defineProperty(this, \"pointerDown\", pointer => {\n      if (this.object === undefined || this.dragging === true || pointer.button !== 0) return;\n\n      if (this.axis !== null) {\n        this.raycaster.setFromCamera(pointer, this.camera);\n        const planeIntersect = this.intersectObjectWithRay(this.plane, this.raycaster, true);\n\n        if (planeIntersect) {\n          let space = this.space;\n\n          if (this.mode === 'scale') {\n            space = 'local';\n          } else if (this.axis === 'E' || this.axis === 'XYZE' || this.axis === 'XYZ') {\n            space = 'world';\n          }\n\n          if (space === 'local' && this.mode === 'rotate') {\n            const snap = this.rotationSnap;\n            if (this.axis === 'X' && snap) this.object.rotation.x = Math.round(this.object.rotation.x / snap) * snap;\n            if (this.axis === 'Y' && snap) this.object.rotation.y = Math.round(this.object.rotation.y / snap) * snap;\n            if (this.axis === 'Z' && snap) this.object.rotation.z = Math.round(this.object.rotation.z / snap) * snap;\n          }\n\n          this.object.updateMatrixWorld();\n\n          if (this.object.parent) {\n            this.object.parent.updateMatrixWorld();\n          }\n\n          this.positionStart.copy(this.object.position);\n          this.quaternionStart.copy(this.object.quaternion);\n          this.scaleStart.copy(this.object.scale);\n          this.object.matrixWorld.decompose(this.worldPositionStart, this.worldQuaternionStart, this.worldScaleStart);\n          this.pointStart.copy(planeIntersect.point).sub(this.worldPositionStart);\n        }\n\n        this.dragging = true;\n        this.mouseDownEvent.mode = this.mode;\n        this.dispatchEvent(this.mouseDownEvent);\n      }\n    });\n\n    _defineProperty(this, \"pointerMove\", pointer => {\n      const axis = this.axis;\n      const mode = this.mode;\n      const object = this.object;\n      let space = this.space;\n\n      if (mode === 'scale') {\n        space = 'local';\n      } else if (axis === 'E' || axis === 'XYZE' || axis === 'XYZ') {\n        space = 'world';\n      }\n\n      if (object === undefined || axis === null || this.dragging === false || pointer.button !== -1) return;\n      this.raycaster.setFromCamera(pointer, this.camera);\n      const planeIntersect = this.intersectObjectWithRay(this.plane, this.raycaster, true);\n      if (!planeIntersect) return;\n      this.pointEnd.copy(planeIntersect.point).sub(this.worldPositionStart);\n\n      if (mode === 'translate') {\n        // Apply translate\n        this.offset.copy(this.pointEnd).sub(this.pointStart);\n\n        if (space === 'local' && axis !== 'XYZ') {\n          this.offset.applyQuaternion(this.worldQuaternionInv);\n        }\n\n        if (axis.indexOf('X') === -1) this.offset.x = 0;\n        if (axis.indexOf('Y') === -1) this.offset.y = 0;\n        if (axis.indexOf('Z') === -1) this.offset.z = 0;\n\n        if (space === 'local' && axis !== 'XYZ') {\n          this.offset.applyQuaternion(this.quaternionStart).divide(this.parentScale);\n        } else {\n          this.offset.applyQuaternion(this.parentQuaternionInv).divide(this.parentScale);\n        }\n\n        object.position.copy(this.offset).add(this.positionStart); // Apply translation snap\n\n        if (this.translationSnap) {\n          if (space === 'local') {\n            object.position.applyQuaternion(this.tempQuaternion.copy(this.quaternionStart).invert());\n\n            if (axis.search('X') !== -1) {\n              object.position.x = Math.round(object.position.x / this.translationSnap) * this.translationSnap;\n            }\n\n            if (axis.search('Y') !== -1) {\n              object.position.y = Math.round(object.position.y / this.translationSnap) * this.translationSnap;\n            }\n\n            if (axis.search('Z') !== -1) {\n              object.position.z = Math.round(object.position.z / this.translationSnap) * this.translationSnap;\n            }\n\n            object.position.applyQuaternion(this.quaternionStart);\n          }\n\n          if (space === 'world') {\n            if (object.parent) {\n              object.position.add(this.tempVector.setFromMatrixPosition(object.parent.matrixWorld));\n            }\n\n            if (axis.search('X') !== -1) {\n              object.position.x = Math.round(object.position.x / this.translationSnap) * this.translationSnap;\n            }\n\n            if (axis.search('Y') !== -1) {\n              object.position.y = Math.round(object.position.y / this.translationSnap) * this.translationSnap;\n            }\n\n            if (axis.search('Z') !== -1) {\n              object.position.z = Math.round(object.position.z / this.translationSnap) * this.translationSnap;\n            }\n\n            if (object.parent) {\n              object.position.sub(this.tempVector.setFromMatrixPosition(object.parent.matrixWorld));\n            }\n          }\n        }\n      } else if (mode === 'scale') {\n        if (axis.search('XYZ') !== -1) {\n          let d = this.pointEnd.length() / this.pointStart.length();\n          if (this.pointEnd.dot(this.pointStart) < 0) d *= -1;\n          this.tempVector2.set(d, d, d);\n        } else {\n          this.tempVector.copy(this.pointStart);\n          this.tempVector2.copy(this.pointEnd);\n          this.tempVector.applyQuaternion(this.worldQuaternionInv);\n          this.tempVector2.applyQuaternion(this.worldQuaternionInv);\n          this.tempVector2.divide(this.tempVector);\n\n          if (axis.search('X') === -1) {\n            this.tempVector2.x = 1;\n          }\n\n          if (axis.search('Y') === -1) {\n            this.tempVector2.y = 1;\n          }\n\n          if (axis.search('Z') === -1) {\n            this.tempVector2.z = 1;\n          }\n        } // Apply scale\n\n\n        object.scale.copy(this.scaleStart).multiply(this.tempVector2);\n\n        if (this.scaleSnap && this.object) {\n          if (axis.search('X') !== -1) {\n            this.object.scale.x = Math.round(object.scale.x / this.scaleSnap) * this.scaleSnap || this.scaleSnap;\n          }\n\n          if (axis.search('Y') !== -1) {\n            object.scale.y = Math.round(object.scale.y / this.scaleSnap) * this.scaleSnap || this.scaleSnap;\n          }\n\n          if (axis.search('Z') !== -1) {\n            object.scale.z = Math.round(object.scale.z / this.scaleSnap) * this.scaleSnap || this.scaleSnap;\n          }\n        }\n      } else if (mode === 'rotate') {\n        this.offset.copy(this.pointEnd).sub(this.pointStart);\n        const ROTATION_SPEED = 20 / this.worldPosition.distanceTo(this.tempVector.setFromMatrixPosition(this.camera.matrixWorld));\n\n        if (axis === 'E') {\n          this.rotationAxis.copy(this.eye);\n          this.rotationAngle = this.pointEnd.angleTo(this.pointStart);\n          this.startNorm.copy(this.pointStart).normalize();\n          this.endNorm.copy(this.pointEnd).normalize();\n          this.rotationAngle *= this.endNorm.cross(this.startNorm).dot(this.eye) < 0 ? 1 : -1;\n        } else if (axis === 'XYZE') {\n          this.rotationAxis.copy(this.offset).cross(this.eye).normalize();\n          this.rotationAngle = this.offset.dot(this.tempVector.copy(this.rotationAxis).cross(this.eye)) * ROTATION_SPEED;\n        } else if (axis === 'X' || axis === 'Y' || axis === 'Z') {\n          this.rotationAxis.copy(this.unit[axis]);\n          this.tempVector.copy(this.unit[axis]);\n\n          if (space === 'local') {\n            this.tempVector.applyQuaternion(this.worldQuaternion);\n          }\n\n          this.rotationAngle = this.offset.dot(this.tempVector.cross(this.eye).normalize()) * ROTATION_SPEED;\n        } // Apply rotation snap\n\n\n        if (this.rotationSnap) {\n          this.rotationAngle = Math.round(this.rotationAngle / this.rotationSnap) * this.rotationSnap;\n        } // Apply rotate\n\n\n        if (space === 'local' && axis !== 'E' && axis !== 'XYZE') {\n          object.quaternion.copy(this.quaternionStart);\n          object.quaternion.multiply(this.tempQuaternion.setFromAxisAngle(this.rotationAxis, this.rotationAngle)).normalize();\n        } else {\n          this.rotationAxis.applyQuaternion(this.parentQuaternionInv);\n          object.quaternion.copy(this.tempQuaternion.setFromAxisAngle(this.rotationAxis, this.rotationAngle));\n          object.quaternion.multiply(this.quaternionStart).normalize();\n        }\n      }\n\n      this.dispatchEvent(this.changeEvent);\n      this.dispatchEvent(this.objectChangeEvent);\n    });\n\n    _defineProperty(this, \"pointerUp\", pointer => {\n      if (pointer.button !== 0) return;\n\n      if (this.dragging && this.axis !== null) {\n        this.mouseUpEvent.mode = this.mode;\n        this.dispatchEvent(this.mouseUpEvent);\n      }\n\n      this.dragging = false;\n      this.axis = null;\n    });\n\n    _defineProperty(this, \"getPointer\", event => {\n      var _this$domElement$owne;\n\n      if (this.domElement && (_this$domElement$owne = this.domElement.ownerDocument) !== null && _this$domElement$owne !== void 0 && _this$domElement$owne.pointerLockElement) {\n        return {\n          x: 0,\n          y: 0,\n          button: event.button\n        };\n      } else {\n        var _this$domElement;\n\n        const pointer = event.changedTouches ? event.changedTouches[0] : event;\n        const rect = (_this$domElement = this.domElement) === null || _this$domElement === void 0 ? void 0 : _this$domElement.getBoundingClientRect();\n        return {\n          x: (pointer.clientX - rect.left) / rect.width * 2 - 1,\n          y: -(pointer.clientY - rect.top) / rect.height * 2 + 1,\n          button: event.button\n        };\n      }\n    });\n\n    _defineProperty(this, \"onPointerHover\", event => {\n      if (!this.enabled) return;\n\n      switch (event.pointerType) {\n        case 'mouse':\n        case 'pen':\n          this.pointerHover(this.getPointer(event));\n          break;\n      }\n    });\n\n    _defineProperty(this, \"onPointerDown\", event => {\n      if (!this.enabled || !this.domElement) return;\n      this.domElement.style.touchAction = 'none'; // disable touch scroll\n\n      this.domElement.ownerDocument.addEventListener('pointermove', this.onPointerMove);\n      this.pointerHover(this.getPointer(event));\n      this.pointerDown(this.getPointer(event));\n    });\n\n    _defineProperty(this, \"onPointerMove\", event => {\n      if (!this.enabled) return;\n      this.pointerMove(this.getPointer(event));\n    });\n\n    _defineProperty(this, \"onPointerUp\", event => {\n      if (!this.enabled || !this.domElement) return;\n      this.domElement.style.touchAction = '';\n      this.domElement.ownerDocument.removeEventListener('pointermove', this.onPointerMove);\n      this.pointerUp(this.getPointer(event));\n    });\n\n    _defineProperty(this, \"getMode\", () => this.mode);\n\n    _defineProperty(this, \"setMode\", mode => {\n      this.mode = mode;\n    });\n\n    _defineProperty(this, \"setTranslationSnap\", translationSnap => {\n      this.translationSnap = translationSnap;\n    });\n\n    _defineProperty(this, \"setRotationSnap\", rotationSnap => {\n      this.rotationSnap = rotationSnap;\n    });\n\n    _defineProperty(this, \"setScaleSnap\", scaleSnap => {\n      this.scaleSnap = scaleSnap;\n    });\n\n    _defineProperty(this, \"setSize\", size => {\n      this.size = size;\n    });\n\n    _defineProperty(this, \"setSpace\", space => {\n      this.space = space;\n    });\n\n    _defineProperty(this, \"update\", () => {\n      console.warn('THREE.TransformControls: update function has no more functionality and therefore has been deprecated.');\n    });\n\n    _defineProperty(this, \"connect\", domElement => {\n      if (domElement === document) {\n        console.error('THREE.OrbitControls: \"document\" should not be used as the target \"domElement\". Please use \"renderer.domElement\" instead.');\n      }\n\n      this.domElement = domElement;\n      this.domElement.addEventListener('pointerdown', this.onPointerDown);\n      this.domElement.addEventListener('pointermove', this.onPointerHover);\n      this.domElement.ownerDocument.addEventListener('pointerup', this.onPointerUp);\n    });\n\n    _defineProperty(this, \"dispose\", () => {\n      var _this$domElement2, _this$domElement3, _this$domElement4, _this$domElement4$own, _this$domElement5, _this$domElement5$own;\n\n      (_this$domElement2 = this.domElement) === null || _this$domElement2 === void 0 ? void 0 : _this$domElement2.removeEventListener('pointerdown', this.onPointerDown);\n      (_this$domElement3 = this.domElement) === null || _this$domElement3 === void 0 ? void 0 : _this$domElement3.removeEventListener('pointermove', this.onPointerHover);\n      (_this$domElement4 = this.domElement) === null || _this$domElement4 === void 0 ? void 0 : (_this$domElement4$own = _this$domElement4.ownerDocument) === null || _this$domElement4$own === void 0 ? void 0 : _this$domElement4$own.removeEventListener('pointermove', this.onPointerMove);\n      (_this$domElement5 = this.domElement) === null || _this$domElement5 === void 0 ? void 0 : (_this$domElement5$own = _this$domElement5.ownerDocument) === null || _this$domElement5$own === void 0 ? void 0 : _this$domElement5$own.removeEventListener('pointerup', this.onPointerUp);\n      this.traverse(child => {\n        const mesh = child;\n\n        if (mesh.geometry) {\n          mesh.geometry.dispose();\n        }\n\n        if (mesh.material) {\n          mesh.material.dispose();\n        }\n      });\n    });\n\n    this.domElement = _domElement;\n    this.camera = camera;\n    this.gizmo = new TransformControlsGizmo();\n    this.add(this.gizmo);\n    this.plane = new TransformControlsPlane();\n    this.add(this.plane); // Defined getter, setter and store for a property\n\n    const defineProperty = (propName, defaultValue) => {\n      let propValue = defaultValue;\n      Object.defineProperty(this, propName, {\n        get: function () {\n          return propValue !== undefined ? propValue : defaultValue;\n        },\n        set: function (value) {\n          if (propValue !== value) {\n            propValue = value;\n            this.plane[propName] = value;\n            this.gizmo[propName] = value;\n            this.dispatchEvent({\n              type: propName + '-changed',\n              value: value\n            });\n            this.dispatchEvent(this.changeEvent);\n          }\n        }\n      }); //@ts-ignore\n\n      this[propName] = defaultValue; // @ts-ignore\n\n      this.plane[propName] = defaultValue; // @ts-ignore\n\n      this.gizmo[propName] = defaultValue;\n    };\n\n    defineProperty('camera', this.camera);\n    defineProperty('object', this.object);\n    defineProperty('enabled', this.enabled);\n    defineProperty('axis', this.axis);\n    defineProperty('mode', this.mode);\n    defineProperty('translationSnap', this.translationSnap);\n    defineProperty('rotationSnap', this.rotationSnap);\n    defineProperty('scaleSnap', this.scaleSnap);\n    defineProperty('space', this.space);\n    defineProperty('size', this.size);\n    defineProperty('dragging', this.dragging);\n    defineProperty('showX', this.showX);\n    defineProperty('showY', this.showY);\n    defineProperty('showZ', this.showZ);\n    defineProperty('worldPosition', this.worldPosition);\n    defineProperty('worldPositionStart', this.worldPositionStart);\n    defineProperty('worldQuaternion', this.worldQuaternion);\n    defineProperty('worldQuaternionStart', this.worldQuaternionStart);\n    defineProperty('cameraPosition', this.cameraPosition);\n    defineProperty('cameraQuaternion', this.cameraQuaternion);\n    defineProperty('pointStart', this.pointStart);\n    defineProperty('pointEnd', this.pointEnd);\n    defineProperty('rotationAxis', this.rotationAxis);\n    defineProperty('rotationAngle', this.rotationAngle);\n    defineProperty('eye', this.eye); // connect events\n\n    if (_domElement !== undefined) this.connect(_domElement);\n  }\n\n}\n\nclass TransformControlsGizmo extends Object3D {\n  // these are set from parent class TransformControls\n  constructor() {\n    super();\n\n    _defineProperty(this, \"isTransformControlsGizmo\", true);\n\n    _defineProperty(this, \"type\", 'TransformControlsGizmo');\n\n    _defineProperty(this, \"tempVector\", new Vector3(0, 0, 0));\n\n    _defineProperty(this, \"tempEuler\", new Euler());\n\n    _defineProperty(this, \"alignVector\", new Vector3(0, 1, 0));\n\n    _defineProperty(this, \"zeroVector\", new Vector3(0, 0, 0));\n\n    _defineProperty(this, \"lookAtMatrix\", new Matrix4());\n\n    _defineProperty(this, \"tempQuaternion\", new Quaternion());\n\n    _defineProperty(this, \"tempQuaternion2\", new Quaternion());\n\n    _defineProperty(this, \"identityQuaternion\", new Quaternion());\n\n    _defineProperty(this, \"unitX\", new Vector3(1, 0, 0));\n\n    _defineProperty(this, \"unitY\", new Vector3(0, 1, 0));\n\n    _defineProperty(this, \"unitZ\", new Vector3(0, 0, 1));\n\n    _defineProperty(this, \"gizmo\", void 0);\n\n    _defineProperty(this, \"picker\", void 0);\n\n    _defineProperty(this, \"helper\", void 0);\n\n    _defineProperty(this, \"rotationAxis\", new Vector3());\n\n    _defineProperty(this, \"cameraPosition\", new Vector3());\n\n    _defineProperty(this, \"worldPositionStart\", new Vector3());\n\n    _defineProperty(this, \"worldQuaternionStart\", new Quaternion());\n\n    _defineProperty(this, \"worldPosition\", new Vector3());\n\n    _defineProperty(this, \"worldQuaternion\", new Quaternion());\n\n    _defineProperty(this, \"eye\", new Vector3());\n\n    _defineProperty(this, \"camera\", null);\n\n    _defineProperty(this, \"enabled\", true);\n\n    _defineProperty(this, \"axis\", null);\n\n    _defineProperty(this, \"mode\", 'translate');\n\n    _defineProperty(this, \"space\", 'world');\n\n    _defineProperty(this, \"size\", 1);\n\n    _defineProperty(this, \"dragging\", false);\n\n    _defineProperty(this, \"showX\", true);\n\n    _defineProperty(this, \"showY\", true);\n\n    _defineProperty(this, \"showZ\", true);\n\n    _defineProperty(this, \"updateMatrixWorld\", () => {\n      let space = this.space;\n\n      if (this.mode === 'scale') {\n        space = 'local'; // scale always oriented to local rotation\n      }\n\n      const quaternion = space === 'local' ? this.worldQuaternion : this.identityQuaternion; // Show only gizmos for current transform mode\n\n      this.gizmo['translate'].visible = this.mode === 'translate';\n      this.gizmo['rotate'].visible = this.mode === 'rotate';\n      this.gizmo['scale'].visible = this.mode === 'scale';\n      this.helper['translate'].visible = this.mode === 'translate';\n      this.helper['rotate'].visible = this.mode === 'rotate';\n      this.helper['scale'].visible = this.mode === 'scale';\n      let handles = [];\n      handles = handles.concat(this.picker[this.mode].children);\n      handles = handles.concat(this.gizmo[this.mode].children);\n      handles = handles.concat(this.helper[this.mode].children);\n\n      for (let i = 0; i < handles.length; i++) {\n        const handle = handles[i]; // hide aligned to camera\n\n        handle.visible = true;\n        handle.rotation.set(0, 0, 0);\n        handle.position.copy(this.worldPosition);\n        let factor;\n\n        if (this.camera.isOrthographicCamera) {\n          factor = (this.camera.top - this.camera.bottom) / this.camera.zoom;\n        } else {\n          factor = this.worldPosition.distanceTo(this.cameraPosition) * Math.min(1.9 * Math.tan(Math.PI * this.camera.fov / 360) / this.camera.zoom, 7);\n        }\n\n        handle.scale.set(1, 1, 1).multiplyScalar(factor * this.size / 7); // TODO: simplify helpers and consider decoupling from gizmo\n\n        if (handle.tag === 'helper') {\n          handle.visible = false;\n\n          if (handle.name === 'AXIS') {\n            handle.position.copy(this.worldPositionStart);\n            handle.visible = !!this.axis;\n\n            if (this.axis === 'X') {\n              this.tempQuaternion.setFromEuler(this.tempEuler.set(0, 0, 0));\n              handle.quaternion.copy(quaternion).multiply(this.tempQuaternion);\n\n              if (Math.abs(this.alignVector.copy(this.unitX).applyQuaternion(quaternion).dot(this.eye)) > 0.9) {\n                handle.visible = false;\n              }\n            }\n\n            if (this.axis === 'Y') {\n              this.tempQuaternion.setFromEuler(this.tempEuler.set(0, 0, Math.PI / 2));\n              handle.quaternion.copy(quaternion).multiply(this.tempQuaternion);\n\n              if (Math.abs(this.alignVector.copy(this.unitY).applyQuaternion(quaternion).dot(this.eye)) > 0.9) {\n                handle.visible = false;\n              }\n            }\n\n            if (this.axis === 'Z') {\n              this.tempQuaternion.setFromEuler(this.tempEuler.set(0, Math.PI / 2, 0));\n              handle.quaternion.copy(quaternion).multiply(this.tempQuaternion);\n\n              if (Math.abs(this.alignVector.copy(this.unitZ).applyQuaternion(quaternion).dot(this.eye)) > 0.9) {\n                handle.visible = false;\n              }\n            }\n\n            if (this.axis === 'XYZE') {\n              this.tempQuaternion.setFromEuler(this.tempEuler.set(0, Math.PI / 2, 0));\n              this.alignVector.copy(this.rotationAxis);\n              handle.quaternion.setFromRotationMatrix(this.lookAtMatrix.lookAt(this.zeroVector, this.alignVector, this.unitY));\n              handle.quaternion.multiply(this.tempQuaternion);\n              handle.visible = this.dragging;\n            }\n\n            if (this.axis === 'E') {\n              handle.visible = false;\n            }\n          } else if (handle.name === 'START') {\n            handle.position.copy(this.worldPositionStart);\n            handle.visible = this.dragging;\n          } else if (handle.name === 'END') {\n            handle.position.copy(this.worldPosition);\n            handle.visible = this.dragging;\n          } else if (handle.name === 'DELTA') {\n            handle.position.copy(this.worldPositionStart);\n            handle.quaternion.copy(this.worldQuaternionStart);\n            this.tempVector.set(1e-10, 1e-10, 1e-10).add(this.worldPositionStart).sub(this.worldPosition).multiplyScalar(-1);\n            this.tempVector.applyQuaternion(this.worldQuaternionStart.clone().invert());\n            handle.scale.copy(this.tempVector);\n            handle.visible = this.dragging;\n          } else {\n            handle.quaternion.copy(quaternion);\n\n            if (this.dragging) {\n              handle.position.copy(this.worldPositionStart);\n            } else {\n              handle.position.copy(this.worldPosition);\n            }\n\n            if (this.axis) {\n              handle.visible = this.axis.search(handle.name) !== -1;\n            }\n          } // If updating helper, skip rest of the loop\n\n\n          continue;\n        } // Align handles to current local or world rotation\n\n\n        handle.quaternion.copy(quaternion);\n\n        if (this.mode === 'translate' || this.mode === 'scale') {\n          // Hide translate and scale axis facing the camera\n          const AXIS_HIDE_TRESHOLD = 0.99;\n          const PLANE_HIDE_TRESHOLD = 0.2;\n          const AXIS_FLIP_TRESHOLD = 0.0;\n\n          if (handle.name === 'X' || handle.name === 'XYZX') {\n            if (Math.abs(this.alignVector.copy(this.unitX).applyQuaternion(quaternion).dot(this.eye)) > AXIS_HIDE_TRESHOLD) {\n              handle.scale.set(1e-10, 1e-10, 1e-10);\n              handle.visible = false;\n            }\n          }\n\n          if (handle.name === 'Y' || handle.name === 'XYZY') {\n            if (Math.abs(this.alignVector.copy(this.unitY).applyQuaternion(quaternion).dot(this.eye)) > AXIS_HIDE_TRESHOLD) {\n              handle.scale.set(1e-10, 1e-10, 1e-10);\n              handle.visible = false;\n            }\n          }\n\n          if (handle.name === 'Z' || handle.name === 'XYZZ') {\n            if (Math.abs(this.alignVector.copy(this.unitZ).applyQuaternion(quaternion).dot(this.eye)) > AXIS_HIDE_TRESHOLD) {\n              handle.scale.set(1e-10, 1e-10, 1e-10);\n              handle.visible = false;\n            }\n          }\n\n          if (handle.name === 'XY') {\n            if (Math.abs(this.alignVector.copy(this.unitZ).applyQuaternion(quaternion).dot(this.eye)) < PLANE_HIDE_TRESHOLD) {\n              handle.scale.set(1e-10, 1e-10, 1e-10);\n              handle.visible = false;\n            }\n          }\n\n          if (handle.name === 'YZ') {\n            if (Math.abs(this.alignVector.copy(this.unitX).applyQuaternion(quaternion).dot(this.eye)) < PLANE_HIDE_TRESHOLD) {\n              handle.scale.set(1e-10, 1e-10, 1e-10);\n              handle.visible = false;\n            }\n          }\n\n          if (handle.name === 'XZ') {\n            if (Math.abs(this.alignVector.copy(this.unitY).applyQuaternion(quaternion).dot(this.eye)) < PLANE_HIDE_TRESHOLD) {\n              handle.scale.set(1e-10, 1e-10, 1e-10);\n              handle.visible = false;\n            }\n          } // Flip translate and scale axis ocluded behind another axis\n\n\n          if (handle.name.search('X') !== -1) {\n            if (this.alignVector.copy(this.unitX).applyQuaternion(quaternion).dot(this.eye) < AXIS_FLIP_TRESHOLD) {\n              if (handle.tag === 'fwd') {\n                handle.visible = false;\n              } else {\n                handle.scale.x *= -1;\n              }\n            } else if (handle.tag === 'bwd') {\n              handle.visible = false;\n            }\n          }\n\n          if (handle.name.search('Y') !== -1) {\n            if (this.alignVector.copy(this.unitY).applyQuaternion(quaternion).dot(this.eye) < AXIS_FLIP_TRESHOLD) {\n              if (handle.tag === 'fwd') {\n                handle.visible = false;\n              } else {\n                handle.scale.y *= -1;\n              }\n            } else if (handle.tag === 'bwd') {\n              handle.visible = false;\n            }\n          }\n\n          if (handle.name.search('Z') !== -1) {\n            if (this.alignVector.copy(this.unitZ).applyQuaternion(quaternion).dot(this.eye) < AXIS_FLIP_TRESHOLD) {\n              if (handle.tag === 'fwd') {\n                handle.visible = false;\n              } else {\n                handle.scale.z *= -1;\n              }\n            } else if (handle.tag === 'bwd') {\n              handle.visible = false;\n            }\n          }\n        } else if (this.mode === 'rotate') {\n          // Align handles to current local or world rotation\n          this.tempQuaternion2.copy(quaternion);\n          this.alignVector.copy(this.eye).applyQuaternion(this.tempQuaternion.copy(quaternion).invert());\n\n          if (handle.name.search('E') !== -1) {\n            handle.quaternion.setFromRotationMatrix(this.lookAtMatrix.lookAt(this.eye, this.zeroVector, this.unitY));\n          }\n\n          if (handle.name === 'X') {\n            this.tempQuaternion.setFromAxisAngle(this.unitX, Math.atan2(-this.alignVector.y, this.alignVector.z));\n            this.tempQuaternion.multiplyQuaternions(this.tempQuaternion2, this.tempQuaternion);\n            handle.quaternion.copy(this.tempQuaternion);\n          }\n\n          if (handle.name === 'Y') {\n            this.tempQuaternion.setFromAxisAngle(this.unitY, Math.atan2(this.alignVector.x, this.alignVector.z));\n            this.tempQuaternion.multiplyQuaternions(this.tempQuaternion2, this.tempQuaternion);\n            handle.quaternion.copy(this.tempQuaternion);\n          }\n\n          if (handle.name === 'Z') {\n            this.tempQuaternion.setFromAxisAngle(this.unitZ, Math.atan2(this.alignVector.y, this.alignVector.x));\n            this.tempQuaternion.multiplyQuaternions(this.tempQuaternion2, this.tempQuaternion);\n            handle.quaternion.copy(this.tempQuaternion);\n          }\n        } // Hide disabled axes\n\n\n        handle.visible = handle.visible && (handle.name.indexOf('X') === -1 || this.showX);\n        handle.visible = handle.visible && (handle.name.indexOf('Y') === -1 || this.showY);\n        handle.visible = handle.visible && (handle.name.indexOf('Z') === -1 || this.showZ);\n        handle.visible = handle.visible && (handle.name.indexOf('E') === -1 || this.showX && this.showY && this.showZ); // highlight selected axis\n        //@ts-ignore\n\n        handle.material.tempOpacity = handle.material.tempOpacity || handle.material.opacity; //@ts-ignore\n\n        handle.material.tempColor = handle.material.tempColor || handle.material.color.clone(); //@ts-ignore\n\n        handle.material.color.copy(handle.material.tempColor); //@ts-ignore\n\n        handle.material.opacity = handle.material.tempOpacity;\n\n        if (!this.enabled) {\n          //@ts-ignore\n          handle.material.opacity *= 0.5; //@ts-ignore\n\n          handle.material.color.lerp(new Color(1, 1, 1), 0.5);\n        } else if (this.axis) {\n          if (handle.name === this.axis) {\n            //@ts-ignore\n            handle.material.opacity = 1.0; //@ts-ignore\n\n            handle.material.color.lerp(new Color(1, 1, 1), 0.5);\n          } else if (this.axis.split('').some(function (a) {\n            return handle.name === a;\n          })) {\n            //@ts-ignore\n            handle.material.opacity = 1.0; //@ts-ignore\n\n            handle.material.color.lerp(new Color(1, 1, 1), 0.5);\n          } else {\n            //@ts-ignore\n            handle.material.opacity *= 0.25; //@ts-ignore\n\n            handle.material.color.lerp(new Color(1, 1, 1), 0.5);\n          }\n        }\n      }\n\n      super.updateMatrixWorld();\n    });\n\n    const gizmoMaterial = new MeshBasicMaterial({\n      depthTest: false,\n      depthWrite: false,\n      transparent: true,\n      side: DoubleSide,\n      fog: false,\n      toneMapped: false\n    });\n    const gizmoLineMaterial = new LineBasicMaterial({\n      depthTest: false,\n      depthWrite: false,\n      transparent: true,\n      linewidth: 1,\n      fog: false,\n      toneMapped: false\n    }); // Make unique material for each axis/color\n\n    const matInvisible = gizmoMaterial.clone();\n    matInvisible.opacity = 0.15;\n    const matHelper = gizmoMaterial.clone();\n    matHelper.opacity = 0.33;\n    const matRed = gizmoMaterial.clone();\n    matRed.color.set(0xff0000);\n    const matGreen = gizmoMaterial.clone();\n    matGreen.color.set(0x00ff00);\n    const matBlue = gizmoMaterial.clone();\n    matBlue.color.set(0x0000ff);\n    const matWhiteTransparent = gizmoMaterial.clone();\n    matWhiteTransparent.opacity = 0.25;\n    const matYellowTransparent = matWhiteTransparent.clone();\n    matYellowTransparent.color.set(0xffff00);\n    const matCyanTransparent = matWhiteTransparent.clone();\n    matCyanTransparent.color.set(0x00ffff);\n    const matMagentaTransparent = matWhiteTransparent.clone();\n    matMagentaTransparent.color.set(0xff00ff);\n    const matYellow = gizmoMaterial.clone();\n    matYellow.color.set(0xffff00);\n    const matLineRed = gizmoLineMaterial.clone();\n    matLineRed.color.set(0xff0000);\n    const matLineGreen = gizmoLineMaterial.clone();\n    matLineGreen.color.set(0x00ff00);\n    const matLineBlue = gizmoLineMaterial.clone();\n    matLineBlue.color.set(0x0000ff);\n    const matLineCyan = gizmoLineMaterial.clone();\n    matLineCyan.color.set(0x00ffff);\n    const matLineMagenta = gizmoLineMaterial.clone();\n    matLineMagenta.color.set(0xff00ff);\n    const matLineYellow = gizmoLineMaterial.clone();\n    matLineYellow.color.set(0xffff00);\n    const matLineGray = gizmoLineMaterial.clone();\n    matLineGray.color.set(0x787878);\n    const matLineYellowTransparent = matLineYellow.clone();\n    matLineYellowTransparent.opacity = 0.25; // reusable geometry\n\n    const arrowGeometry = new CylinderGeometry(0, 0.05, 0.2, 12, 1, false);\n    const scaleHandleGeometry = new BoxGeometry(0.125, 0.125, 0.125);\n    const lineGeometry = new BufferGeometry();\n    lineGeometry.setAttribute('position', new Float32BufferAttribute([0, 0, 0, 1, 0, 0], 3));\n\n    const CircleGeometry = (radius, arc) => {\n      const geometry = new BufferGeometry();\n      const vertices = [];\n\n      for (let i = 0; i <= 64 * arc; ++i) {\n        vertices.push(0, Math.cos(i / 32 * Math.PI) * radius, Math.sin(i / 32 * Math.PI) * radius);\n      }\n\n      geometry.setAttribute('position', new Float32BufferAttribute(vertices, 3));\n      return geometry;\n    }; // Special geometry for transform helper. If scaled with position vector it spans from [0,0,0] to position\n\n\n    const TranslateHelperGeometry = () => {\n      const geometry = new BufferGeometry();\n      geometry.setAttribute('position', new Float32BufferAttribute([0, 0, 0, 1, 1, 1], 3));\n      return geometry;\n    }; // Gizmo definitions - custom hierarchy definitions for setupGizmo() function\n\n\n    const gizmoTranslate = {\n      X: [[new Mesh(arrowGeometry, matRed), [1, 0, 0], [0, 0, -Math.PI / 2], null, 'fwd'], [new Mesh(arrowGeometry, matRed), [1, 0, 0], [0, 0, Math.PI / 2], null, 'bwd'], [new Line(lineGeometry, matLineRed)]],\n      Y: [[new Mesh(arrowGeometry, matGreen), [0, 1, 0], null, null, 'fwd'], [new Mesh(arrowGeometry, matGreen), [0, 1, 0], [Math.PI, 0, 0], null, 'bwd'], [new Line(lineGeometry, matLineGreen), null, [0, 0, Math.PI / 2]]],\n      Z: [[new Mesh(arrowGeometry, matBlue), [0, 0, 1], [Math.PI / 2, 0, 0], null, 'fwd'], [new Mesh(arrowGeometry, matBlue), [0, 0, 1], [-Math.PI / 2, 0, 0], null, 'bwd'], [new Line(lineGeometry, matLineBlue), null, [0, -Math.PI / 2, 0]]],\n      XYZ: [[new Mesh(new OctahedronGeometry(0.1, 0), matWhiteTransparent.clone()), [0, 0, 0], [0, 0, 0]]],\n      XY: [[new Mesh(new PlaneGeometry(0.295, 0.295), matYellowTransparent.clone()), [0.15, 0.15, 0]], [new Line(lineGeometry, matLineYellow), [0.18, 0.3, 0], null, [0.125, 1, 1]], [new Line(lineGeometry, matLineYellow), [0.3, 0.18, 0], [0, 0, Math.PI / 2], [0.125, 1, 1]]],\n      YZ: [[new Mesh(new PlaneGeometry(0.295, 0.295), matCyanTransparent.clone()), [0, 0.15, 0.15], [0, Math.PI / 2, 0]], [new Line(lineGeometry, matLineCyan), [0, 0.18, 0.3], [0, 0, Math.PI / 2], [0.125, 1, 1]], [new Line(lineGeometry, matLineCyan), [0, 0.3, 0.18], [0, -Math.PI / 2, 0], [0.125, 1, 1]]],\n      XZ: [[new Mesh(new PlaneGeometry(0.295, 0.295), matMagentaTransparent.clone()), [0.15, 0, 0.15], [-Math.PI / 2, 0, 0]], [new Line(lineGeometry, matLineMagenta), [0.18, 0, 0.3], null, [0.125, 1, 1]], [new Line(lineGeometry, matLineMagenta), [0.3, 0, 0.18], [0, -Math.PI / 2, 0], [0.125, 1, 1]]]\n    };\n    const pickerTranslate = {\n      X: [[new Mesh(new CylinderGeometry(0.2, 0, 1, 4, 1, false), matInvisible), [0.6, 0, 0], [0, 0, -Math.PI / 2]]],\n      Y: [[new Mesh(new CylinderGeometry(0.2, 0, 1, 4, 1, false), matInvisible), [0, 0.6, 0]]],\n      Z: [[new Mesh(new CylinderGeometry(0.2, 0, 1, 4, 1, false), matInvisible), [0, 0, 0.6], [Math.PI / 2, 0, 0]]],\n      XYZ: [[new Mesh(new OctahedronGeometry(0.2, 0), matInvisible)]],\n      XY: [[new Mesh(new PlaneGeometry(0.4, 0.4), matInvisible), [0.2, 0.2, 0]]],\n      YZ: [[new Mesh(new PlaneGeometry(0.4, 0.4), matInvisible), [0, 0.2, 0.2], [0, Math.PI / 2, 0]]],\n      XZ: [[new Mesh(new PlaneGeometry(0.4, 0.4), matInvisible), [0.2, 0, 0.2], [-Math.PI / 2, 0, 0]]]\n    };\n    const helperTranslate = {\n      START: [[new Mesh(new OctahedronGeometry(0.01, 2), matHelper), null, null, null, 'helper']],\n      END: [[new Mesh(new OctahedronGeometry(0.01, 2), matHelper), null, null, null, 'helper']],\n      DELTA: [[new Line(TranslateHelperGeometry(), matHelper), null, null, null, 'helper']],\n      X: [[new Line(lineGeometry, matHelper.clone()), [-1e3, 0, 0], null, [1e6, 1, 1], 'helper']],\n      Y: [[new Line(lineGeometry, matHelper.clone()), [0, -1e3, 0], [0, 0, Math.PI / 2], [1e6, 1, 1], 'helper']],\n      Z: [[new Line(lineGeometry, matHelper.clone()), [0, 0, -1e3], [0, -Math.PI / 2, 0], [1e6, 1, 1], 'helper']]\n    };\n    const gizmoRotate = {\n      X: [[new Line(CircleGeometry(1, 0.5), matLineRed)], [new Mesh(new OctahedronGeometry(0.04, 0), matRed), [0, 0, 0.99], null, [1, 3, 1]]],\n      Y: [[new Line(CircleGeometry(1, 0.5), matLineGreen), null, [0, 0, -Math.PI / 2]], [new Mesh(new OctahedronGeometry(0.04, 0), matGreen), [0, 0, 0.99], null, [3, 1, 1]]],\n      Z: [[new Line(CircleGeometry(1, 0.5), matLineBlue), null, [0, Math.PI / 2, 0]], [new Mesh(new OctahedronGeometry(0.04, 0), matBlue), [0.99, 0, 0], null, [1, 3, 1]]],\n      E: [[new Line(CircleGeometry(1.25, 1), matLineYellowTransparent), null, [0, Math.PI / 2, 0]], [new Mesh(new CylinderGeometry(0.03, 0, 0.15, 4, 1, false), matLineYellowTransparent), [1.17, 0, 0], [0, 0, -Math.PI / 2], [1, 1, 0.001]], [new Mesh(new CylinderGeometry(0.03, 0, 0.15, 4, 1, false), matLineYellowTransparent), [-1.17, 0, 0], [0, 0, Math.PI / 2], [1, 1, 0.001]], [new Mesh(new CylinderGeometry(0.03, 0, 0.15, 4, 1, false), matLineYellowTransparent), [0, -1.17, 0], [Math.PI, 0, 0], [1, 1, 0.001]], [new Mesh(new CylinderGeometry(0.03, 0, 0.15, 4, 1, false), matLineYellowTransparent), [0, 1.17, 0], [0, 0, 0], [1, 1, 0.001]]],\n      XYZE: [[new Line(CircleGeometry(1, 1), matLineGray), null, [0, Math.PI / 2, 0]]]\n    };\n    const helperRotate = {\n      AXIS: [[new Line(lineGeometry, matHelper.clone()), [-1e3, 0, 0], null, [1e6, 1, 1], 'helper']]\n    };\n    const pickerRotate = {\n      X: [[new Mesh(new TorusGeometry(1, 0.1, 4, 24), matInvisible), [0, 0, 0], [0, -Math.PI / 2, -Math.PI / 2]]],\n      Y: [[new Mesh(new TorusGeometry(1, 0.1, 4, 24), matInvisible), [0, 0, 0], [Math.PI / 2, 0, 0]]],\n      Z: [[new Mesh(new TorusGeometry(1, 0.1, 4, 24), matInvisible), [0, 0, 0], [0, 0, -Math.PI / 2]]],\n      E: [[new Mesh(new TorusGeometry(1.25, 0.1, 2, 24), matInvisible)]],\n      XYZE: [[new Mesh(new SphereGeometry(0.7, 10, 8), matInvisible)]]\n    };\n    const gizmoScale = {\n      X: [[new Mesh(scaleHandleGeometry, matRed), [0.8, 0, 0], [0, 0, -Math.PI / 2]], [new Line(lineGeometry, matLineRed), null, null, [0.8, 1, 1]]],\n      Y: [[new Mesh(scaleHandleGeometry, matGreen), [0, 0.8, 0]], [new Line(lineGeometry, matLineGreen), null, [0, 0, Math.PI / 2], [0.8, 1, 1]]],\n      Z: [[new Mesh(scaleHandleGeometry, matBlue), [0, 0, 0.8], [Math.PI / 2, 0, 0]], [new Line(lineGeometry, matLineBlue), null, [0, -Math.PI / 2, 0], [0.8, 1, 1]]],\n      XY: [[new Mesh(scaleHandleGeometry, matYellowTransparent), [0.85, 0.85, 0], null, [2, 2, 0.2]], [new Line(lineGeometry, matLineYellow), [0.855, 0.98, 0], null, [0.125, 1, 1]], [new Line(lineGeometry, matLineYellow), [0.98, 0.855, 0], [0, 0, Math.PI / 2], [0.125, 1, 1]]],\n      YZ: [[new Mesh(scaleHandleGeometry, matCyanTransparent), [0, 0.85, 0.85], null, [0.2, 2, 2]], [new Line(lineGeometry, matLineCyan), [0, 0.855, 0.98], [0, 0, Math.PI / 2], [0.125, 1, 1]], [new Line(lineGeometry, matLineCyan), [0, 0.98, 0.855], [0, -Math.PI / 2, 0], [0.125, 1, 1]]],\n      XZ: [[new Mesh(scaleHandleGeometry, matMagentaTransparent), [0.85, 0, 0.85], null, [2, 0.2, 2]], [new Line(lineGeometry, matLineMagenta), [0.855, 0, 0.98], null, [0.125, 1, 1]], [new Line(lineGeometry, matLineMagenta), [0.98, 0, 0.855], [0, -Math.PI / 2, 0], [0.125, 1, 1]]],\n      XYZX: [[new Mesh(new BoxGeometry(0.125, 0.125, 0.125), matWhiteTransparent.clone()), [1.1, 0, 0]]],\n      XYZY: [[new Mesh(new BoxGeometry(0.125, 0.125, 0.125), matWhiteTransparent.clone()), [0, 1.1, 0]]],\n      XYZZ: [[new Mesh(new BoxGeometry(0.125, 0.125, 0.125), matWhiteTransparent.clone()), [0, 0, 1.1]]]\n    };\n    const pickerScale = {\n      X: [[new Mesh(new CylinderGeometry(0.2, 0, 0.8, 4, 1, false), matInvisible), [0.5, 0, 0], [0, 0, -Math.PI / 2]]],\n      Y: [[new Mesh(new CylinderGeometry(0.2, 0, 0.8, 4, 1, false), matInvisible), [0, 0.5, 0]]],\n      Z: [[new Mesh(new CylinderGeometry(0.2, 0, 0.8, 4, 1, false), matInvisible), [0, 0, 0.5], [Math.PI / 2, 0, 0]]],\n      XY: [[new Mesh(scaleHandleGeometry, matInvisible), [0.85, 0.85, 0], null, [3, 3, 0.2]]],\n      YZ: [[new Mesh(scaleHandleGeometry, matInvisible), [0, 0.85, 0.85], null, [0.2, 3, 3]]],\n      XZ: [[new Mesh(scaleHandleGeometry, matInvisible), [0.85, 0, 0.85], null, [3, 0.2, 3]]],\n      XYZX: [[new Mesh(new BoxGeometry(0.2, 0.2, 0.2), matInvisible), [1.1, 0, 0]]],\n      XYZY: [[new Mesh(new BoxGeometry(0.2, 0.2, 0.2), matInvisible), [0, 1.1, 0]]],\n      XYZZ: [[new Mesh(new BoxGeometry(0.2, 0.2, 0.2), matInvisible), [0, 0, 1.1]]]\n    };\n    const helperScale = {\n      X: [[new Line(lineGeometry, matHelper.clone()), [-1e3, 0, 0], null, [1e6, 1, 1], 'helper']],\n      Y: [[new Line(lineGeometry, matHelper.clone()), [0, -1e3, 0], [0, 0, Math.PI / 2], [1e6, 1, 1], 'helper']],\n      Z: [[new Line(lineGeometry, matHelper.clone()), [0, 0, -1e3], [0, -Math.PI / 2, 0], [1e6, 1, 1], 'helper']]\n    }; // Creates an Object3D with gizmos described in custom hierarchy definition.\n    // this is nearly impossible to Type so i'm leaving it\n\n    const setupGizmo = gizmoMap => {\n      const gizmo = new Object3D();\n\n      for (let name in gizmoMap) {\n        for (let i = gizmoMap[name].length; i--;) {\n          const object = gizmoMap[name][i][0].clone();\n          const position = gizmoMap[name][i][1];\n          const rotation = gizmoMap[name][i][2];\n          const scale = gizmoMap[name][i][3];\n          const tag = gizmoMap[name][i][4]; // name and tag properties are essential for picking and updating logic.\n\n          object.name = name; // @ts-ignore\n\n          object.tag = tag;\n\n          if (position) {\n            object.position.set(position[0], position[1], position[2]);\n          }\n\n          if (rotation) {\n            object.rotation.set(rotation[0], rotation[1], rotation[2]);\n          }\n\n          if (scale) {\n            object.scale.set(scale[0], scale[1], scale[2]);\n          }\n\n          object.updateMatrix();\n          const tempGeometry = object.geometry.clone();\n          tempGeometry.applyMatrix4(object.matrix);\n          object.geometry = tempGeometry;\n          object.renderOrder = Infinity;\n          object.position.set(0, 0, 0);\n          object.rotation.set(0, 0, 0);\n          object.scale.set(1, 1, 1);\n          gizmo.add(object);\n        }\n      }\n\n      return gizmo;\n    };\n\n    this.gizmo = {};\n    this.picker = {};\n    this.helper = {};\n    this.add(this.gizmo['translate'] = setupGizmo(gizmoTranslate));\n    this.add(this.gizmo['rotate'] = setupGizmo(gizmoRotate));\n    this.add(this.gizmo['scale'] = setupGizmo(gizmoScale));\n    this.add(this.picker['translate'] = setupGizmo(pickerTranslate));\n    this.add(this.picker['rotate'] = setupGizmo(pickerRotate));\n    this.add(this.picker['scale'] = setupGizmo(pickerScale));\n    this.add(this.helper['translate'] = setupGizmo(helperTranslate));\n    this.add(this.helper['rotate'] = setupGizmo(helperRotate));\n    this.add(this.helper['scale'] = setupGizmo(helperScale)); // Pickers should be hidden always\n\n    this.picker['translate'].visible = false;\n    this.picker['rotate'].visible = false;\n    this.picker['scale'].visible = false;\n  } // updateMatrixWorld will update transformations and appearance of individual handles\n\n\n}\n\nclass TransformControlsPlane extends Mesh {\n  constructor() {\n    super(new PlaneGeometry(100000, 100000, 2, 2), new MeshBasicMaterial({\n      visible: false,\n      wireframe: true,\n      side: DoubleSide,\n      transparent: true,\n      opacity: 0.1,\n      toneMapped: false\n    }));\n\n    _defineProperty(this, \"isTransformControlsPlane\", true);\n\n    _defineProperty(this, \"type\", 'TransformControlsPlane');\n\n    _defineProperty(this, \"unitX\", new Vector3(1, 0, 0));\n\n    _defineProperty(this, \"unitY\", new Vector3(0, 1, 0));\n\n    _defineProperty(this, \"unitZ\", new Vector3(0, 0, 1));\n\n    _defineProperty(this, \"tempVector\", new Vector3());\n\n    _defineProperty(this, \"dirVector\", new Vector3());\n\n    _defineProperty(this, \"alignVector\", new Vector3());\n\n    _defineProperty(this, \"tempMatrix\", new Matrix4());\n\n    _defineProperty(this, \"identityQuaternion\", new Quaternion());\n\n    _defineProperty(this, \"cameraQuaternion\", new Quaternion());\n\n    _defineProperty(this, \"worldPosition\", new Vector3());\n\n    _defineProperty(this, \"worldQuaternion\", new Quaternion());\n\n    _defineProperty(this, \"eye\", new Vector3());\n\n    _defineProperty(this, \"axis\", null);\n\n    _defineProperty(this, \"mode\", 'translate');\n\n    _defineProperty(this, \"space\", 'world');\n\n    _defineProperty(this, \"updateMatrixWorld\", () => {\n      let space = this.space;\n      this.position.copy(this.worldPosition);\n      if (this.mode === 'scale') space = 'local'; // scale always oriented to local rotation\n\n      this.unitX.set(1, 0, 0).applyQuaternion(space === 'local' ? this.worldQuaternion : this.identityQuaternion);\n      this.unitY.set(0, 1, 0).applyQuaternion(space === 'local' ? this.worldQuaternion : this.identityQuaternion);\n      this.unitZ.set(0, 0, 1).applyQuaternion(space === 'local' ? this.worldQuaternion : this.identityQuaternion); // Align the plane for current transform mode, axis and space.\n\n      this.alignVector.copy(this.unitY);\n\n      switch (this.mode) {\n        case 'translate':\n        case 'scale':\n          switch (this.axis) {\n            case 'X':\n              this.alignVector.copy(this.eye).cross(this.unitX);\n              this.dirVector.copy(this.unitX).cross(this.alignVector);\n              break;\n\n            case 'Y':\n              this.alignVector.copy(this.eye).cross(this.unitY);\n              this.dirVector.copy(this.unitY).cross(this.alignVector);\n              break;\n\n            case 'Z':\n              this.alignVector.copy(this.eye).cross(this.unitZ);\n              this.dirVector.copy(this.unitZ).cross(this.alignVector);\n              break;\n\n            case 'XY':\n              this.dirVector.copy(this.unitZ);\n              break;\n\n            case 'YZ':\n              this.dirVector.copy(this.unitX);\n              break;\n\n            case 'XZ':\n              this.alignVector.copy(this.unitZ);\n              this.dirVector.copy(this.unitY);\n              break;\n\n            case 'XYZ':\n            case 'E':\n              this.dirVector.set(0, 0, 0);\n              break;\n          }\n\n          break;\n\n        case 'rotate':\n        default:\n          // special case for rotate\n          this.dirVector.set(0, 0, 0);\n      }\n\n      if (this.dirVector.length() === 0) {\n        // If in rotate mode, make the plane parallel to camera\n        this.quaternion.copy(this.cameraQuaternion);\n      } else {\n        this.tempMatrix.lookAt(this.tempVector.set(0, 0, 0), this.dirVector, this.alignVector);\n        this.quaternion.setFromRotationMatrix(this.tempMatrix);\n      }\n\n      super.updateMatrixWorld();\n    });\n  }\n\n}\n\nexport { TransformControls, TransformControlsGizmo, TransformControlsPlane };\n","import _extends from '@babel/runtime/helpers/esm/extends';\nimport { useThree } from '@react-three/fiber';\nimport omit from 'lodash.omit';\nimport pick from 'lodash.pick';\nimport * as React from 'react';\nimport * as THREE from 'three';\nimport { TransformControls as TransformControls$1 } from 'three-stdlib';\n\nconst TransformControls = /*#__PURE__*/React.forwardRef(({\n  children,\n  domElement,\n  onChange,\n  onMouseDown,\n  onMouseUp,\n  onObjectChange,\n  object,\n  ...props\n}, ref) => {\n  const transformOnlyPropNames = ['enabled', 'axis', 'mode', 'translationSnap', 'rotationSnap', 'scaleSnap', 'space', 'size', 'showX', 'showY', 'showZ'];\n  const {\n    camera,\n    ...rest\n  } = props;\n  const transformProps = pick(rest, transformOnlyPropNames);\n  const objectProps = omit(rest, transformOnlyPropNames); // @ts-expect-error new in @react-three/fiber@7.0.5\n\n  const defaultControls = useThree(state => state.controls);\n  const gl = useThree(state => state.gl);\n  const events = useThree(state => state.events);\n  const defaultCamera = useThree(state => state.camera);\n  const invalidate = useThree(state => state.invalidate);\n  const explCamera = camera || defaultCamera;\n  const explDomElement = domElement || events.connected || gl.domElement;\n  const controls = React.useMemo(() => new TransformControls$1(explCamera, explDomElement), [explCamera, explDomElement]);\n  const group = React.useRef();\n  React.useLayoutEffect(() => {\n    if (object) {\n      controls.attach(object instanceof THREE.Object3D ? object : object.current);\n    } else if (group.current instanceof THREE.Object3D) {\n      controls.attach(group.current);\n    }\n\n    return () => void controls.detach();\n  }, [object, children, controls]);\n  React.useEffect(() => {\n    if (defaultControls) {\n      const callback = event => defaultControls.enabled = !event.value;\n\n      controls.addEventListener('dragging-changed', callback);\n      return () => controls.removeEventListener('dragging-changed', callback);\n    }\n  }, [controls, defaultControls]);\n  React.useEffect(() => {\n    const callback = e => {\n      invalidate();\n      if (onChange) onChange(e);\n    };\n\n    controls == null ? void 0 : controls.addEventListener == null ? void 0 : controls.addEventListener('change', callback);\n    if (onMouseDown) controls == null ? void 0 : controls.addEventListener == null ? void 0 : controls.addEventListener('mouseDown', onMouseDown);\n    if (onMouseUp) controls == null ? void 0 : controls.addEventListener == null ? void 0 : controls.addEventListener('mouseUp', onMouseUp);\n    if (onObjectChange) controls == null ? void 0 : controls.addEventListener == null ? void 0 : controls.addEventListener('objectChange', onObjectChange);\n    return () => {\n      controls == null ? void 0 : controls.removeEventListener == null ? void 0 : controls.removeEventListener('change', callback);\n      if (onMouseDown) controls == null ? void 0 : controls.removeEventListener == null ? void 0 : controls.removeEventListener('mouseDown', onMouseDown);\n      if (onMouseUp) controls == null ? void 0 : controls.removeEventListener == null ? void 0 : controls.removeEventListener('mouseUp', onMouseUp);\n      if (onObjectChange) controls == null ? void 0 : controls.removeEventListener == null ? void 0 : controls.removeEventListener('objectChange', onObjectChange);\n    };\n  }, [onChange, onMouseDown, onMouseUp, onObjectChange, controls, invalidate]);\n  return controls ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"primitive\", _extends({\n    ref: ref,\n    object: controls\n  }, transformProps)), /*#__PURE__*/React.createElement(\"group\", _extends({\n    ref: group\n  }, objectProps), children)) : null;\n});\n\nexport { TransformControls };\n","import * as React from 'react';\n\nfunction useCursor(hovered, onPointerOver = 'pointer', onPointerOut = 'auto') {\n  React.useEffect(() => {\n    if (hovered) {\n      document.body.style.cursor = onPointerOver;\n      return () => void (document.body.style.cursor = onPointerOut);\n    }\n  }, [hovered]);\n}\n\nexport { useCursor };\n","/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0,\n    MAX_SAFE_INTEGER = 9007199254740991;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    symbolTag = '[object Symbol]';\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/**\n * A faster alternative to `Function#apply`, this function invokes `func`\n * with the `this` binding of `thisArg` and the arguments of `args`.\n *\n * @private\n * @param {Function} func The function to invoke.\n * @param {*} thisArg The `this` binding of `func`.\n * @param {Array} args The arguments to invoke `func` with.\n * @returns {*} Returns the result of `func`.\n */\nfunction apply(func, thisArg, args) {\n  switch (args.length) {\n    case 0: return func.call(thisArg);\n    case 1: return func.call(thisArg, args[0]);\n    case 2: return func.call(thisArg, args[0], args[1]);\n    case 3: return func.call(thisArg, args[0], args[1], args[2]);\n  }\n  return func.apply(thisArg, args);\n}\n\n/**\n * A specialized version of `_.includes` for arrays without support for\n * specifying an index to search from.\n *\n * @private\n * @param {Array} [array] The array to inspect.\n * @param {*} target The value to search for.\n * @returns {boolean} Returns `true` if `target` is found, else `false`.\n */\nfunction arrayIncludes(array, value) {\n  var length = array ? array.length : 0;\n  return !!length && baseIndexOf(array, value, 0) > -1;\n}\n\n/**\n * This function is like `arrayIncludes` except that it accepts a comparator.\n *\n * @private\n * @param {Array} [array] The array to inspect.\n * @param {*} target The value to search for.\n * @param {Function} comparator The comparator invoked per element.\n * @returns {boolean} Returns `true` if `target` is found, else `false`.\n */\nfunction arrayIncludesWith(array, value, comparator) {\n  var index = -1,\n      length = array ? array.length : 0;\n\n  while (++index < length) {\n    if (comparator(value, array[index])) {\n      return true;\n    }\n  }\n  return false;\n}\n\n/**\n * A specialized version of `_.map` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n */\nfunction arrayMap(array, iteratee) {\n  var index = -1,\n      length = array ? array.length : 0,\n      result = Array(length);\n\n  while (++index < length) {\n    result[index] = iteratee(array[index], index, array);\n  }\n  return result;\n}\n\n/**\n * Appends the elements of `values` to `array`.\n *\n * @private\n * @param {Array} array The array to modify.\n * @param {Array} values The values to append.\n * @returns {Array} Returns `array`.\n */\nfunction arrayPush(array, values) {\n  var index = -1,\n      length = values.length,\n      offset = array.length;\n\n  while (++index < length) {\n    array[offset + index] = values[index];\n  }\n  return array;\n}\n\n/**\n * The base implementation of `_.findIndex` and `_.findLastIndex` without\n * support for iteratee shorthands.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {Function} predicate The function invoked per iteration.\n * @param {number} fromIndex The index to search from.\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction baseFindIndex(array, predicate, fromIndex, fromRight) {\n  var length = array.length,\n      index = fromIndex + (fromRight ? 1 : -1);\n\n  while ((fromRight ? index-- : ++index < length)) {\n    if (predicate(array[index], index, array)) {\n      return index;\n    }\n  }\n  return -1;\n}\n\n/**\n * The base implementation of `_.indexOf` without `fromIndex` bounds checks.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} value The value to search for.\n * @param {number} fromIndex The index to search from.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction baseIndexOf(array, value, fromIndex) {\n  if (value !== value) {\n    return baseFindIndex(array, baseIsNaN, fromIndex);\n  }\n  var index = fromIndex - 1,\n      length = array.length;\n\n  while (++index < length) {\n    if (array[index] === value) {\n      return index;\n    }\n  }\n  return -1;\n}\n\n/**\n * The base implementation of `_.isNaN` without support for number objects.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is `NaN`, else `false`.\n */\nfunction baseIsNaN(value) {\n  return value !== value;\n}\n\n/**\n * The base implementation of `_.times` without support for iteratee shorthands\n * or max array length checks.\n *\n * @private\n * @param {number} n The number of times to invoke `iteratee`.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the array of results.\n */\nfunction baseTimes(n, iteratee) {\n  var index = -1,\n      result = Array(n);\n\n  while (++index < n) {\n    result[index] = iteratee(index);\n  }\n  return result;\n}\n\n/**\n * The base implementation of `_.unary` without support for storing metadata.\n *\n * @private\n * @param {Function} func The function to cap arguments for.\n * @returns {Function} Returns the new capped function.\n */\nfunction baseUnary(func) {\n  return function(value) {\n    return func(value);\n  };\n}\n\n/**\n * Checks if a cache value for `key` exists.\n *\n * @private\n * @param {Object} cache The cache to query.\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction cacheHas(cache, key) {\n  return cache.has(key);\n}\n\n/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\n/**\n * Checks if `value` is a host object in IE < 9.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a host object, else `false`.\n */\nfunction isHostObject(value) {\n  // Many host objects are `Object` objects that can coerce to strings\n  // despite having improperly defined `toString` methods.\n  var result = false;\n  if (value != null && typeof value.toString != 'function') {\n    try {\n      result = !!(value + '');\n    } catch (e) {}\n  }\n  return result;\n}\n\n/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype,\n    funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to detect overreaching core-js shims. */\nvar coreJsData = root['__core-js_shared__'];\n\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = (function() {\n  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n  return uid ? ('Symbol(src)_1.' + uid) : '';\n}());\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/** Built-in value references. */\nvar Symbol = root.Symbol,\n    getPrototype = overArg(Object.getPrototypeOf, Object),\n    propertyIsEnumerable = objectProto.propertyIsEnumerable,\n    splice = arrayProto.splice,\n    spreadableSymbol = Symbol ? Symbol.isConcatSpreadable : undefined;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeGetSymbols = Object.getOwnPropertySymbols,\n    nativeMax = Math.max;\n\n/* Built-in method references that are verified to be native. */\nvar Map = getNative(root, 'Map'),\n    nativeCreate = getNative(Object, 'create');\n\n/**\n * Creates a hash object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Hash(entries) {\n  var index = -1,\n      length = entries ? entries.length : 0;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the hash.\n *\n * @private\n * @name clear\n * @memberOf Hash\n */\nfunction hashClear() {\n  this.__data__ = nativeCreate ? nativeCreate(null) : {};\n}\n\n/**\n * Removes `key` and its value from the hash.\n *\n * @private\n * @name delete\n * @memberOf Hash\n * @param {Object} hash The hash to modify.\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction hashDelete(key) {\n  return this.has(key) && delete this.__data__[key];\n}\n\n/**\n * Gets the hash value for `key`.\n *\n * @private\n * @name get\n * @memberOf Hash\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction hashGet(key) {\n  var data = this.__data__;\n  if (nativeCreate) {\n    var result = data[key];\n    return result === HASH_UNDEFINED ? undefined : result;\n  }\n  return hasOwnProperty.call(data, key) ? data[key] : undefined;\n}\n\n/**\n * Checks if a hash value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Hash\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction hashHas(key) {\n  var data = this.__data__;\n  return nativeCreate ? data[key] !== undefined : hasOwnProperty.call(data, key);\n}\n\n/**\n * Sets the hash `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Hash\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the hash instance.\n */\nfunction hashSet(key, value) {\n  var data = this.__data__;\n  data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n  return this;\n}\n\n// Add methods to `Hash`.\nHash.prototype.clear = hashClear;\nHash.prototype['delete'] = hashDelete;\nHash.prototype.get = hashGet;\nHash.prototype.has = hashHas;\nHash.prototype.set = hashSet;\n\n/**\n * Creates an list cache object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction ListCache(entries) {\n  var index = -1,\n      length = entries ? entries.length : 0;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the list cache.\n *\n * @private\n * @name clear\n * @memberOf ListCache\n */\nfunction listCacheClear() {\n  this.__data__ = [];\n}\n\n/**\n * Removes `key` and its value from the list cache.\n *\n * @private\n * @name delete\n * @memberOf ListCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction listCacheDelete(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    return false;\n  }\n  var lastIndex = data.length - 1;\n  if (index == lastIndex) {\n    data.pop();\n  } else {\n    splice.call(data, index, 1);\n  }\n  return true;\n}\n\n/**\n * Gets the list cache value for `key`.\n *\n * @private\n * @name get\n * @memberOf ListCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction listCacheGet(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  return index < 0 ? undefined : data[index][1];\n}\n\n/**\n * Checks if a list cache value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf ListCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction listCacheHas(key) {\n  return assocIndexOf(this.__data__, key) > -1;\n}\n\n/**\n * Sets the list cache `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf ListCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the list cache instance.\n */\nfunction listCacheSet(key, value) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    data.push([key, value]);\n  } else {\n    data[index][1] = value;\n  }\n  return this;\n}\n\n// Add methods to `ListCache`.\nListCache.prototype.clear = listCacheClear;\nListCache.prototype['delete'] = listCacheDelete;\nListCache.prototype.get = listCacheGet;\nListCache.prototype.has = listCacheHas;\nListCache.prototype.set = listCacheSet;\n\n/**\n * Creates a map cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction MapCache(entries) {\n  var index = -1,\n      length = entries ? entries.length : 0;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the map.\n *\n * @private\n * @name clear\n * @memberOf MapCache\n */\nfunction mapCacheClear() {\n  this.__data__ = {\n    'hash': new Hash,\n    'map': new (Map || ListCache),\n    'string': new Hash\n  };\n}\n\n/**\n * Removes `key` and its value from the map.\n *\n * @private\n * @name delete\n * @memberOf MapCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction mapCacheDelete(key) {\n  return getMapData(this, key)['delete'](key);\n}\n\n/**\n * Gets the map value for `key`.\n *\n * @private\n * @name get\n * @memberOf MapCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction mapCacheGet(key) {\n  return getMapData(this, key).get(key);\n}\n\n/**\n * Checks if a map value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf MapCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction mapCacheHas(key) {\n  return getMapData(this, key).has(key);\n}\n\n/**\n * Sets the map `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf MapCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the map cache instance.\n */\nfunction mapCacheSet(key, value) {\n  getMapData(this, key).set(key, value);\n  return this;\n}\n\n// Add methods to `MapCache`.\nMapCache.prototype.clear = mapCacheClear;\nMapCache.prototype['delete'] = mapCacheDelete;\nMapCache.prototype.get = mapCacheGet;\nMapCache.prototype.has = mapCacheHas;\nMapCache.prototype.set = mapCacheSet;\n\n/**\n *\n * Creates an array cache object to store unique values.\n *\n * @private\n * @constructor\n * @param {Array} [values] The values to cache.\n */\nfunction SetCache(values) {\n  var index = -1,\n      length = values ? values.length : 0;\n\n  this.__data__ = new MapCache;\n  while (++index < length) {\n    this.add(values[index]);\n  }\n}\n\n/**\n * Adds `value` to the array cache.\n *\n * @private\n * @name add\n * @memberOf SetCache\n * @alias push\n * @param {*} value The value to cache.\n * @returns {Object} Returns the cache instance.\n */\nfunction setCacheAdd(value) {\n  this.__data__.set(value, HASH_UNDEFINED);\n  return this;\n}\n\n/**\n * Checks if `value` is in the array cache.\n *\n * @private\n * @name has\n * @memberOf SetCache\n * @param {*} value The value to search for.\n * @returns {number} Returns `true` if `value` is found, else `false`.\n */\nfunction setCacheHas(value) {\n  return this.__data__.has(value);\n}\n\n// Add methods to `SetCache`.\nSetCache.prototype.add = SetCache.prototype.push = setCacheAdd;\nSetCache.prototype.has = setCacheHas;\n\n/**\n * Creates an array of the enumerable property names of the array-like `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @param {boolean} inherited Specify returning inherited property names.\n * @returns {Array} Returns the array of property names.\n */\nfunction arrayLikeKeys(value, inherited) {\n  // Safari 8.1 makes `arguments.callee` enumerable in strict mode.\n  // Safari 9 makes `arguments.length` enumerable in strict mode.\n  var result = (isArray(value) || isArguments(value))\n    ? baseTimes(value.length, String)\n    : [];\n\n  var length = result.length,\n      skipIndexes = !!length;\n\n  for (var key in value) {\n    if ((inherited || hasOwnProperty.call(value, key)) &&\n        !(skipIndexes && (key == 'length' || isIndex(key, length)))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * Gets the index at which the `key` is found in `array` of key-value pairs.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} key The key to search for.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction assocIndexOf(array, key) {\n  var length = array.length;\n  while (length--) {\n    if (eq(array[length][0], key)) {\n      return length;\n    }\n  }\n  return -1;\n}\n\n/**\n * The base implementation of methods like `_.difference` without support\n * for excluding multiple arrays or iteratee shorthands.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {Array} values The values to exclude.\n * @param {Function} [iteratee] The iteratee invoked per element.\n * @param {Function} [comparator] The comparator invoked per element.\n * @returns {Array} Returns the new array of filtered values.\n */\nfunction baseDifference(array, values, iteratee, comparator) {\n  var index = -1,\n      includes = arrayIncludes,\n      isCommon = true,\n      length = array.length,\n      result = [],\n      valuesLength = values.length;\n\n  if (!length) {\n    return result;\n  }\n  if (iteratee) {\n    values = arrayMap(values, baseUnary(iteratee));\n  }\n  if (comparator) {\n    includes = arrayIncludesWith;\n    isCommon = false;\n  }\n  else if (values.length >= LARGE_ARRAY_SIZE) {\n    includes = cacheHas;\n    isCommon = false;\n    values = new SetCache(values);\n  }\n  outer:\n  while (++index < length) {\n    var value = array[index],\n        computed = iteratee ? iteratee(value) : value;\n\n    value = (comparator || value !== 0) ? value : 0;\n    if (isCommon && computed === computed) {\n      var valuesIndex = valuesLength;\n      while (valuesIndex--) {\n        if (values[valuesIndex] === computed) {\n          continue outer;\n        }\n      }\n      result.push(value);\n    }\n    else if (!includes(values, computed, comparator)) {\n      result.push(value);\n    }\n  }\n  return result;\n}\n\n/**\n * The base implementation of `_.flatten` with support for restricting flattening.\n *\n * @private\n * @param {Array} array The array to flatten.\n * @param {number} depth The maximum recursion depth.\n * @param {boolean} [predicate=isFlattenable] The function invoked per iteration.\n * @param {boolean} [isStrict] Restrict to values that pass `predicate` checks.\n * @param {Array} [result=[]] The initial result value.\n * @returns {Array} Returns the new flattened array.\n */\nfunction baseFlatten(array, depth, predicate, isStrict, result) {\n  var index = -1,\n      length = array.length;\n\n  predicate || (predicate = isFlattenable);\n  result || (result = []);\n\n  while (++index < length) {\n    var value = array[index];\n    if (depth > 0 && predicate(value)) {\n      if (depth > 1) {\n        // Recursively flatten arrays (susceptible to call stack limits).\n        baseFlatten(value, depth - 1, predicate, isStrict, result);\n      } else {\n        arrayPush(result, value);\n      }\n    } else if (!isStrict) {\n      result[result.length] = value;\n    }\n  }\n  return result;\n}\n\n/**\n * The base implementation of `getAllKeys` and `getAllKeysIn` which uses\n * `keysFunc` and `symbolsFunc` to get the enumerable property names and\n * symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @param {Function} symbolsFunc The function to get the symbols of `object`.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction baseGetAllKeys(object, keysFunc, symbolsFunc) {\n  var result = keysFunc(object);\n  return isArray(object) ? result : arrayPush(result, symbolsFunc(object));\n}\n\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative(value) {\n  if (!isObject(value) || isMasked(value)) {\n    return false;\n  }\n  var pattern = (isFunction(value) || isHostObject(value)) ? reIsNative : reIsHostCtor;\n  return pattern.test(toSource(value));\n}\n\n/**\n * The base implementation of `_.keysIn` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeysIn(object) {\n  if (!isObject(object)) {\n    return nativeKeysIn(object);\n  }\n  var isProto = isPrototype(object),\n      result = [];\n\n  for (var key in object) {\n    if (!(key == 'constructor' && (isProto || !hasOwnProperty.call(object, key)))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * The base implementation of `_.pick` without support for individual\n * property identifiers.\n *\n * @private\n * @param {Object} object The source object.\n * @param {string[]} props The property identifiers to pick.\n * @returns {Object} Returns the new object.\n */\nfunction basePick(object, props) {\n  object = Object(object);\n  return basePickBy(object, props, function(value, key) {\n    return key in object;\n  });\n}\n\n/**\n * The base implementation of  `_.pickBy` without support for iteratee shorthands.\n *\n * @private\n * @param {Object} object The source object.\n * @param {string[]} props The property identifiers to pick from.\n * @param {Function} predicate The function invoked per property.\n * @returns {Object} Returns the new object.\n */\nfunction basePickBy(object, props, predicate) {\n  var index = -1,\n      length = props.length,\n      result = {};\n\n  while (++index < length) {\n    var key = props[index],\n        value = object[key];\n\n    if (predicate(value, key)) {\n      result[key] = value;\n    }\n  }\n  return result;\n}\n\n/**\n * The base implementation of `_.rest` which doesn't validate or coerce arguments.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @returns {Function} Returns the new function.\n */\nfunction baseRest(func, start) {\n  start = nativeMax(start === undefined ? (func.length - 1) : start, 0);\n  return function() {\n    var args = arguments,\n        index = -1,\n        length = nativeMax(args.length - start, 0),\n        array = Array(length);\n\n    while (++index < length) {\n      array[index] = args[start + index];\n    }\n    index = -1;\n    var otherArgs = Array(start + 1);\n    while (++index < start) {\n      otherArgs[index] = args[index];\n    }\n    otherArgs[start] = array;\n    return apply(func, this, otherArgs);\n  };\n}\n\n/**\n * Creates an array of own and inherited enumerable property names and\n * symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction getAllKeysIn(object) {\n  return baseGetAllKeys(object, keysIn, getSymbolsIn);\n}\n\n/**\n * Gets the data for `map`.\n *\n * @private\n * @param {Object} map The map to query.\n * @param {string} key The reference key.\n * @returns {*} Returns the map data.\n */\nfunction getMapData(map, key) {\n  var data = map.__data__;\n  return isKeyable(key)\n    ? data[typeof key == 'string' ? 'string' : 'hash']\n    : data.map;\n}\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = getValue(object, key);\n  return baseIsNative(value) ? value : undefined;\n}\n\n/**\n * Creates an array of the own enumerable symbol properties of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of symbols.\n */\nvar getSymbols = nativeGetSymbols ? overArg(nativeGetSymbols, Object) : stubArray;\n\n/**\n * Creates an array of the own and inherited enumerable symbol properties\n * of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of symbols.\n */\nvar getSymbolsIn = !nativeGetSymbols ? stubArray : function(object) {\n  var result = [];\n  while (object) {\n    arrayPush(result, getSymbols(object));\n    object = getPrototype(object);\n  }\n  return result;\n};\n\n/**\n * Checks if `value` is a flattenable `arguments` object or array.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is flattenable, else `false`.\n */\nfunction isFlattenable(value) {\n  return isArray(value) || isArguments(value) ||\n    !!(spreadableSymbol && value && value[spreadableSymbol]);\n}\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  length = length == null ? MAX_SAFE_INTEGER : length;\n  return !!length &&\n    (typeof value == 'number' || reIsUint.test(value)) &&\n    (value > -1 && value % 1 == 0 && value < length);\n}\n\n/**\n * Checks if `value` is suitable for use as unique object key.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n */\nfunction isKeyable(value) {\n  var type = typeof value;\n  return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n    ? (value !== '__proto__')\n    : (value === null);\n}\n\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked(func) {\n  return !!maskSrcKey && (maskSrcKey in func);\n}\n\n/**\n * Checks if `value` is likely a prototype object.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n */\nfunction isPrototype(value) {\n  var Ctor = value && value.constructor,\n      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n  return value === proto;\n}\n\n/**\n * This function is like\n * [`Object.keys`](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * except that it includes inherited enumerable properties.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction nativeKeysIn(object) {\n  var result = [];\n  if (object != null) {\n    for (var key in Object(object)) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * Converts `value` to a string key if it's not a string or symbol.\n *\n * @private\n * @param {*} value The value to inspect.\n * @returns {string|symbol} Returns the key.\n */\nfunction toKey(value) {\n  if (typeof value == 'string' || isSymbol(value)) {\n    return value;\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to process.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n    try {\n      return (func + '');\n    } catch (e) {}\n  }\n  return '';\n}\n\n/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nfunction isArguments(value) {\n  // Safari 8.1 makes `arguments.callee` enumerable in strict mode.\n  return isArrayLikeObject(value) && hasOwnProperty.call(value, 'callee') &&\n    (!propertyIsEnumerable.call(value, 'callee') || objectToString.call(value) == argsTag);\n}\n\n/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\n/**\n * This method is like `_.isArrayLike` except that it also checks if `value`\n * is an object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array-like object,\n *  else `false`.\n * @example\n *\n * _.isArrayLikeObject([1, 2, 3]);\n * // => true\n *\n * _.isArrayLikeObject(document.body.children);\n * // => true\n *\n * _.isArrayLikeObject('abc');\n * // => false\n *\n * _.isArrayLikeObject(_.noop);\n * // => false\n */\nfunction isArrayLikeObject(value) {\n  return isObjectLike(value) && isArrayLike(value);\n}\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 8-9 which returns 'object' for typed array and other constructors.\n  var tag = isObject(value) ? objectToString.call(value) : '';\n  return tag == funcTag || tag == genTag;\n}\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && objectToString.call(value) == symbolTag);\n}\n\n/**\n * Creates an array of the own and inherited enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keysIn(new Foo);\n * // => ['a', 'b', 'c'] (iteration order is not guaranteed)\n */\nfunction keysIn(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object, true) : baseKeysIn(object);\n}\n\n/**\n * The opposite of `_.pick`; this method creates an object composed of the\n * own and inherited enumerable string keyed properties of `object` that are\n * not omitted.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The source object.\n * @param {...(string|string[])} [props] The property identifiers to omit.\n * @returns {Object} Returns the new object.\n * @example\n *\n * var object = { 'a': 1, 'b': '2', 'c': 3 };\n *\n * _.omit(object, ['a', 'c']);\n * // => { 'b': '2' }\n */\nvar omit = baseRest(function(object, props) {\n  if (object == null) {\n    return {};\n  }\n  props = arrayMap(baseFlatten(props, 1), toKey);\n  return basePick(object, baseDifference(getAllKeysIn(object), props));\n});\n\n/**\n * This method returns a new empty array.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {Array} Returns the new empty array.\n * @example\n *\n * var arrays = _.times(2, _.stubArray);\n *\n * console.log(arrays);\n * // => [[], []]\n *\n * console.log(arrays[0] === arrays[1]);\n * // => false\n */\nfunction stubArray() {\n  return [];\n}\n\nmodule.exports = omit;\n","/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0,\n    MAX_SAFE_INTEGER = 9007199254740991;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    symbolTag = '[object Symbol]';\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/**\n * A faster alternative to `Function#apply`, this function invokes `func`\n * with the `this` binding of `thisArg` and the arguments of `args`.\n *\n * @private\n * @param {Function} func The function to invoke.\n * @param {*} thisArg The `this` binding of `func`.\n * @param {Array} args The arguments to invoke `func` with.\n * @returns {*} Returns the result of `func`.\n */\nfunction apply(func, thisArg, args) {\n  switch (args.length) {\n    case 0: return func.call(thisArg);\n    case 1: return func.call(thisArg, args[0]);\n    case 2: return func.call(thisArg, args[0], args[1]);\n    case 3: return func.call(thisArg, args[0], args[1], args[2]);\n  }\n  return func.apply(thisArg, args);\n}\n\n/**\n * A specialized version of `_.map` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n */\nfunction arrayMap(array, iteratee) {\n  var index = -1,\n      length = array ? array.length : 0,\n      result = Array(length);\n\n  while (++index < length) {\n    result[index] = iteratee(array[index], index, array);\n  }\n  return result;\n}\n\n/**\n * Appends the elements of `values` to `array`.\n *\n * @private\n * @param {Array} array The array to modify.\n * @param {Array} values The values to append.\n * @returns {Array} Returns `array`.\n */\nfunction arrayPush(array, values) {\n  var index = -1,\n      length = values.length,\n      offset = array.length;\n\n  while (++index < length) {\n    array[offset + index] = values[index];\n  }\n  return array;\n}\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar Symbol = root.Symbol,\n    propertyIsEnumerable = objectProto.propertyIsEnumerable,\n    spreadableSymbol = Symbol ? Symbol.isConcatSpreadable : undefined;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max;\n\n/**\n * The base implementation of `_.flatten` with support for restricting flattening.\n *\n * @private\n * @param {Array} array The array to flatten.\n * @param {number} depth The maximum recursion depth.\n * @param {boolean} [predicate=isFlattenable] The function invoked per iteration.\n * @param {boolean} [isStrict] Restrict to values that pass `predicate` checks.\n * @param {Array} [result=[]] The initial result value.\n * @returns {Array} Returns the new flattened array.\n */\nfunction baseFlatten(array, depth, predicate, isStrict, result) {\n  var index = -1,\n      length = array.length;\n\n  predicate || (predicate = isFlattenable);\n  result || (result = []);\n\n  while (++index < length) {\n    var value = array[index];\n    if (depth > 0 && predicate(value)) {\n      if (depth > 1) {\n        // Recursively flatten arrays (susceptible to call stack limits).\n        baseFlatten(value, depth - 1, predicate, isStrict, result);\n      } else {\n        arrayPush(result, value);\n      }\n    } else if (!isStrict) {\n      result[result.length] = value;\n    }\n  }\n  return result;\n}\n\n/**\n * The base implementation of `_.pick` without support for individual\n * property identifiers.\n *\n * @private\n * @param {Object} object The source object.\n * @param {string[]} props The property identifiers to pick.\n * @returns {Object} Returns the new object.\n */\nfunction basePick(object, props) {\n  object = Object(object);\n  return basePickBy(object, props, function(value, key) {\n    return key in object;\n  });\n}\n\n/**\n * The base implementation of  `_.pickBy` without support for iteratee shorthands.\n *\n * @private\n * @param {Object} object The source object.\n * @param {string[]} props The property identifiers to pick from.\n * @param {Function} predicate The function invoked per property.\n * @returns {Object} Returns the new object.\n */\nfunction basePickBy(object, props, predicate) {\n  var index = -1,\n      length = props.length,\n      result = {};\n\n  while (++index < length) {\n    var key = props[index],\n        value = object[key];\n\n    if (predicate(value, key)) {\n      result[key] = value;\n    }\n  }\n  return result;\n}\n\n/**\n * The base implementation of `_.rest` which doesn't validate or coerce arguments.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @returns {Function} Returns the new function.\n */\nfunction baseRest(func, start) {\n  start = nativeMax(start === undefined ? (func.length - 1) : start, 0);\n  return function() {\n    var args = arguments,\n        index = -1,\n        length = nativeMax(args.length - start, 0),\n        array = Array(length);\n\n    while (++index < length) {\n      array[index] = args[start + index];\n    }\n    index = -1;\n    var otherArgs = Array(start + 1);\n    while (++index < start) {\n      otherArgs[index] = args[index];\n    }\n    otherArgs[start] = array;\n    return apply(func, this, otherArgs);\n  };\n}\n\n/**\n * Checks if `value` is a flattenable `arguments` object or array.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is flattenable, else `false`.\n */\nfunction isFlattenable(value) {\n  return isArray(value) || isArguments(value) ||\n    !!(spreadableSymbol && value && value[spreadableSymbol]);\n}\n\n/**\n * Converts `value` to a string key if it's not a string or symbol.\n *\n * @private\n * @param {*} value The value to inspect.\n * @returns {string|symbol} Returns the key.\n */\nfunction toKey(value) {\n  if (typeof value == 'string' || isSymbol(value)) {\n    return value;\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nfunction isArguments(value) {\n  // Safari 8.1 makes `arguments.callee` enumerable in strict mode.\n  return isArrayLikeObject(value) && hasOwnProperty.call(value, 'callee') &&\n    (!propertyIsEnumerable.call(value, 'callee') || objectToString.call(value) == argsTag);\n}\n\n/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\n/**\n * This method is like `_.isArrayLike` except that it also checks if `value`\n * is an object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array-like object,\n *  else `false`.\n * @example\n *\n * _.isArrayLikeObject([1, 2, 3]);\n * // => true\n *\n * _.isArrayLikeObject(document.body.children);\n * // => true\n *\n * _.isArrayLikeObject('abc');\n * // => false\n *\n * _.isArrayLikeObject(_.noop);\n * // => false\n */\nfunction isArrayLikeObject(value) {\n  return isObjectLike(value) && isArrayLike(value);\n}\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 8-9 which returns 'object' for typed array and other constructors.\n  var tag = isObject(value) ? objectToString.call(value) : '';\n  return tag == funcTag || tag == genTag;\n}\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && objectToString.call(value) == symbolTag);\n}\n\n/**\n * Creates an object composed of the picked `object` properties.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The source object.\n * @param {...(string|string[])} [props] The property identifiers to pick.\n * @returns {Object} Returns the new object.\n * @example\n *\n * var object = { 'a': 1, 'b': '2', 'c': 3 };\n *\n * _.pick(object, ['a', 'c']);\n * // => { 'a': 1, 'c': 3 }\n */\nvar pick = baseRest(function(object, props) {\n  return object == null ? {} : basePick(object, arrayMap(baseFlatten(props, 1), toKey));\n});\n\nmodule.exports = pick;\n"],"names":["TransformControls","camera","_domElement","_defineProperty","Raycaster","Vector3","Quaternion","X","Y","Z","type","mode","object","raycaster","includeInvisible","allIntersections","intersectObject","i","length","visible","undefined","axis","updateMatrixWorld","parent","console","error","matrixWorld","decompose","parentPosition","parentQuaternion","parentScale","worldPosition","worldQuaternion","worldScale","parentQuaternionInv","copy","invert","worldQuaternionInv","cameraPosition","cameraQuaternion","cameraScale","eye","sub","normalize","pointer","dragging","setFromCamera","intersect","intersectObjectWithRay","gizmo","picker","name","button","planeIntersect","plane","space","snap","rotationSnap","rotation","x","Math","round","y","z","positionStart","position","quaternionStart","quaternion","scaleStart","scale","worldPositionStart","worldQuaternionStart","worldScaleStart","pointStart","point","mouseDownEvent","dispatchEvent","pointEnd","offset","applyQuaternion","indexOf","divide","add","translationSnap","tempQuaternion","search","tempVector","setFromMatrixPosition","d","dot","tempVector2","set","multiply","scaleSnap","ROTATION_SPEED","distanceTo","rotationAxis","rotationAngle","angleTo","startNorm","endNorm","cross","unit","setFromAxisAngle","changeEvent","objectChangeEvent","mouseUpEvent","event","_this$domElement$owne","domElement","ownerDocument","pointerLockElement","_this$domElement","changedTouches","rect","getBoundingClientRect","clientX","left","width","clientY","top","height","enabled","pointerType","pointerHover","getPointer","style","touchAction","addEventListener","onPointerMove","pointerDown","pointerMove","removeEventListener","pointerUp","size","warn","document","onPointerDown","onPointerHover","onPointerUp","_this$domElement2","_this$domElement3","_this$domElement4","_this$domElement4$own","_this$domElement5","_this$domElement5$own","traverse","child","mesh","geometry","dispose","material","TransformControlsGizmo","TransformControlsPlane","defineProperty","propName","defaultValue","propValue","Object","get","value","this","showX","showY","showZ","connect","Object3D","Euler","Matrix4","identityQuaternion","helper","handles","concat","children","handle","factor","isOrthographicCamera","bottom","zoom","min","tan","PI","fov","multiplyScalar","tag","setFromEuler","tempEuler","abs","alignVector","unitX","unitY","unitZ","setFromRotationMatrix","lookAtMatrix","lookAt","zeroVector","clone","AXIS_HIDE_TRESHOLD","tempQuaternion2","atan2","multiplyQuaternions","tempOpacity","opacity","tempColor","color","split","some","a","lerp","Color","gizmoMaterial","MeshBasicMaterial","depthTest","depthWrite","transparent","side","DoubleSide","fog","toneMapped","gizmoLineMaterial","LineBasicMaterial","linewidth","matInvisible","matHelper","matRed","matGreen","matBlue","matWhiteTransparent","matYellowTransparent","matCyanTransparent","matMagentaTransparent","matLineRed","matLineGreen","matLineBlue","matLineCyan","matLineMagenta","matLineYellow","matLineGray","matLineYellowTransparent","arrowGeometry","CylinderGeometry","scaleHandleGeometry","BoxGeometry","lineGeometry","BufferGeometry","setAttribute","Float32BufferAttribute","CircleGeometry","radius","arc","vertices","push","cos","sin","gizmoTranslate","Mesh","Line","XYZ","OctahedronGeometry","XY","PlaneGeometry","YZ","XZ","pickerTranslate","helperTranslate","START","END","DELTA","TranslateHelperGeometry","gizmoRotate","E","XYZE","helperRotate","AXIS","pickerRotate","TorusGeometry","SphereGeometry","gizmoScale","XYZX","XYZY","XYZZ","pickerScale","helperScale","setupGizmo","gizmoMap","updateMatrix","tempGeometry","applyMatrix4","matrix","renderOrder","Infinity","wireframe","dirVector","tempMatrix","React","ref","onChange","onMouseDown","onMouseUp","onObjectChange","props","transformOnlyPropNames","rest","transformProps","pick","objectProps","omit","defaultControls","useThree","state","controls","gl","events","defaultCamera","invalidate","explCamera","explDomElement","connected","TransformControls$1","group","attach","THREE","current","detach","callback","e","_extends","useCursor","hovered","onPointerOver","onPointerOut","body","cursor","HASH_UNDEFINED","MAX_SAFE_INTEGER","symbolTag","reIsHostCtor","reIsUint","freeGlobal","global","freeSelf","self","root","Function","apply","func","thisArg","args","call","arrayIncludes","array","fromIndex","predicate","fromRight","index","baseFindIndex","baseIsNaN","baseIndexOf","arrayIncludesWith","comparator","arrayMap","iteratee","result","Array","arrayPush","values","cacheHas","cache","key","has","overArg","transform","arg","arrayProto","prototype","funcProto","objectProto","coreJsData","maskSrcKey","uid","exec","keys","IE_PROTO","funcToString","toString","hasOwnProperty","objectToString","reIsNative","RegExp","replace","Symbol","getPrototype","getPrototypeOf","propertyIsEnumerable","splice","spreadableSymbol","isConcatSpreadable","nativeGetSymbols","getOwnPropertySymbols","nativeMax","max","Map","getNative","nativeCreate","Hash","entries","clear","entry","ListCache","MapCache","SetCache","__data__","arrayLikeKeys","inherited","isArray","isArguments","n","baseTimes","String","skipIndexes","isIndex","assocIndexOf","other","baseFlatten","depth","isStrict","isFlattenable","baseIsNative","isObject","pattern","isFunction","isHostObject","test","toSource","baseKeysIn","nativeKeysIn","isProto","Ctor","constructor","proto","isPrototype","getAllKeysIn","keysFunc","symbolsFunc","baseGetAllKeys","keysIn","getSymbolsIn","getMapData","map","data","isKeyable","getValue","pop","getSymbols","stubArray","toKey","isObjectLike","isSymbol","isArrayLike","isArrayLikeObject","isLength","start","basePickBy","basePick","includes","isCommon","valuesLength","outer","computed","valuesIndex","baseDifference","arguments","otherArgs","module","exports","argsTag","funcTag","genTag"],"sourceRoot":""}