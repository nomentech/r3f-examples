{"version":3,"file":"static/js/664.21d51b95.chunk.js","mappings":"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","sources":["../node_modules/@react-three/drei/core/OrbitControls.js","../node_modules/three-stdlib/controls/TransformControls.js","../node_modules/@react-three/drei/core/TransformControls.js","../node_modules/@react-three/drei/web/useCursor.js","../node_modules/lodash.omit/index.js","../node_modules/lodash.pick/index.js"],"sourcesContent":["import _extends from '@babel/runtime/helpers/esm/extends';\nimport { useThree, useFrame } from '@react-three/fiber';\nimport * as React from 'react';\nimport { OrbitControls as OrbitControls$1 } from 'three-stdlib';\n\nconst OrbitControls = /*#__PURE__*/React.forwardRef(({\n  makeDefault,\n  camera,\n  regress,\n  domElement,\n  enableDamping = true,\n  onChange,\n  onStart,\n  onEnd,\n  ...restProps\n}, ref) => {\n  const invalidate = useThree(state => state.invalidate);\n  const defaultCamera = useThree(state => state.camera);\n  const gl = useThree(state => state.gl);\n  const events = useThree(state => state.events);\n  const set = useThree(state => state.set);\n  const get = useThree(state => state.get);\n  const performance = useThree(state => state.performance);\n  const explCamera = camera || defaultCamera;\n  const explDomElement = domElement || events.connected || gl.domElement;\n  const controls = React.useMemo(() => new OrbitControls$1(explCamera), [explCamera]);\n  useFrame(() => {\n    if (controls.enabled) controls.update();\n  }, -1);\n  React.useEffect(() => {\n    controls.connect(explDomElement);\n    return () => void controls.dispose();\n  }, [explDomElement, regress, controls, invalidate]);\n  React.useEffect(() => {\n    const callback = e => {\n      invalidate();\n      if (regress) performance.regress();\n      if (onChange) onChange(e);\n    };\n\n    controls.addEventListener('change', callback);\n    if (onStart) controls.addEventListener('start', onStart);\n    if (onEnd) controls.addEventListener('end', onEnd);\n    return () => {\n      if (onStart) controls.removeEventListener('start', onStart);\n      if (onEnd) controls.removeEventListener('end', onEnd);\n      controls.removeEventListener('change', callback);\n    };\n  }, [onChange, onStart, onEnd]);\n  React.useEffect(() => {\n    if (makeDefault) {\n      const old = get().controls;\n      set({\n        controls\n      });\n      return () => set({\n        controls: old\n      });\n    }\n  }, [makeDefault, controls]);\n  return /*#__PURE__*/React.createElement(\"primitive\", _extends({\n    ref: ref,\n    object: controls,\n    enableDamping: enableDamping\n  }, restProps));\n});\n\nexport { OrbitControls };\n","import _defineProperty from '@babel/runtime/helpers/esm/defineProperty';\nimport { Object3D, Raycaster, Vector3, Quaternion, Euler, Matrix4, Color, MeshBasicMaterial, DoubleSide, LineBasicMaterial, CylinderGeometry, BoxGeometry, BufferGeometry, Float32BufferAttribute, Mesh, Line, OctahedronGeometry, PlaneGeometry, TorusGeometry, SphereGeometry } from 'three';\n\nclass TransformControls extends Object3D {\n  // events\n  constructor(camera, _domElement) {\n    super();\n\n    _defineProperty(this, \"isTransformControls\", true);\n\n    _defineProperty(this, \"visible\", false);\n\n    _defineProperty(this, \"domElement\", void 0);\n\n    _defineProperty(this, \"raycaster\", new Raycaster());\n\n    _defineProperty(this, \"gizmo\", void 0);\n\n    _defineProperty(this, \"plane\", void 0);\n\n    _defineProperty(this, \"tempVector\", new Vector3());\n\n    _defineProperty(this, \"tempVector2\", new Vector3());\n\n    _defineProperty(this, \"tempQuaternion\", new Quaternion());\n\n    _defineProperty(this, \"unit\", {\n      X: new Vector3(1, 0, 0),\n      Y: new Vector3(0, 1, 0),\n      Z: new Vector3(0, 0, 1)\n    });\n\n    _defineProperty(this, \"pointStart\", new Vector3());\n\n    _defineProperty(this, \"pointEnd\", new Vector3());\n\n    _defineProperty(this, \"offset\", new Vector3());\n\n    _defineProperty(this, \"rotationAxis\", new Vector3());\n\n    _defineProperty(this, \"startNorm\", new Vector3());\n\n    _defineProperty(this, \"endNorm\", new Vector3());\n\n    _defineProperty(this, \"rotationAngle\", 0);\n\n    _defineProperty(this, \"cameraPosition\", new Vector3());\n\n    _defineProperty(this, \"cameraQuaternion\", new Quaternion());\n\n    _defineProperty(this, \"cameraScale\", new Vector3());\n\n    _defineProperty(this, \"parentPosition\", new Vector3());\n\n    _defineProperty(this, \"parentQuaternion\", new Quaternion());\n\n    _defineProperty(this, \"parentQuaternionInv\", new Quaternion());\n\n    _defineProperty(this, \"parentScale\", new Vector3());\n\n    _defineProperty(this, \"worldPositionStart\", new Vector3());\n\n    _defineProperty(this, \"worldQuaternionStart\", new Quaternion());\n\n    _defineProperty(this, \"worldScaleStart\", new Vector3());\n\n    _defineProperty(this, \"worldPosition\", new Vector3());\n\n    _defineProperty(this, \"worldQuaternion\", new Quaternion());\n\n    _defineProperty(this, \"worldQuaternionInv\", new Quaternion());\n\n    _defineProperty(this, \"worldScale\", new Vector3());\n\n    _defineProperty(this, \"eye\", new Vector3());\n\n    _defineProperty(this, \"positionStart\", new Vector3());\n\n    _defineProperty(this, \"quaternionStart\", new Quaternion());\n\n    _defineProperty(this, \"scaleStart\", new Vector3());\n\n    _defineProperty(this, \"camera\", void 0);\n\n    _defineProperty(this, \"object\", void 0);\n\n    _defineProperty(this, \"enabled\", true);\n\n    _defineProperty(this, \"axis\", null);\n\n    _defineProperty(this, \"mode\", 'translate');\n\n    _defineProperty(this, \"translationSnap\", null);\n\n    _defineProperty(this, \"rotationSnap\", null);\n\n    _defineProperty(this, \"scaleSnap\", null);\n\n    _defineProperty(this, \"space\", 'world');\n\n    _defineProperty(this, \"size\", 1);\n\n    _defineProperty(this, \"dragging\", false);\n\n    _defineProperty(this, \"showX\", true);\n\n    _defineProperty(this, \"showY\", true);\n\n    _defineProperty(this, \"showZ\", true);\n\n    _defineProperty(this, \"changeEvent\", {\n      type: 'change'\n    });\n\n    _defineProperty(this, \"mouseDownEvent\", {\n      type: 'mouseDown',\n      mode: this.mode\n    });\n\n    _defineProperty(this, \"mouseUpEvent\", {\n      type: 'mouseUp',\n      mode: this.mode\n    });\n\n    _defineProperty(this, \"objectChangeEvent\", {\n      type: 'objectChange'\n    });\n\n    _defineProperty(this, \"intersectObjectWithRay\", (object, raycaster, includeInvisible) => {\n      const allIntersections = raycaster.intersectObject(object, true);\n\n      for (let i = 0; i < allIntersections.length; i++) {\n        if (allIntersections[i].object.visible || includeInvisible) {\n          return allIntersections[i];\n        }\n      }\n\n      return false;\n    });\n\n    _defineProperty(this, \"attach\", object => {\n      this.object = object;\n      this.visible = true;\n      return this;\n    });\n\n    _defineProperty(this, \"detach\", () => {\n      this.object = undefined;\n      this.visible = false;\n      this.axis = null;\n      return this;\n    });\n\n    _defineProperty(this, \"updateMatrixWorld\", () => {\n      if (this.object !== undefined) {\n        this.object.updateMatrixWorld();\n\n        if (this.object.parent === null) {\n          console.error('TransformControls: The attached 3D object must be a part of the scene graph.');\n        } else {\n          this.object.parent.matrixWorld.decompose(this.parentPosition, this.parentQuaternion, this.parentScale);\n        }\n\n        this.object.matrixWorld.decompose(this.worldPosition, this.worldQuaternion, this.worldScale);\n        this.parentQuaternionInv.copy(this.parentQuaternion).invert();\n        this.worldQuaternionInv.copy(this.worldQuaternion).invert();\n      }\n\n      this.camera.updateMatrixWorld();\n      this.camera.matrixWorld.decompose(this.cameraPosition, this.cameraQuaternion, this.cameraScale);\n      this.eye.copy(this.cameraPosition).sub(this.worldPosition).normalize();\n      super.updateMatrixWorld();\n    });\n\n    _defineProperty(this, \"pointerHover\", pointer => {\n      if (this.object === undefined || this.dragging === true) return;\n      this.raycaster.setFromCamera(pointer, this.camera);\n      const intersect = this.intersectObjectWithRay(this.gizmo.picker[this.mode], this.raycaster);\n\n      if (intersect) {\n        this.axis = intersect.object.name;\n      } else {\n        this.axis = null;\n      }\n    });\n\n    _defineProperty(this, \"pointerDown\", pointer => {\n      if (this.object === undefined || this.dragging === true || pointer.button !== 0) return;\n\n      if (this.axis !== null) {\n        this.raycaster.setFromCamera(pointer, this.camera);\n        const planeIntersect = this.intersectObjectWithRay(this.plane, this.raycaster, true);\n\n        if (planeIntersect) {\n          let space = this.space;\n\n          if (this.mode === 'scale') {\n            space = 'local';\n          } else if (this.axis === 'E' || this.axis === 'XYZE' || this.axis === 'XYZ') {\n            space = 'world';\n          }\n\n          if (space === 'local' && this.mode === 'rotate') {\n            const snap = this.rotationSnap;\n            if (this.axis === 'X' && snap) this.object.rotation.x = Math.round(this.object.rotation.x / snap) * snap;\n            if (this.axis === 'Y' && snap) this.object.rotation.y = Math.round(this.object.rotation.y / snap) * snap;\n            if (this.axis === 'Z' && snap) this.object.rotation.z = Math.round(this.object.rotation.z / snap) * snap;\n          }\n\n          this.object.updateMatrixWorld();\n\n          if (this.object.parent) {\n            this.object.parent.updateMatrixWorld();\n          }\n\n          this.positionStart.copy(this.object.position);\n          this.quaternionStart.copy(this.object.quaternion);\n          this.scaleStart.copy(this.object.scale);\n          this.object.matrixWorld.decompose(this.worldPositionStart, this.worldQuaternionStart, this.worldScaleStart);\n          this.pointStart.copy(planeIntersect.point).sub(this.worldPositionStart);\n        }\n\n        this.dragging = true;\n        this.mouseDownEvent.mode = this.mode;\n        this.dispatchEvent(this.mouseDownEvent);\n      }\n    });\n\n    _defineProperty(this, \"pointerMove\", pointer => {\n      const axis = this.axis;\n      const mode = this.mode;\n      const object = this.object;\n      let space = this.space;\n\n      if (mode === 'scale') {\n        space = 'local';\n      } else if (axis === 'E' || axis === 'XYZE' || axis === 'XYZ') {\n        space = 'world';\n      }\n\n      if (object === undefined || axis === null || this.dragging === false || pointer.button !== -1) return;\n      this.raycaster.setFromCamera(pointer, this.camera);\n      const planeIntersect = this.intersectObjectWithRay(this.plane, this.raycaster, true);\n      if (!planeIntersect) return;\n      this.pointEnd.copy(planeIntersect.point).sub(this.worldPositionStart);\n\n      if (mode === 'translate') {\n        // Apply translate\n        this.offset.copy(this.pointEnd).sub(this.pointStart);\n\n        if (space === 'local' && axis !== 'XYZ') {\n          this.offset.applyQuaternion(this.worldQuaternionInv);\n        }\n\n        if (axis.indexOf('X') === -1) this.offset.x = 0;\n        if (axis.indexOf('Y') === -1) this.offset.y = 0;\n        if (axis.indexOf('Z') === -1) this.offset.z = 0;\n\n        if (space === 'local' && axis !== 'XYZ') {\n          this.offset.applyQuaternion(this.quaternionStart).divide(this.parentScale);\n        } else {\n          this.offset.applyQuaternion(this.parentQuaternionInv).divide(this.parentScale);\n        }\n\n        object.position.copy(this.offset).add(this.positionStart); // Apply translation snap\n\n        if (this.translationSnap) {\n          if (space === 'local') {\n            object.position.applyQuaternion(this.tempQuaternion.copy(this.quaternionStart).invert());\n\n            if (axis.search('X') !== -1) {\n              object.position.x = Math.round(object.position.x / this.translationSnap) * this.translationSnap;\n            }\n\n            if (axis.search('Y') !== -1) {\n              object.position.y = Math.round(object.position.y / this.translationSnap) * this.translationSnap;\n            }\n\n            if (axis.search('Z') !== -1) {\n              object.position.z = Math.round(object.position.z / this.translationSnap) * this.translationSnap;\n            }\n\n            object.position.applyQuaternion(this.quaternionStart);\n          }\n\n          if (space === 'world') {\n            if (object.parent) {\n              object.position.add(this.tempVector.setFromMatrixPosition(object.parent.matrixWorld));\n            }\n\n            if (axis.search('X') !== -1) {\n              object.position.x = Math.round(object.position.x / this.translationSnap) * this.translationSnap;\n            }\n\n            if (axis.search('Y') !== -1) {\n              object.position.y = Math.round(object.position.y / this.translationSnap) * this.translationSnap;\n            }\n\n            if (axis.search('Z') !== -1) {\n              object.position.z = Math.round(object.position.z / this.translationSnap) * this.translationSnap;\n            }\n\n            if (object.parent) {\n              object.position.sub(this.tempVector.setFromMatrixPosition(object.parent.matrixWorld));\n            }\n          }\n        }\n      } else if (mode === 'scale') {\n        if (axis.search('XYZ') !== -1) {\n          let d = this.pointEnd.length() / this.pointStart.length();\n          if (this.pointEnd.dot(this.pointStart) < 0) d *= -1;\n          this.tempVector2.set(d, d, d);\n        } else {\n          this.tempVector.copy(this.pointStart);\n          this.tempVector2.copy(this.pointEnd);\n          this.tempVector.applyQuaternion(this.worldQuaternionInv);\n          this.tempVector2.applyQuaternion(this.worldQuaternionInv);\n          this.tempVector2.divide(this.tempVector);\n\n          if (axis.search('X') === -1) {\n            this.tempVector2.x = 1;\n          }\n\n          if (axis.search('Y') === -1) {\n            this.tempVector2.y = 1;\n          }\n\n          if (axis.search('Z') === -1) {\n            this.tempVector2.z = 1;\n          }\n        } // Apply scale\n\n\n        object.scale.copy(this.scaleStart).multiply(this.tempVector2);\n\n        if (this.scaleSnap && this.object) {\n          if (axis.search('X') !== -1) {\n            this.object.scale.x = Math.round(object.scale.x / this.scaleSnap) * this.scaleSnap || this.scaleSnap;\n          }\n\n          if (axis.search('Y') !== -1) {\n            object.scale.y = Math.round(object.scale.y / this.scaleSnap) * this.scaleSnap || this.scaleSnap;\n          }\n\n          if (axis.search('Z') !== -1) {\n            object.scale.z = Math.round(object.scale.z / this.scaleSnap) * this.scaleSnap || this.scaleSnap;\n          }\n        }\n      } else if (mode === 'rotate') {\n        this.offset.copy(this.pointEnd).sub(this.pointStart);\n        const ROTATION_SPEED = 20 / this.worldPosition.distanceTo(this.tempVector.setFromMatrixPosition(this.camera.matrixWorld));\n\n        if (axis === 'E') {\n          this.rotationAxis.copy(this.eye);\n          this.rotationAngle = this.pointEnd.angleTo(this.pointStart);\n          this.startNorm.copy(this.pointStart).normalize();\n          this.endNorm.copy(this.pointEnd).normalize();\n          this.rotationAngle *= this.endNorm.cross(this.startNorm).dot(this.eye) < 0 ? 1 : -1;\n        } else if (axis === 'XYZE') {\n          this.rotationAxis.copy(this.offset).cross(this.eye).normalize();\n          this.rotationAngle = this.offset.dot(this.tempVector.copy(this.rotationAxis).cross(this.eye)) * ROTATION_SPEED;\n        } else if (axis === 'X' || axis === 'Y' || axis === 'Z') {\n          this.rotationAxis.copy(this.unit[axis]);\n          this.tempVector.copy(this.unit[axis]);\n\n          if (space === 'local') {\n            this.tempVector.applyQuaternion(this.worldQuaternion);\n          }\n\n          this.rotationAngle = this.offset.dot(this.tempVector.cross(this.eye).normalize()) * ROTATION_SPEED;\n        } // Apply rotation snap\n\n\n        if (this.rotationSnap) {\n          this.rotationAngle = Math.round(this.rotationAngle / this.rotationSnap) * this.rotationSnap;\n        } // Apply rotate\n\n\n        if (space === 'local' && axis !== 'E' && axis !== 'XYZE') {\n          object.quaternion.copy(this.quaternionStart);\n          object.quaternion.multiply(this.tempQuaternion.setFromAxisAngle(this.rotationAxis, this.rotationAngle)).normalize();\n        } else {\n          this.rotationAxis.applyQuaternion(this.parentQuaternionInv);\n          object.quaternion.copy(this.tempQuaternion.setFromAxisAngle(this.rotationAxis, this.rotationAngle));\n          object.quaternion.multiply(this.quaternionStart).normalize();\n        }\n      }\n\n      this.dispatchEvent(this.changeEvent);\n      this.dispatchEvent(this.objectChangeEvent);\n    });\n\n    _defineProperty(this, \"pointerUp\", pointer => {\n      if (pointer.button !== 0) return;\n\n      if (this.dragging && this.axis !== null) {\n        this.mouseUpEvent.mode = this.mode;\n        this.dispatchEvent(this.mouseUpEvent);\n      }\n\n      this.dragging = false;\n      this.axis = null;\n    });\n\n    _defineProperty(this, \"getPointer\", event => {\n      var _this$domElement$owne;\n\n      if (this.domElement && (_this$domElement$owne = this.domElement.ownerDocument) !== null && _this$domElement$owne !== void 0 && _this$domElement$owne.pointerLockElement) {\n        return {\n          x: 0,\n          y: 0,\n          button: event.button\n        };\n      } else {\n        var _this$domElement;\n\n        const pointer = event.changedTouches ? event.changedTouches[0] : event;\n        const rect = (_this$domElement = this.domElement) === null || _this$domElement === void 0 ? void 0 : _this$domElement.getBoundingClientRect();\n        return {\n          x: (pointer.clientX - rect.left) / rect.width * 2 - 1,\n          y: -(pointer.clientY - rect.top) / rect.height * 2 + 1,\n          button: event.button\n        };\n      }\n    });\n\n    _defineProperty(this, \"onPointerHover\", event => {\n      if (!this.enabled) return;\n\n      switch (event.pointerType) {\n        case 'mouse':\n        case 'pen':\n          this.pointerHover(this.getPointer(event));\n          break;\n      }\n    });\n\n    _defineProperty(this, \"onPointerDown\", event => {\n      if (!this.enabled || !this.domElement) return;\n      this.domElement.style.touchAction = 'none'; // disable touch scroll\n\n      this.domElement.ownerDocument.addEventListener('pointermove', this.onPointerMove);\n      this.pointerHover(this.getPointer(event));\n      this.pointerDown(this.getPointer(event));\n    });\n\n    _defineProperty(this, \"onPointerMove\", event => {\n      if (!this.enabled) return;\n      this.pointerMove(this.getPointer(event));\n    });\n\n    _defineProperty(this, \"onPointerUp\", event => {\n      if (!this.enabled || !this.domElement) return;\n      this.domElement.style.touchAction = '';\n      this.domElement.ownerDocument.removeEventListener('pointermove', this.onPointerMove);\n      this.pointerUp(this.getPointer(event));\n    });\n\n    _defineProperty(this, \"getMode\", () => this.mode);\n\n    _defineProperty(this, \"setMode\", mode => {\n      this.mode = mode;\n    });\n\n    _defineProperty(this, \"setTranslationSnap\", translationSnap => {\n      this.translationSnap = translationSnap;\n    });\n\n    _defineProperty(this, \"setRotationSnap\", rotationSnap => {\n      this.rotationSnap = rotationSnap;\n    });\n\n    _defineProperty(this, \"setScaleSnap\", scaleSnap => {\n      this.scaleSnap = scaleSnap;\n    });\n\n    _defineProperty(this, \"setSize\", size => {\n      this.size = size;\n    });\n\n    _defineProperty(this, \"setSpace\", space => {\n      this.space = space;\n    });\n\n    _defineProperty(this, \"update\", () => {\n      console.warn('THREE.TransformControls: update function has no more functionality and therefore has been deprecated.');\n    });\n\n    _defineProperty(this, \"connect\", domElement => {\n      if (domElement === document) {\n        console.error('THREE.OrbitControls: \"document\" should not be used as the target \"domElement\". Please use \"renderer.domElement\" instead.');\n      }\n\n      this.domElement = domElement;\n      this.domElement.addEventListener('pointerdown', this.onPointerDown);\n      this.domElement.addEventListener('pointermove', this.onPointerHover);\n      this.domElement.ownerDocument.addEventListener('pointerup', this.onPointerUp);\n    });\n\n    _defineProperty(this, \"dispose\", () => {\n      var _this$domElement2, _this$domElement3, _this$domElement4, _this$domElement4$own, _this$domElement5, _this$domElement5$own;\n\n      (_this$domElement2 = this.domElement) === null || _this$domElement2 === void 0 ? void 0 : _this$domElement2.removeEventListener('pointerdown', this.onPointerDown);\n      (_this$domElement3 = this.domElement) === null || _this$domElement3 === void 0 ? void 0 : _this$domElement3.removeEventListener('pointermove', this.onPointerHover);\n      (_this$domElement4 = this.domElement) === null || _this$domElement4 === void 0 ? void 0 : (_this$domElement4$own = _this$domElement4.ownerDocument) === null || _this$domElement4$own === void 0 ? void 0 : _this$domElement4$own.removeEventListener('pointermove', this.onPointerMove);\n      (_this$domElement5 = this.domElement) === null || _this$domElement5 === void 0 ? void 0 : (_this$domElement5$own = _this$domElement5.ownerDocument) === null || _this$domElement5$own === void 0 ? void 0 : _this$domElement5$own.removeEventListener('pointerup', this.onPointerUp);\n      this.traverse(child => {\n        const mesh = child;\n\n        if (mesh.geometry) {\n          mesh.geometry.dispose();\n        }\n\n        if (mesh.material) {\n          mesh.material.dispose();\n        }\n      });\n    });\n\n    this.domElement = _domElement;\n    this.camera = camera;\n    this.gizmo = new TransformControlsGizmo();\n    this.add(this.gizmo);\n    this.plane = new TransformControlsPlane();\n    this.add(this.plane); // Defined getter, setter and store for a property\n\n    const defineProperty = (propName, defaultValue) => {\n      let propValue = defaultValue;\n      Object.defineProperty(this, propName, {\n        get: function () {\n          return propValue !== undefined ? propValue : defaultValue;\n        },\n        set: function (value) {\n          if (propValue !== value) {\n            propValue = value;\n            this.plane[propName] = value;\n            this.gizmo[propName] = value;\n            this.dispatchEvent({\n              type: propName + '-changed',\n              value: value\n            });\n            this.dispatchEvent(this.changeEvent);\n          }\n        }\n      }); //@ts-ignore\n\n      this[propName] = defaultValue; // @ts-ignore\n\n      this.plane[propName] = defaultValue; // @ts-ignore\n\n      this.gizmo[propName] = defaultValue;\n    };\n\n    defineProperty('camera', this.camera);\n    defineProperty('object', this.object);\n    defineProperty('enabled', this.enabled);\n    defineProperty('axis', this.axis);\n    defineProperty('mode', this.mode);\n    defineProperty('translationSnap', this.translationSnap);\n    defineProperty('rotationSnap', this.rotationSnap);\n    defineProperty('scaleSnap', this.scaleSnap);\n    defineProperty('space', this.space);\n    defineProperty('size', this.size);\n    defineProperty('dragging', this.dragging);\n    defineProperty('showX', this.showX);\n    defineProperty('showY', this.showY);\n    defineProperty('showZ', this.showZ);\n    defineProperty('worldPosition', this.worldPosition);\n    defineProperty('worldPositionStart', this.worldPositionStart);\n    defineProperty('worldQuaternion', this.worldQuaternion);\n    defineProperty('worldQuaternionStart', this.worldQuaternionStart);\n    defineProperty('cameraPosition', this.cameraPosition);\n    defineProperty('cameraQuaternion', this.cameraQuaternion);\n    defineProperty('pointStart', this.pointStart);\n    defineProperty('pointEnd', this.pointEnd);\n    defineProperty('rotationAxis', this.rotationAxis);\n    defineProperty('rotationAngle', this.rotationAngle);\n    defineProperty('eye', this.eye); // connect events\n\n    if (_domElement !== undefined) this.connect(_domElement);\n  }\n\n}\n\nclass TransformControlsGizmo extends Object3D {\n  // these are set from parent class TransformControls\n  constructor() {\n    super();\n\n    _defineProperty(this, \"isTransformControlsGizmo\", true);\n\n    _defineProperty(this, \"type\", 'TransformControlsGizmo');\n\n    _defineProperty(this, \"tempVector\", new Vector3(0, 0, 0));\n\n    _defineProperty(this, \"tempEuler\", new Euler());\n\n    _defineProperty(this, \"alignVector\", new Vector3(0, 1, 0));\n\n    _defineProperty(this, \"zeroVector\", new Vector3(0, 0, 0));\n\n    _defineProperty(this, \"lookAtMatrix\", new Matrix4());\n\n    _defineProperty(this, \"tempQuaternion\", new Quaternion());\n\n    _defineProperty(this, \"tempQuaternion2\", new Quaternion());\n\n    _defineProperty(this, \"identityQuaternion\", new Quaternion());\n\n    _defineProperty(this, \"unitX\", new Vector3(1, 0, 0));\n\n    _defineProperty(this, \"unitY\", new Vector3(0, 1, 0));\n\n    _defineProperty(this, \"unitZ\", new Vector3(0, 0, 1));\n\n    _defineProperty(this, \"gizmo\", void 0);\n\n    _defineProperty(this, \"picker\", void 0);\n\n    _defineProperty(this, \"helper\", void 0);\n\n    _defineProperty(this, \"rotationAxis\", new Vector3());\n\n    _defineProperty(this, \"cameraPosition\", new Vector3());\n\n    _defineProperty(this, \"worldPositionStart\", new Vector3());\n\n    _defineProperty(this, \"worldQuaternionStart\", new Quaternion());\n\n    _defineProperty(this, \"worldPosition\", new Vector3());\n\n    _defineProperty(this, \"worldQuaternion\", new Quaternion());\n\n    _defineProperty(this, \"eye\", new Vector3());\n\n    _defineProperty(this, \"camera\", null);\n\n    _defineProperty(this, \"enabled\", true);\n\n    _defineProperty(this, \"axis\", null);\n\n    _defineProperty(this, \"mode\", 'translate');\n\n    _defineProperty(this, \"space\", 'world');\n\n    _defineProperty(this, \"size\", 1);\n\n    _defineProperty(this, \"dragging\", false);\n\n    _defineProperty(this, \"showX\", true);\n\n    _defineProperty(this, \"showY\", true);\n\n    _defineProperty(this, \"showZ\", true);\n\n    _defineProperty(this, \"updateMatrixWorld\", () => {\n      let space = this.space;\n\n      if (this.mode === 'scale') {\n        space = 'local'; // scale always oriented to local rotation\n      }\n\n      const quaternion = space === 'local' ? this.worldQuaternion : this.identityQuaternion; // Show only gizmos for current transform mode\n\n      this.gizmo['translate'].visible = this.mode === 'translate';\n      this.gizmo['rotate'].visible = this.mode === 'rotate';\n      this.gizmo['scale'].visible = this.mode === 'scale';\n      this.helper['translate'].visible = this.mode === 'translate';\n      this.helper['rotate'].visible = this.mode === 'rotate';\n      this.helper['scale'].visible = this.mode === 'scale';\n      let handles = [];\n      handles = handles.concat(this.picker[this.mode].children);\n      handles = handles.concat(this.gizmo[this.mode].children);\n      handles = handles.concat(this.helper[this.mode].children);\n\n      for (let i = 0; i < handles.length; i++) {\n        const handle = handles[i]; // hide aligned to camera\n\n        handle.visible = true;\n        handle.rotation.set(0, 0, 0);\n        handle.position.copy(this.worldPosition);\n        let factor;\n\n        if (this.camera.isOrthographicCamera) {\n          factor = (this.camera.top - this.camera.bottom) / this.camera.zoom;\n        } else {\n          factor = this.worldPosition.distanceTo(this.cameraPosition) * Math.min(1.9 * Math.tan(Math.PI * this.camera.fov / 360) / this.camera.zoom, 7);\n        }\n\n        handle.scale.set(1, 1, 1).multiplyScalar(factor * this.size / 7); // TODO: simplify helpers and consider decoupling from gizmo\n\n        if (handle.tag === 'helper') {\n          handle.visible = false;\n\n          if (handle.name === 'AXIS') {\n            handle.position.copy(this.worldPositionStart);\n            handle.visible = !!this.axis;\n\n            if (this.axis === 'X') {\n              this.tempQuaternion.setFromEuler(this.tempEuler.set(0, 0, 0));\n              handle.quaternion.copy(quaternion).multiply(this.tempQuaternion);\n\n              if (Math.abs(this.alignVector.copy(this.unitX).applyQuaternion(quaternion).dot(this.eye)) > 0.9) {\n                handle.visible = false;\n              }\n            }\n\n            if (this.axis === 'Y') {\n              this.tempQuaternion.setFromEuler(this.tempEuler.set(0, 0, Math.PI / 2));\n              handle.quaternion.copy(quaternion).multiply(this.tempQuaternion);\n\n              if (Math.abs(this.alignVector.copy(this.unitY).applyQuaternion(quaternion).dot(this.eye)) > 0.9) {\n                handle.visible = false;\n              }\n            }\n\n            if (this.axis === 'Z') {\n              this.tempQuaternion.setFromEuler(this.tempEuler.set(0, Math.PI / 2, 0));\n              handle.quaternion.copy(quaternion).multiply(this.tempQuaternion);\n\n              if (Math.abs(this.alignVector.copy(this.unitZ).applyQuaternion(quaternion).dot(this.eye)) > 0.9) {\n                handle.visible = false;\n              }\n            }\n\n            if (this.axis === 'XYZE') {\n              this.tempQuaternion.setFromEuler(this.tempEuler.set(0, Math.PI / 2, 0));\n              this.alignVector.copy(this.rotationAxis);\n              handle.quaternion.setFromRotationMatrix(this.lookAtMatrix.lookAt(this.zeroVector, this.alignVector, this.unitY));\n              handle.quaternion.multiply(this.tempQuaternion);\n              handle.visible = this.dragging;\n            }\n\n            if (this.axis === 'E') {\n              handle.visible = false;\n            }\n          } else if (handle.name === 'START') {\n            handle.position.copy(this.worldPositionStart);\n            handle.visible = this.dragging;\n          } else if (handle.name === 'END') {\n            handle.position.copy(this.worldPosition);\n            handle.visible = this.dragging;\n          } else if (handle.name === 'DELTA') {\n            handle.position.copy(this.worldPositionStart);\n            handle.quaternion.copy(this.worldQuaternionStart);\n            this.tempVector.set(1e-10, 1e-10, 1e-10).add(this.worldPositionStart).sub(this.worldPosition).multiplyScalar(-1);\n            this.tempVector.applyQuaternion(this.worldQuaternionStart.clone().invert());\n            handle.scale.copy(this.tempVector);\n            handle.visible = this.dragging;\n          } else {\n            handle.quaternion.copy(quaternion);\n\n            if (this.dragging) {\n              handle.position.copy(this.worldPositionStart);\n            } else {\n              handle.position.copy(this.worldPosition);\n            }\n\n            if (this.axis) {\n              handle.visible = this.axis.search(handle.name) !== -1;\n            }\n          } // If updating helper, skip rest of the loop\n\n\n          continue;\n        } // Align handles to current local or world rotation\n\n\n        handle.quaternion.copy(quaternion);\n\n        if (this.mode === 'translate' || this.mode === 'scale') {\n          // Hide translate and scale axis facing the camera\n          const AXIS_HIDE_TRESHOLD = 0.99;\n          const PLANE_HIDE_TRESHOLD = 0.2;\n          const AXIS_FLIP_TRESHOLD = 0.0;\n\n          if (handle.name === 'X' || handle.name === 'XYZX') {\n            if (Math.abs(this.alignVector.copy(this.unitX).applyQuaternion(quaternion).dot(this.eye)) > AXIS_HIDE_TRESHOLD) {\n              handle.scale.set(1e-10, 1e-10, 1e-10);\n              handle.visible = false;\n            }\n          }\n\n          if (handle.name === 'Y' || handle.name === 'XYZY') {\n            if (Math.abs(this.alignVector.copy(this.unitY).applyQuaternion(quaternion).dot(this.eye)) > AXIS_HIDE_TRESHOLD) {\n              handle.scale.set(1e-10, 1e-10, 1e-10);\n              handle.visible = false;\n            }\n          }\n\n          if (handle.name === 'Z' || handle.name === 'XYZZ') {\n            if (Math.abs(this.alignVector.copy(this.unitZ).applyQuaternion(quaternion).dot(this.eye)) > AXIS_HIDE_TRESHOLD) {\n              handle.scale.set(1e-10, 1e-10, 1e-10);\n              handle.visible = false;\n            }\n          }\n\n          if (handle.name === 'XY') {\n            if (Math.abs(this.alignVector.copy(this.unitZ).applyQuaternion(quaternion).dot(this.eye)) < PLANE_HIDE_TRESHOLD) {\n              handle.scale.set(1e-10, 1e-10, 1e-10);\n              handle.visible = false;\n            }\n          }\n\n          if (handle.name === 'YZ') {\n            if (Math.abs(this.alignVector.copy(this.unitX).applyQuaternion(quaternion).dot(this.eye)) < PLANE_HIDE_TRESHOLD) {\n              handle.scale.set(1e-10, 1e-10, 1e-10);\n              handle.visible = false;\n            }\n          }\n\n          if (handle.name === 'XZ') {\n            if (Math.abs(this.alignVector.copy(this.unitY).applyQuaternion(quaternion).dot(this.eye)) < PLANE_HIDE_TRESHOLD) {\n              handle.scale.set(1e-10, 1e-10, 1e-10);\n              handle.visible = false;\n            }\n          } // Flip translate and scale axis ocluded behind another axis\n\n\n          if (handle.name.search('X') !== -1) {\n            if (this.alignVector.copy(this.unitX).applyQuaternion(quaternion).dot(this.eye) < AXIS_FLIP_TRESHOLD) {\n              if (handle.tag === 'fwd') {\n                handle.visible = false;\n              } else {\n                handle.scale.x *= -1;\n              }\n            } else if (handle.tag === 'bwd') {\n              handle.visible = false;\n            }\n          }\n\n          if (handle.name.search('Y') !== -1) {\n            if (this.alignVector.copy(this.unitY).applyQuaternion(quaternion).dot(this.eye) < AXIS_FLIP_TRESHOLD) {\n              if (handle.tag === 'fwd') {\n                handle.visible = false;\n              } else {\n                handle.scale.y *= -1;\n              }\n            } else if (handle.tag === 'bwd') {\n              handle.visible = false;\n            }\n          }\n\n          if (handle.name.search('Z') !== -1) {\n            if (this.alignVector.copy(this.unitZ).applyQuaternion(quaternion).dot(this.eye) < AXIS_FLIP_TRESHOLD) {\n              if (handle.tag === 'fwd') {\n                handle.visible = false;\n              } else {\n                handle.scale.z *= -1;\n              }\n            } else if (handle.tag === 'bwd') {\n              handle.visible = false;\n            }\n          }\n        } else if (this.mode === 'rotate') {\n          // Align handles to current local or world rotation\n          this.tempQuaternion2.copy(quaternion);\n          this.alignVector.copy(this.eye).applyQuaternion(this.tempQuaternion.copy(quaternion).invert());\n\n          if (handle.name.search('E') !== -1) {\n            handle.quaternion.setFromRotationMatrix(this.lookAtMatrix.lookAt(this.eye, this.zeroVector, this.unitY));\n          }\n\n          if (handle.name === 'X') {\n            this.tempQuaternion.setFromAxisAngle(this.unitX, Math.atan2(-this.alignVector.y, this.alignVector.z));\n            this.tempQuaternion.multiplyQuaternions(this.tempQuaternion2, this.tempQuaternion);\n            handle.quaternion.copy(this.tempQuaternion);\n          }\n\n          if (handle.name === 'Y') {\n            this.tempQuaternion.setFromAxisAngle(this.unitY, Math.atan2(this.alignVector.x, this.alignVector.z));\n            this.tempQuaternion.multiplyQuaternions(this.tempQuaternion2, this.tempQuaternion);\n            handle.quaternion.copy(this.tempQuaternion);\n          }\n\n          if (handle.name === 'Z') {\n            this.tempQuaternion.setFromAxisAngle(this.unitZ, Math.atan2(this.alignVector.y, this.alignVector.x));\n            this.tempQuaternion.multiplyQuaternions(this.tempQuaternion2, this.tempQuaternion);\n            handle.quaternion.copy(this.tempQuaternion);\n          }\n        } // Hide disabled axes\n\n\n        handle.visible = handle.visible && (handle.name.indexOf('X') === -1 || this.showX);\n        handle.visible = handle.visible && (handle.name.indexOf('Y') === -1 || this.showY);\n        handle.visible = handle.visible && (handle.name.indexOf('Z') === -1 || this.showZ);\n        handle.visible = handle.visible && (handle.name.indexOf('E') === -1 || this.showX && this.showY && this.showZ); // highlight selected axis\n        //@ts-ignore\n\n        handle.material.tempOpacity = handle.material.tempOpacity || handle.material.opacity; //@ts-ignore\n\n        handle.material.tempColor = handle.material.tempColor || handle.material.color.clone(); //@ts-ignore\n\n        handle.material.color.copy(handle.material.tempColor); //@ts-ignore\n\n        handle.material.opacity = handle.material.tempOpacity;\n\n        if (!this.enabled) {\n          //@ts-ignore\n          handle.material.opacity *= 0.5; //@ts-ignore\n\n          handle.material.color.lerp(new Color(1, 1, 1), 0.5);\n        } else if (this.axis) {\n          if (handle.name === this.axis) {\n            //@ts-ignore\n            handle.material.opacity = 1.0; //@ts-ignore\n\n            handle.material.color.lerp(new Color(1, 1, 1), 0.5);\n          } else if (this.axis.split('').some(function (a) {\n            return handle.name === a;\n          })) {\n            //@ts-ignore\n            handle.material.opacity = 1.0; //@ts-ignore\n\n            handle.material.color.lerp(new Color(1, 1, 1), 0.5);\n          } else {\n            //@ts-ignore\n            handle.material.opacity *= 0.25; //@ts-ignore\n\n            handle.material.color.lerp(new Color(1, 1, 1), 0.5);\n          }\n        }\n      }\n\n      super.updateMatrixWorld();\n    });\n\n    const gizmoMaterial = new MeshBasicMaterial({\n      depthTest: false,\n      depthWrite: false,\n      transparent: true,\n      side: DoubleSide,\n      fog: false,\n      toneMapped: false\n    });\n    const gizmoLineMaterial = new LineBasicMaterial({\n      depthTest: false,\n      depthWrite: false,\n      transparent: true,\n      linewidth: 1,\n      fog: false,\n      toneMapped: false\n    }); // Make unique material for each axis/color\n\n    const matInvisible = gizmoMaterial.clone();\n    matInvisible.opacity = 0.15;\n    const matHelper = gizmoMaterial.clone();\n    matHelper.opacity = 0.33;\n    const matRed = gizmoMaterial.clone();\n    matRed.color.set(0xff0000);\n    const matGreen = gizmoMaterial.clone();\n    matGreen.color.set(0x00ff00);\n    const matBlue = gizmoMaterial.clone();\n    matBlue.color.set(0x0000ff);\n    const matWhiteTransparent = gizmoMaterial.clone();\n    matWhiteTransparent.opacity = 0.25;\n    const matYellowTransparent = matWhiteTransparent.clone();\n    matYellowTransparent.color.set(0xffff00);\n    const matCyanTransparent = matWhiteTransparent.clone();\n    matCyanTransparent.color.set(0x00ffff);\n    const matMagentaTransparent = matWhiteTransparent.clone();\n    matMagentaTransparent.color.set(0xff00ff);\n    const matYellow = gizmoMaterial.clone();\n    matYellow.color.set(0xffff00);\n    const matLineRed = gizmoLineMaterial.clone();\n    matLineRed.color.set(0xff0000);\n    const matLineGreen = gizmoLineMaterial.clone();\n    matLineGreen.color.set(0x00ff00);\n    const matLineBlue = gizmoLineMaterial.clone();\n    matLineBlue.color.set(0x0000ff);\n    const matLineCyan = gizmoLineMaterial.clone();\n    matLineCyan.color.set(0x00ffff);\n    const matLineMagenta = gizmoLineMaterial.clone();\n    matLineMagenta.color.set(0xff00ff);\n    const matLineYellow = gizmoLineMaterial.clone();\n    matLineYellow.color.set(0xffff00);\n    const matLineGray = gizmoLineMaterial.clone();\n    matLineGray.color.set(0x787878);\n    const matLineYellowTransparent = matLineYellow.clone();\n    matLineYellowTransparent.opacity = 0.25; // reusable geometry\n\n    const arrowGeometry = new CylinderGeometry(0, 0.05, 0.2, 12, 1, false);\n    const scaleHandleGeometry = new BoxGeometry(0.125, 0.125, 0.125);\n    const lineGeometry = new BufferGeometry();\n    lineGeometry.setAttribute('position', new Float32BufferAttribute([0, 0, 0, 1, 0, 0], 3));\n\n    const CircleGeometry = (radius, arc) => {\n      const geometry = new BufferGeometry();\n      const vertices = [];\n\n      for (let i = 0; i <= 64 * arc; ++i) {\n        vertices.push(0, Math.cos(i / 32 * Math.PI) * radius, Math.sin(i / 32 * Math.PI) * radius);\n      }\n\n      geometry.setAttribute('position', new Float32BufferAttribute(vertices, 3));\n      return geometry;\n    }; // Special geometry for transform helper. If scaled with position vector it spans from [0,0,0] to position\n\n\n    const TranslateHelperGeometry = () => {\n      const geometry = new BufferGeometry();\n      geometry.setAttribute('position', new Float32BufferAttribute([0, 0, 0, 1, 1, 1], 3));\n      return geometry;\n    }; // Gizmo definitions - custom hierarchy definitions for setupGizmo() function\n\n\n    const gizmoTranslate = {\n      X: [[new Mesh(arrowGeometry, matRed), [1, 0, 0], [0, 0, -Math.PI / 2], null, 'fwd'], [new Mesh(arrowGeometry, matRed), [1, 0, 0], [0, 0, Math.PI / 2], null, 'bwd'], [new Line(lineGeometry, matLineRed)]],\n      Y: [[new Mesh(arrowGeometry, matGreen), [0, 1, 0], null, null, 'fwd'], [new Mesh(arrowGeometry, matGreen), [0, 1, 0], [Math.PI, 0, 0], null, 'bwd'], [new Line(lineGeometry, matLineGreen), null, [0, 0, Math.PI / 2]]],\n      Z: [[new Mesh(arrowGeometry, matBlue), [0, 0, 1], [Math.PI / 2, 0, 0], null, 'fwd'], [new Mesh(arrowGeometry, matBlue), [0, 0, 1], [-Math.PI / 2, 0, 0], null, 'bwd'], [new Line(lineGeometry, matLineBlue), null, [0, -Math.PI / 2, 0]]],\n      XYZ: [[new Mesh(new OctahedronGeometry(0.1, 0), matWhiteTransparent.clone()), [0, 0, 0], [0, 0, 0]]],\n      XY: [[new Mesh(new PlaneGeometry(0.295, 0.295), matYellowTransparent.clone()), [0.15, 0.15, 0]], [new Line(lineGeometry, matLineYellow), [0.18, 0.3, 0], null, [0.125, 1, 1]], [new Line(lineGeometry, matLineYellow), [0.3, 0.18, 0], [0, 0, Math.PI / 2], [0.125, 1, 1]]],\n      YZ: [[new Mesh(new PlaneGeometry(0.295, 0.295), matCyanTransparent.clone()), [0, 0.15, 0.15], [0, Math.PI / 2, 0]], [new Line(lineGeometry, matLineCyan), [0, 0.18, 0.3], [0, 0, Math.PI / 2], [0.125, 1, 1]], [new Line(lineGeometry, matLineCyan), [0, 0.3, 0.18], [0, -Math.PI / 2, 0], [0.125, 1, 1]]],\n      XZ: [[new Mesh(new PlaneGeometry(0.295, 0.295), matMagentaTransparent.clone()), [0.15, 0, 0.15], [-Math.PI / 2, 0, 0]], [new Line(lineGeometry, matLineMagenta), [0.18, 0, 0.3], null, [0.125, 1, 1]], [new Line(lineGeometry, matLineMagenta), [0.3, 0, 0.18], [0, -Math.PI / 2, 0], [0.125, 1, 1]]]\n    };\n    const pickerTranslate = {\n      X: [[new Mesh(new CylinderGeometry(0.2, 0, 1, 4, 1, false), matInvisible), [0.6, 0, 0], [0, 0, -Math.PI / 2]]],\n      Y: [[new Mesh(new CylinderGeometry(0.2, 0, 1, 4, 1, false), matInvisible), [0, 0.6, 0]]],\n      Z: [[new Mesh(new CylinderGeometry(0.2, 0, 1, 4, 1, false), matInvisible), [0, 0, 0.6], [Math.PI / 2, 0, 0]]],\n      XYZ: [[new Mesh(new OctahedronGeometry(0.2, 0), matInvisible)]],\n      XY: [[new Mesh(new PlaneGeometry(0.4, 0.4), matInvisible), [0.2, 0.2, 0]]],\n      YZ: [[new Mesh(new PlaneGeometry(0.4, 0.4), matInvisible), [0, 0.2, 0.2], [0, Math.PI / 2, 0]]],\n      XZ: [[new Mesh(new PlaneGeometry(0.4, 0.4), matInvisible), [0.2, 0, 0.2], [-Math.PI / 2, 0, 0]]]\n    };\n    const helperTranslate = {\n      START: [[new Mesh(new OctahedronGeometry(0.01, 2), matHelper), null, null, null, 'helper']],\n      END: [[new Mesh(new OctahedronGeometry(0.01, 2), matHelper), null, null, null, 'helper']],\n      DELTA: [[new Line(TranslateHelperGeometry(), matHelper), null, null, null, 'helper']],\n      X: [[new Line(lineGeometry, matHelper.clone()), [-1e3, 0, 0], null, [1e6, 1, 1], 'helper']],\n      Y: [[new Line(lineGeometry, matHelper.clone()), [0, -1e3, 0], [0, 0, Math.PI / 2], [1e6, 1, 1], 'helper']],\n      Z: [[new Line(lineGeometry, matHelper.clone()), [0, 0, -1e3], [0, -Math.PI / 2, 0], [1e6, 1, 1], 'helper']]\n    };\n    const gizmoRotate = {\n      X: [[new Line(CircleGeometry(1, 0.5), matLineRed)], [new Mesh(new OctahedronGeometry(0.04, 0), matRed), [0, 0, 0.99], null, [1, 3, 1]]],\n      Y: [[new Line(CircleGeometry(1, 0.5), matLineGreen), null, [0, 0, -Math.PI / 2]], [new Mesh(new OctahedronGeometry(0.04, 0), matGreen), [0, 0, 0.99], null, [3, 1, 1]]],\n      Z: [[new Line(CircleGeometry(1, 0.5), matLineBlue), null, [0, Math.PI / 2, 0]], [new Mesh(new OctahedronGeometry(0.04, 0), matBlue), [0.99, 0, 0], null, [1, 3, 1]]],\n      E: [[new Line(CircleGeometry(1.25, 1), matLineYellowTransparent), null, [0, Math.PI / 2, 0]], [new Mesh(new CylinderGeometry(0.03, 0, 0.15, 4, 1, false), matLineYellowTransparent), [1.17, 0, 0], [0, 0, -Math.PI / 2], [1, 1, 0.001]], [new Mesh(new CylinderGeometry(0.03, 0, 0.15, 4, 1, false), matLineYellowTransparent), [-1.17, 0, 0], [0, 0, Math.PI / 2], [1, 1, 0.001]], [new Mesh(new CylinderGeometry(0.03, 0, 0.15, 4, 1, false), matLineYellowTransparent), [0, -1.17, 0], [Math.PI, 0, 0], [1, 1, 0.001]], [new Mesh(new CylinderGeometry(0.03, 0, 0.15, 4, 1, false), matLineYellowTransparent), [0, 1.17, 0], [0, 0, 0], [1, 1, 0.001]]],\n      XYZE: [[new Line(CircleGeometry(1, 1), matLineGray), null, [0, Math.PI / 2, 0]]]\n    };\n    const helperRotate = {\n      AXIS: [[new Line(lineGeometry, matHelper.clone()), [-1e3, 0, 0], null, [1e6, 1, 1], 'helper']]\n    };\n    const pickerRotate = {\n      X: [[new Mesh(new TorusGeometry(1, 0.1, 4, 24), matInvisible), [0, 0, 0], [0, -Math.PI / 2, -Math.PI / 2]]],\n      Y: [[new Mesh(new TorusGeometry(1, 0.1, 4, 24), matInvisible), [0, 0, 0], [Math.PI / 2, 0, 0]]],\n      Z: [[new Mesh(new TorusGeometry(1, 0.1, 4, 24), matInvisible), [0, 0, 0], [0, 0, -Math.PI / 2]]],\n      E: [[new Mesh(new TorusGeometry(1.25, 0.1, 2, 24), matInvisible)]],\n      XYZE: [[new Mesh(new SphereGeometry(0.7, 10, 8), matInvisible)]]\n    };\n    const gizmoScale = {\n      X: [[new Mesh(scaleHandleGeometry, matRed), [0.8, 0, 0], [0, 0, -Math.PI / 2]], [new Line(lineGeometry, matLineRed), null, null, [0.8, 1, 1]]],\n      Y: [[new Mesh(scaleHandleGeometry, matGreen), [0, 0.8, 0]], [new Line(lineGeometry, matLineGreen), null, [0, 0, Math.PI / 2], [0.8, 1, 1]]],\n      Z: [[new Mesh(scaleHandleGeometry, matBlue), [0, 0, 0.8], [Math.PI / 2, 0, 0]], [new Line(lineGeometry, matLineBlue), null, [0, -Math.PI / 2, 0], [0.8, 1, 1]]],\n      XY: [[new Mesh(scaleHandleGeometry, matYellowTransparent), [0.85, 0.85, 0], null, [2, 2, 0.2]], [new Line(lineGeometry, matLineYellow), [0.855, 0.98, 0], null, [0.125, 1, 1]], [new Line(lineGeometry, matLineYellow), [0.98, 0.855, 0], [0, 0, Math.PI / 2], [0.125, 1, 1]]],\n      YZ: [[new Mesh(scaleHandleGeometry, matCyanTransparent), [0, 0.85, 0.85], null, [0.2, 2, 2]], [new Line(lineGeometry, matLineCyan), [0, 0.855, 0.98], [0, 0, Math.PI / 2], [0.125, 1, 1]], [new Line(lineGeometry, matLineCyan), [0, 0.98, 0.855], [0, -Math.PI / 2, 0], [0.125, 1, 1]]],\n      XZ: [[new Mesh(scaleHandleGeometry, matMagentaTransparent), [0.85, 0, 0.85], null, [2, 0.2, 2]], [new Line(lineGeometry, matLineMagenta), [0.855, 0, 0.98], null, [0.125, 1, 1]], [new Line(lineGeometry, matLineMagenta), [0.98, 0, 0.855], [0, -Math.PI / 2, 0], [0.125, 1, 1]]],\n      XYZX: [[new Mesh(new BoxGeometry(0.125, 0.125, 0.125), matWhiteTransparent.clone()), [1.1, 0, 0]]],\n      XYZY: [[new Mesh(new BoxGeometry(0.125, 0.125, 0.125), matWhiteTransparent.clone()), [0, 1.1, 0]]],\n      XYZZ: [[new Mesh(new BoxGeometry(0.125, 0.125, 0.125), matWhiteTransparent.clone()), [0, 0, 1.1]]]\n    };\n    const pickerScale = {\n      X: [[new Mesh(new CylinderGeometry(0.2, 0, 0.8, 4, 1, false), matInvisible), [0.5, 0, 0], [0, 0, -Math.PI / 2]]],\n      Y: [[new Mesh(new CylinderGeometry(0.2, 0, 0.8, 4, 1, false), matInvisible), [0, 0.5, 0]]],\n      Z: [[new Mesh(new CylinderGeometry(0.2, 0, 0.8, 4, 1, false), matInvisible), [0, 0, 0.5], [Math.PI / 2, 0, 0]]],\n      XY: [[new Mesh(scaleHandleGeometry, matInvisible), [0.85, 0.85, 0], null, [3, 3, 0.2]]],\n      YZ: [[new Mesh(scaleHandleGeometry, matInvisible), [0, 0.85, 0.85], null, [0.2, 3, 3]]],\n      XZ: [[new Mesh(scaleHandleGeometry, matInvisible), [0.85, 0, 0.85], null, [3, 0.2, 3]]],\n      XYZX: [[new Mesh(new BoxGeometry(0.2, 0.2, 0.2), matInvisible), [1.1, 0, 0]]],\n      XYZY: [[new Mesh(new BoxGeometry(0.2, 0.2, 0.2), matInvisible), [0, 1.1, 0]]],\n      XYZZ: [[new Mesh(new BoxGeometry(0.2, 0.2, 0.2), matInvisible), [0, 0, 1.1]]]\n    };\n    const helperScale = {\n      X: [[new Line(lineGeometry, matHelper.clone()), [-1e3, 0, 0], null, [1e6, 1, 1], 'helper']],\n      Y: [[new Line(lineGeometry, matHelper.clone()), [0, -1e3, 0], [0, 0, Math.PI / 2], [1e6, 1, 1], 'helper']],\n      Z: [[new Line(lineGeometry, matHelper.clone()), [0, 0, -1e3], [0, -Math.PI / 2, 0], [1e6, 1, 1], 'helper']]\n    }; // Creates an Object3D with gizmos described in custom hierarchy definition.\n    // this is nearly impossible to Type so i'm leaving it\n\n    const setupGizmo = gizmoMap => {\n      const gizmo = new Object3D();\n\n      for (let name in gizmoMap) {\n        for (let i = gizmoMap[name].length; i--;) {\n          const object = gizmoMap[name][i][0].clone();\n          const position = gizmoMap[name][i][1];\n          const rotation = gizmoMap[name][i][2];\n          const scale = gizmoMap[name][i][3];\n          const tag = gizmoMap[name][i][4]; // name and tag properties are essential for picking and updating logic.\n\n          object.name = name; // @ts-ignore\n\n          object.tag = tag;\n\n          if (position) {\n            object.position.set(position[0], position[1], position[2]);\n          }\n\n          if (rotation) {\n            object.rotation.set(rotation[0], rotation[1], rotation[2]);\n          }\n\n          if (scale) {\n            object.scale.set(scale[0], scale[1], scale[2]);\n          }\n\n          object.updateMatrix();\n          const tempGeometry = object.geometry.clone();\n          tempGeometry.applyMatrix4(object.matrix);\n          object.geometry = tempGeometry;\n          object.renderOrder = Infinity;\n          object.position.set(0, 0, 0);\n          object.rotation.set(0, 0, 0);\n          object.scale.set(1, 1, 1);\n          gizmo.add(object);\n        }\n      }\n\n      return gizmo;\n    };\n\n    this.gizmo = {};\n    this.picker = {};\n    this.helper = {};\n    this.add(this.gizmo['translate'] = setupGizmo(gizmoTranslate));\n    this.add(this.gizmo['rotate'] = setupGizmo(gizmoRotate));\n    this.add(this.gizmo['scale'] = setupGizmo(gizmoScale));\n    this.add(this.picker['translate'] = setupGizmo(pickerTranslate));\n    this.add(this.picker['rotate'] = setupGizmo(pickerRotate));\n    this.add(this.picker['scale'] = setupGizmo(pickerScale));\n    this.add(this.helper['translate'] = setupGizmo(helperTranslate));\n    this.add(this.helper['rotate'] = setupGizmo(helperRotate));\n    this.add(this.helper['scale'] = setupGizmo(helperScale)); // Pickers should be hidden always\n\n    this.picker['translate'].visible = false;\n    this.picker['rotate'].visible = false;\n    this.picker['scale'].visible = false;\n  } // updateMatrixWorld will update transformations and appearance of individual handles\n\n\n}\n\nclass TransformControlsPlane extends Mesh {\n  constructor() {\n    super(new PlaneGeometry(100000, 100000, 2, 2), new MeshBasicMaterial({\n      visible: false,\n      wireframe: true,\n      side: DoubleSide,\n      transparent: true,\n      opacity: 0.1,\n      toneMapped: false\n    }));\n\n    _defineProperty(this, \"isTransformControlsPlane\", true);\n\n    _defineProperty(this, \"type\", 'TransformControlsPlane');\n\n    _defineProperty(this, \"unitX\", new Vector3(1, 0, 0));\n\n    _defineProperty(this, \"unitY\", new Vector3(0, 1, 0));\n\n    _defineProperty(this, \"unitZ\", new Vector3(0, 0, 1));\n\n    _defineProperty(this, \"tempVector\", new Vector3());\n\n    _defineProperty(this, \"dirVector\", new Vector3());\n\n    _defineProperty(this, \"alignVector\", new Vector3());\n\n    _defineProperty(this, \"tempMatrix\", new Matrix4());\n\n    _defineProperty(this, \"identityQuaternion\", new Quaternion());\n\n    _defineProperty(this, \"cameraQuaternion\", new Quaternion());\n\n    _defineProperty(this, \"worldPosition\", new Vector3());\n\n    _defineProperty(this, \"worldQuaternion\", new Quaternion());\n\n    _defineProperty(this, \"eye\", new Vector3());\n\n    _defineProperty(this, \"axis\", null);\n\n    _defineProperty(this, \"mode\", 'translate');\n\n    _defineProperty(this, \"space\", 'world');\n\n    _defineProperty(this, \"updateMatrixWorld\", () => {\n      let space = this.space;\n      this.position.copy(this.worldPosition);\n      if (this.mode === 'scale') space = 'local'; // scale always oriented to local rotation\n\n      this.unitX.set(1, 0, 0).applyQuaternion(space === 'local' ? this.worldQuaternion : this.identityQuaternion);\n      this.unitY.set(0, 1, 0).applyQuaternion(space === 'local' ? this.worldQuaternion : this.identityQuaternion);\n      this.unitZ.set(0, 0, 1).applyQuaternion(space === 'local' ? this.worldQuaternion : this.identityQuaternion); // Align the plane for current transform mode, axis and space.\n\n      this.alignVector.copy(this.unitY);\n\n      switch (this.mode) {\n        case 'translate':\n        case 'scale':\n          switch (this.axis) {\n            case 'X':\n              this.alignVector.copy(this.eye).cross(this.unitX);\n              this.dirVector.copy(this.unitX).cross(this.alignVector);\n              break;\n\n            case 'Y':\n              this.alignVector.copy(this.eye).cross(this.unitY);\n              this.dirVector.copy(this.unitY).cross(this.alignVector);\n              break;\n\n            case 'Z':\n              this.alignVector.copy(this.eye).cross(this.unitZ);\n              this.dirVector.copy(this.unitZ).cross(this.alignVector);\n              break;\n\n            case 'XY':\n              this.dirVector.copy(this.unitZ);\n              break;\n\n            case 'YZ':\n              this.dirVector.copy(this.unitX);\n              break;\n\n            case 'XZ':\n              this.alignVector.copy(this.unitZ);\n              this.dirVector.copy(this.unitY);\n              break;\n\n            case 'XYZ':\n            case 'E':\n              this.dirVector.set(0, 0, 0);\n              break;\n          }\n\n          break;\n\n        case 'rotate':\n        default:\n          // special case for rotate\n          this.dirVector.set(0, 0, 0);\n      }\n\n      if (this.dirVector.length() === 0) {\n        // If in rotate mode, make the plane parallel to camera\n        this.quaternion.copy(this.cameraQuaternion);\n      } else {\n        this.tempMatrix.lookAt(this.tempVector.set(0, 0, 0), this.dirVector, this.alignVector);\n        this.quaternion.setFromRotationMatrix(this.tempMatrix);\n      }\n\n      super.updateMatrixWorld();\n    });\n  }\n\n}\n\nexport { TransformControls, TransformControlsGizmo, TransformControlsPlane };\n","import _extends from '@babel/runtime/helpers/esm/extends';\nimport { useThree } from '@react-three/fiber';\nimport omit from 'lodash.omit';\nimport pick from 'lodash.pick';\nimport * as React from 'react';\nimport * as THREE from 'three';\nimport { TransformControls as TransformControls$1 } from 'three-stdlib';\n\nconst TransformControls = /*#__PURE__*/React.forwardRef(({\n  children,\n  domElement,\n  onChange,\n  onMouseDown,\n  onMouseUp,\n  onObjectChange,\n  object,\n  ...props\n}, ref) => {\n  const transformOnlyPropNames = ['enabled', 'axis', 'mode', 'translationSnap', 'rotationSnap', 'scaleSnap', 'space', 'size', 'showX', 'showY', 'showZ'];\n  const {\n    camera,\n    ...rest\n  } = props;\n  const transformProps = pick(rest, transformOnlyPropNames);\n  const objectProps = omit(rest, transformOnlyPropNames); // @ts-expect-error new in @react-three/fiber@7.0.5\n\n  const defaultControls = useThree(state => state.controls);\n  const gl = useThree(state => state.gl);\n  const events = useThree(state => state.events);\n  const defaultCamera = useThree(state => state.camera);\n  const invalidate = useThree(state => state.invalidate);\n  const explCamera = camera || defaultCamera;\n  const explDomElement = domElement || events.connected || gl.domElement;\n  const controls = React.useMemo(() => new TransformControls$1(explCamera, explDomElement), [explCamera, explDomElement]);\n  const group = React.useRef();\n  React.useLayoutEffect(() => {\n    if (object) {\n      controls.attach(object instanceof THREE.Object3D ? object : object.current);\n    } else if (group.current instanceof THREE.Object3D) {\n      controls.attach(group.current);\n    }\n\n    return () => void controls.detach();\n  }, [object, children, controls]);\n  React.useEffect(() => {\n    if (defaultControls) {\n      const callback = event => defaultControls.enabled = !event.value;\n\n      controls.addEventListener('dragging-changed', callback);\n      return () => controls.removeEventListener('dragging-changed', callback);\n    }\n  }, [controls, defaultControls]);\n  React.useEffect(() => {\n    const callback = e => {\n      invalidate();\n      if (onChange) onChange(e);\n    };\n\n    controls == null ? void 0 : controls.addEventListener == null ? void 0 : controls.addEventListener('change', callback);\n    if (onMouseDown) controls == null ? void 0 : controls.addEventListener == null ? void 0 : controls.addEventListener('mouseDown', onMouseDown);\n    if (onMouseUp) controls == null ? void 0 : controls.addEventListener == null ? void 0 : controls.addEventListener('mouseUp', onMouseUp);\n    if (onObjectChange) controls == null ? void 0 : controls.addEventListener == null ? void 0 : controls.addEventListener('objectChange', onObjectChange);\n    return () => {\n      controls == null ? void 0 : controls.removeEventListener == null ? void 0 : controls.removeEventListener('change', callback);\n      if (onMouseDown) controls == null ? void 0 : controls.removeEventListener == null ? void 0 : controls.removeEventListener('mouseDown', onMouseDown);\n      if (onMouseUp) controls == null ? void 0 : controls.removeEventListener == null ? void 0 : controls.removeEventListener('mouseUp', onMouseUp);\n      if (onObjectChange) controls == null ? void 0 : controls.removeEventListener == null ? void 0 : controls.removeEventListener('objectChange', onObjectChange);\n    };\n  }, [onChange, onMouseDown, onMouseUp, onObjectChange, controls, invalidate]);\n  return controls ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"primitive\", _extends({\n    ref: ref,\n    object: controls\n  }, transformProps)), /*#__PURE__*/React.createElement(\"group\", _extends({\n    ref: group\n  }, objectProps), children)) : null;\n});\n\nexport { TransformControls };\n","import * as React from 'react';\n\nfunction useCursor(hovered, onPointerOver = 'pointer', onPointerOut = 'auto') {\n  React.useEffect(() => {\n    if (hovered) {\n      document.body.style.cursor = onPointerOver;\n      return () => void (document.body.style.cursor = onPointerOut);\n    }\n  }, [hovered]);\n}\n\nexport { useCursor };\n","/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0,\n    MAX_SAFE_INTEGER = 9007199254740991;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    symbolTag = '[object Symbol]';\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/**\n * A faster alternative to `Function#apply`, this function invokes `func`\n * with the `this` binding of `thisArg` and the arguments of `args`.\n *\n * @private\n * @param {Function} func The function to invoke.\n * @param {*} thisArg The `this` binding of `func`.\n * @param {Array} args The arguments to invoke `func` with.\n * @returns {*} Returns the result of `func`.\n */\nfunction apply(func, thisArg, args) {\n  switch (args.length) {\n    case 0: return func.call(thisArg);\n    case 1: return func.call(thisArg, args[0]);\n    case 2: return func.call(thisArg, args[0], args[1]);\n    case 3: return func.call(thisArg, args[0], args[1], args[2]);\n  }\n  return func.apply(thisArg, args);\n}\n\n/**\n * A specialized version of `_.includes` for arrays without support for\n * specifying an index to search from.\n *\n * @private\n * @param {Array} [array] The array to inspect.\n * @param {*} target The value to search for.\n * @returns {boolean} Returns `true` if `target` is found, else `false`.\n */\nfunction arrayIncludes(array, value) {\n  var length = array ? array.length : 0;\n  return !!length && baseIndexOf(array, value, 0) > -1;\n}\n\n/**\n * This function is like `arrayIncludes` except that it accepts a comparator.\n *\n * @private\n * @param {Array} [array] The array to inspect.\n * @param {*} target The value to search for.\n * @param {Function} comparator The comparator invoked per element.\n * @returns {boolean} Returns `true` if `target` is found, else `false`.\n */\nfunction arrayIncludesWith(array, value, comparator) {\n  var index = -1,\n      length = array ? array.length : 0;\n\n  while (++index < length) {\n    if (comparator(value, array[index])) {\n      return true;\n    }\n  }\n  return false;\n}\n\n/**\n * A specialized version of `_.map` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n */\nfunction arrayMap(array, iteratee) {\n  var index = -1,\n      length = array ? array.length : 0,\n      result = Array(length);\n\n  while (++index < length) {\n    result[index] = iteratee(array[index], index, array);\n  }\n  return result;\n}\n\n/**\n * Appends the elements of `values` to `array`.\n *\n * @private\n * @param {Array} array The array to modify.\n * @param {Array} values The values to append.\n * @returns {Array} Returns `array`.\n */\nfunction arrayPush(array, values) {\n  var index = -1,\n      length = values.length,\n      offset = array.length;\n\n  while (++index < length) {\n    array[offset + index] = values[index];\n  }\n  return array;\n}\n\n/**\n * The base implementation of `_.findIndex` and `_.findLastIndex` without\n * support for iteratee shorthands.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {Function} predicate The function invoked per iteration.\n * @param {number} fromIndex The index to search from.\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction baseFindIndex(array, predicate, fromIndex, fromRight) {\n  var length = array.length,\n      index = fromIndex + (fromRight ? 1 : -1);\n\n  while ((fromRight ? index-- : ++index < length)) {\n    if (predicate(array[index], index, array)) {\n      return index;\n    }\n  }\n  return -1;\n}\n\n/**\n * The base implementation of `_.indexOf` without `fromIndex` bounds checks.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} value The value to search for.\n * @param {number} fromIndex The index to search from.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction baseIndexOf(array, value, fromIndex) {\n  if (value !== value) {\n    return baseFindIndex(array, baseIsNaN, fromIndex);\n  }\n  var index = fromIndex - 1,\n      length = array.length;\n\n  while (++index < length) {\n    if (array[index] === value) {\n      return index;\n    }\n  }\n  return -1;\n}\n\n/**\n * The base implementation of `_.isNaN` without support for number objects.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is `NaN`, else `false`.\n */\nfunction baseIsNaN(value) {\n  return value !== value;\n}\n\n/**\n * The base implementation of `_.times` without support for iteratee shorthands\n * or max array length checks.\n *\n * @private\n * @param {number} n The number of times to invoke `iteratee`.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the array of results.\n */\nfunction baseTimes(n, iteratee) {\n  var index = -1,\n      result = Array(n);\n\n  while (++index < n) {\n    result[index] = iteratee(index);\n  }\n  return result;\n}\n\n/**\n * The base implementation of `_.unary` without support for storing metadata.\n *\n * @private\n * @param {Function} func The function to cap arguments for.\n * @returns {Function} Returns the new capped function.\n */\nfunction baseUnary(func) {\n  return function(value) {\n    return func(value);\n  };\n}\n\n/**\n * Checks if a cache value for `key` exists.\n *\n * @private\n * @param {Object} cache The cache to query.\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction cacheHas(cache, key) {\n  return cache.has(key);\n}\n\n/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\n/**\n * Checks if `value` is a host object in IE < 9.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a host object, else `false`.\n */\nfunction isHostObject(value) {\n  // Many host objects are `Object` objects that can coerce to strings\n  // despite having improperly defined `toString` methods.\n  var result = false;\n  if (value != null && typeof value.toString != 'function') {\n    try {\n      result = !!(value + '');\n    } catch (e) {}\n  }\n  return result;\n}\n\n/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype,\n    funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to detect overreaching core-js shims. */\nvar coreJsData = root['__core-js_shared__'];\n\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = (function() {\n  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n  return uid ? ('Symbol(src)_1.' + uid) : '';\n}());\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/** Built-in value references. */\nvar Symbol = root.Symbol,\n    getPrototype = overArg(Object.getPrototypeOf, Object),\n    propertyIsEnumerable = objectProto.propertyIsEnumerable,\n    splice = arrayProto.splice,\n    spreadableSymbol = Symbol ? Symbol.isConcatSpreadable : undefined;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeGetSymbols = Object.getOwnPropertySymbols,\n    nativeMax = Math.max;\n\n/* Built-in method references that are verified to be native. */\nvar Map = getNative(root, 'Map'),\n    nativeCreate = getNative(Object, 'create');\n\n/**\n * Creates a hash object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Hash(entries) {\n  var index = -1,\n      length = entries ? entries.length : 0;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the hash.\n *\n * @private\n * @name clear\n * @memberOf Hash\n */\nfunction hashClear() {\n  this.__data__ = nativeCreate ? nativeCreate(null) : {};\n}\n\n/**\n * Removes `key` and its value from the hash.\n *\n * @private\n * @name delete\n * @memberOf Hash\n * @param {Object} hash The hash to modify.\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction hashDelete(key) {\n  return this.has(key) && delete this.__data__[key];\n}\n\n/**\n * Gets the hash value for `key`.\n *\n * @private\n * @name get\n * @memberOf Hash\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction hashGet(key) {\n  var data = this.__data__;\n  if (nativeCreate) {\n    var result = data[key];\n    return result === HASH_UNDEFINED ? undefined : result;\n  }\n  return hasOwnProperty.call(data, key) ? data[key] : undefined;\n}\n\n/**\n * Checks if a hash value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Hash\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction hashHas(key) {\n  var data = this.__data__;\n  return nativeCreate ? data[key] !== undefined : hasOwnProperty.call(data, key);\n}\n\n/**\n * Sets the hash `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Hash\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the hash instance.\n */\nfunction hashSet(key, value) {\n  var data = this.__data__;\n  data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n  return this;\n}\n\n// Add methods to `Hash`.\nHash.prototype.clear = hashClear;\nHash.prototype['delete'] = hashDelete;\nHash.prototype.get = hashGet;\nHash.prototype.has = hashHas;\nHash.prototype.set = hashSet;\n\n/**\n * Creates an list cache object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction ListCache(entries) {\n  var index = -1,\n      length = entries ? entries.length : 0;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the list cache.\n *\n * @private\n * @name clear\n * @memberOf ListCache\n */\nfunction listCacheClear() {\n  this.__data__ = [];\n}\n\n/**\n * Removes `key` and its value from the list cache.\n *\n * @private\n * @name delete\n * @memberOf ListCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction listCacheDelete(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    return false;\n  }\n  var lastIndex = data.length - 1;\n  if (index == lastIndex) {\n    data.pop();\n  } else {\n    splice.call(data, index, 1);\n  }\n  return true;\n}\n\n/**\n * Gets the list cache value for `key`.\n *\n * @private\n * @name get\n * @memberOf ListCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction listCacheGet(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  return index < 0 ? undefined : data[index][1];\n}\n\n/**\n * Checks if a list cache value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf ListCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction listCacheHas(key) {\n  return assocIndexOf(this.__data__, key) > -1;\n}\n\n/**\n * Sets the list cache `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf ListCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the list cache instance.\n */\nfunction listCacheSet(key, value) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    data.push([key, value]);\n  } else {\n    data[index][1] = value;\n  }\n  return this;\n}\n\n// Add methods to `ListCache`.\nListCache.prototype.clear = listCacheClear;\nListCache.prototype['delete'] = listCacheDelete;\nListCache.prototype.get = listCacheGet;\nListCache.prototype.has = listCacheHas;\nListCache.prototype.set = listCacheSet;\n\n/**\n * Creates a map cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction MapCache(entries) {\n  var index = -1,\n      length = entries ? entries.length : 0;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the map.\n *\n * @private\n * @name clear\n * @memberOf MapCache\n */\nfunction mapCacheClear() {\n  this.__data__ = {\n    'hash': new Hash,\n    'map': new (Map || ListCache),\n    'string': new Hash\n  };\n}\n\n/**\n * Removes `key` and its value from the map.\n *\n * @private\n * @name delete\n * @memberOf MapCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction mapCacheDelete(key) {\n  return getMapData(this, key)['delete'](key);\n}\n\n/**\n * Gets the map value for `key`.\n *\n * @private\n * @name get\n * @memberOf MapCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction mapCacheGet(key) {\n  return getMapData(this, key).get(key);\n}\n\n/**\n * Checks if a map value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf MapCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction mapCacheHas(key) {\n  return getMapData(this, key).has(key);\n}\n\n/**\n * Sets the map `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf MapCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the map cache instance.\n */\nfunction mapCacheSet(key, value) {\n  getMapData(this, key).set(key, value);\n  return this;\n}\n\n// Add methods to `MapCache`.\nMapCache.prototype.clear = mapCacheClear;\nMapCache.prototype['delete'] = mapCacheDelete;\nMapCache.prototype.get = mapCacheGet;\nMapCache.prototype.has = mapCacheHas;\nMapCache.prototype.set = mapCacheSet;\n\n/**\n *\n * Creates an array cache object to store unique values.\n *\n * @private\n * @constructor\n * @param {Array} [values] The values to cache.\n */\nfunction SetCache(values) {\n  var index = -1,\n      length = values ? values.length : 0;\n\n  this.__data__ = new MapCache;\n  while (++index < length) {\n    this.add(values[index]);\n  }\n}\n\n/**\n * Adds `value` to the array cache.\n *\n * @private\n * @name add\n * @memberOf SetCache\n * @alias push\n * @param {*} value The value to cache.\n * @returns {Object} Returns the cache instance.\n */\nfunction setCacheAdd(value) {\n  this.__data__.set(value, HASH_UNDEFINED);\n  return this;\n}\n\n/**\n * Checks if `value` is in the array cache.\n *\n * @private\n * @name has\n * @memberOf SetCache\n * @param {*} value The value to search for.\n * @returns {number} Returns `true` if `value` is found, else `false`.\n */\nfunction setCacheHas(value) {\n  return this.__data__.has(value);\n}\n\n// Add methods to `SetCache`.\nSetCache.prototype.add = SetCache.prototype.push = setCacheAdd;\nSetCache.prototype.has = setCacheHas;\n\n/**\n * Creates an array of the enumerable property names of the array-like `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @param {boolean} inherited Specify returning inherited property names.\n * @returns {Array} Returns the array of property names.\n */\nfunction arrayLikeKeys(value, inherited) {\n  // Safari 8.1 makes `arguments.callee` enumerable in strict mode.\n  // Safari 9 makes `arguments.length` enumerable in strict mode.\n  var result = (isArray(value) || isArguments(value))\n    ? baseTimes(value.length, String)\n    : [];\n\n  var length = result.length,\n      skipIndexes = !!length;\n\n  for (var key in value) {\n    if ((inherited || hasOwnProperty.call(value, key)) &&\n        !(skipIndexes && (key == 'length' || isIndex(key, length)))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * Gets the index at which the `key` is found in `array` of key-value pairs.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} key The key to search for.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction assocIndexOf(array, key) {\n  var length = array.length;\n  while (length--) {\n    if (eq(array[length][0], key)) {\n      return length;\n    }\n  }\n  return -1;\n}\n\n/**\n * The base implementation of methods like `_.difference` without support\n * for excluding multiple arrays or iteratee shorthands.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {Array} values The values to exclude.\n * @param {Function} [iteratee] The iteratee invoked per element.\n * @param {Function} [comparator] The comparator invoked per element.\n * @returns {Array} Returns the new array of filtered values.\n */\nfunction baseDifference(array, values, iteratee, comparator) {\n  var index = -1,\n      includes = arrayIncludes,\n      isCommon = true,\n      length = array.length,\n      result = [],\n      valuesLength = values.length;\n\n  if (!length) {\n    return result;\n  }\n  if (iteratee) {\n    values = arrayMap(values, baseUnary(iteratee));\n  }\n  if (comparator) {\n    includes = arrayIncludesWith;\n    isCommon = false;\n  }\n  else if (values.length >= LARGE_ARRAY_SIZE) {\n    includes = cacheHas;\n    isCommon = false;\n    values = new SetCache(values);\n  }\n  outer:\n  while (++index < length) {\n    var value = array[index],\n        computed = iteratee ? iteratee(value) : value;\n\n    value = (comparator || value !== 0) ? value : 0;\n    if (isCommon && computed === computed) {\n      var valuesIndex = valuesLength;\n      while (valuesIndex--) {\n        if (values[valuesIndex] === computed) {\n          continue outer;\n        }\n      }\n      result.push(value);\n    }\n    else if (!includes(values, computed, comparator)) {\n      result.push(value);\n    }\n  }\n  return result;\n}\n\n/**\n * The base implementation of `_.flatten` with support for restricting flattening.\n *\n * @private\n * @param {Array} array The array to flatten.\n * @param {number} depth The maximum recursion depth.\n * @param {boolean} [predicate=isFlattenable] The function invoked per iteration.\n * @param {boolean} [isStrict] Restrict to values that pass `predicate` checks.\n * @param {Array} [result=[]] The initial result value.\n * @returns {Array} Returns the new flattened array.\n */\nfunction baseFlatten(array, depth, predicate, isStrict, result) {\n  var index = -1,\n      length = array.length;\n\n  predicate || (predicate = isFlattenable);\n  result || (result = []);\n\n  while (++index < length) {\n    var value = array[index];\n    if (depth > 0 && predicate(value)) {\n      if (depth > 1) {\n        // Recursively flatten arrays (susceptible to call stack limits).\n        baseFlatten(value, depth - 1, predicate, isStrict, result);\n      } else {\n        arrayPush(result, value);\n      }\n    } else if (!isStrict) {\n      result[result.length] = value;\n    }\n  }\n  return result;\n}\n\n/**\n * The base implementation of `getAllKeys` and `getAllKeysIn` which uses\n * `keysFunc` and `symbolsFunc` to get the enumerable property names and\n * symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @param {Function} symbolsFunc The function to get the symbols of `object`.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction baseGetAllKeys(object, keysFunc, symbolsFunc) {\n  var result = keysFunc(object);\n  return isArray(object) ? result : arrayPush(result, symbolsFunc(object));\n}\n\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative(value) {\n  if (!isObject(value) || isMasked(value)) {\n    return false;\n  }\n  var pattern = (isFunction(value) || isHostObject(value)) ? reIsNative : reIsHostCtor;\n  return pattern.test(toSource(value));\n}\n\n/**\n * The base implementation of `_.keysIn` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeysIn(object) {\n  if (!isObject(object)) {\n    return nativeKeysIn(object);\n  }\n  var isProto = isPrototype(object),\n      result = [];\n\n  for (var key in object) {\n    if (!(key == 'constructor' && (isProto || !hasOwnProperty.call(object, key)))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * The base implementation of `_.pick` without support for individual\n * property identifiers.\n *\n * @private\n * @param {Object} object The source object.\n * @param {string[]} props The property identifiers to pick.\n * @returns {Object} Returns the new object.\n */\nfunction basePick(object, props) {\n  object = Object(object);\n  return basePickBy(object, props, function(value, key) {\n    return key in object;\n  });\n}\n\n/**\n * The base implementation of  `_.pickBy` without support for iteratee shorthands.\n *\n * @private\n * @param {Object} object The source object.\n * @param {string[]} props The property identifiers to pick from.\n * @param {Function} predicate The function invoked per property.\n * @returns {Object} Returns the new object.\n */\nfunction basePickBy(object, props, predicate) {\n  var index = -1,\n      length = props.length,\n      result = {};\n\n  while (++index < length) {\n    var key = props[index],\n        value = object[key];\n\n    if (predicate(value, key)) {\n      result[key] = value;\n    }\n  }\n  return result;\n}\n\n/**\n * The base implementation of `_.rest` which doesn't validate or coerce arguments.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @returns {Function} Returns the new function.\n */\nfunction baseRest(func, start) {\n  start = nativeMax(start === undefined ? (func.length - 1) : start, 0);\n  return function() {\n    var args = arguments,\n        index = -1,\n        length = nativeMax(args.length - start, 0),\n        array = Array(length);\n\n    while (++index < length) {\n      array[index] = args[start + index];\n    }\n    index = -1;\n    var otherArgs = Array(start + 1);\n    while (++index < start) {\n      otherArgs[index] = args[index];\n    }\n    otherArgs[start] = array;\n    return apply(func, this, otherArgs);\n  };\n}\n\n/**\n * Creates an array of own and inherited enumerable property names and\n * symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction getAllKeysIn(object) {\n  return baseGetAllKeys(object, keysIn, getSymbolsIn);\n}\n\n/**\n * Gets the data for `map`.\n *\n * @private\n * @param {Object} map The map to query.\n * @param {string} key The reference key.\n * @returns {*} Returns the map data.\n */\nfunction getMapData(map, key) {\n  var data = map.__data__;\n  return isKeyable(key)\n    ? data[typeof key == 'string' ? 'string' : 'hash']\n    : data.map;\n}\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = getValue(object, key);\n  return baseIsNative(value) ? value : undefined;\n}\n\n/**\n * Creates an array of the own enumerable symbol properties of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of symbols.\n */\nvar getSymbols = nativeGetSymbols ? overArg(nativeGetSymbols, Object) : stubArray;\n\n/**\n * Creates an array of the own and inherited enumerable symbol properties\n * of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of symbols.\n */\nvar getSymbolsIn = !nativeGetSymbols ? stubArray : function(object) {\n  var result = [];\n  while (object) {\n    arrayPush(result, getSymbols(object));\n    object = getPrototype(object);\n  }\n  return result;\n};\n\n/**\n * Checks if `value` is a flattenable `arguments` object or array.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is flattenable, else `false`.\n */\nfunction isFlattenable(value) {\n  return isArray(value) || isArguments(value) ||\n    !!(spreadableSymbol && value && value[spreadableSymbol]);\n}\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  length = length == null ? MAX_SAFE_INTEGER : length;\n  return !!length &&\n    (typeof value == 'number' || reIsUint.test(value)) &&\n    (value > -1 && value % 1 == 0 && value < length);\n}\n\n/**\n * Checks if `value` is suitable for use as unique object key.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n */\nfunction isKeyable(value) {\n  var type = typeof value;\n  return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n    ? (value !== '__proto__')\n    : (value === null);\n}\n\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked(func) {\n  return !!maskSrcKey && (maskSrcKey in func);\n}\n\n/**\n * Checks if `value` is likely a prototype object.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n */\nfunction isPrototype(value) {\n  var Ctor = value && value.constructor,\n      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n  return value === proto;\n}\n\n/**\n * This function is like\n * [`Object.keys`](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * except that it includes inherited enumerable properties.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction nativeKeysIn(object) {\n  var result = [];\n  if (object != null) {\n    for (var key in Object(object)) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * Converts `value` to a string key if it's not a string or symbol.\n *\n * @private\n * @param {*} value The value to inspect.\n * @returns {string|symbol} Returns the key.\n */\nfunction toKey(value) {\n  if (typeof value == 'string' || isSymbol(value)) {\n    return value;\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to process.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n    try {\n      return (func + '');\n    } catch (e) {}\n  }\n  return '';\n}\n\n/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nfunction isArguments(value) {\n  // Safari 8.1 makes `arguments.callee` enumerable in strict mode.\n  return isArrayLikeObject(value) && hasOwnProperty.call(value, 'callee') &&\n    (!propertyIsEnumerable.call(value, 'callee') || objectToString.call(value) == argsTag);\n}\n\n/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\n/**\n * This method is like `_.isArrayLike` except that it also checks if `value`\n * is an object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array-like object,\n *  else `false`.\n * @example\n *\n * _.isArrayLikeObject([1, 2, 3]);\n * // => true\n *\n * _.isArrayLikeObject(document.body.children);\n * // => true\n *\n * _.isArrayLikeObject('abc');\n * // => false\n *\n * _.isArrayLikeObject(_.noop);\n * // => false\n */\nfunction isArrayLikeObject(value) {\n  return isObjectLike(value) && isArrayLike(value);\n}\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 8-9 which returns 'object' for typed array and other constructors.\n  var tag = isObject(value) ? objectToString.call(value) : '';\n  return tag == funcTag || tag == genTag;\n}\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && objectToString.call(value) == symbolTag);\n}\n\n/**\n * Creates an array of the own and inherited enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keysIn(new Foo);\n * // => ['a', 'b', 'c'] (iteration order is not guaranteed)\n */\nfunction keysIn(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object, true) : baseKeysIn(object);\n}\n\n/**\n * The opposite of `_.pick`; this method creates an object composed of the\n * own and inherited enumerable string keyed properties of `object` that are\n * not omitted.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The source object.\n * @param {...(string|string[])} [props] The property identifiers to omit.\n * @returns {Object} Returns the new object.\n * @example\n *\n * var object = { 'a': 1, 'b': '2', 'c': 3 };\n *\n * _.omit(object, ['a', 'c']);\n * // => { 'b': '2' }\n */\nvar omit = baseRest(function(object, props) {\n  if (object == null) {\n    return {};\n  }\n  props = arrayMap(baseFlatten(props, 1), toKey);\n  return basePick(object, baseDifference(getAllKeysIn(object), props));\n});\n\n/**\n * This method returns a new empty array.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {Array} Returns the new empty array.\n * @example\n *\n * var arrays = _.times(2, _.stubArray);\n *\n * console.log(arrays);\n * // => [[], []]\n *\n * console.log(arrays[0] === arrays[1]);\n * // => false\n */\nfunction stubArray() {\n  return [];\n}\n\nmodule.exports = omit;\n","/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0,\n    MAX_SAFE_INTEGER = 9007199254740991;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    symbolTag = '[object Symbol]';\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/**\n * A faster alternative to `Function#apply`, this function invokes `func`\n * with the `this` binding of `thisArg` and the arguments of `args`.\n *\n * @private\n * @param {Function} func The function to invoke.\n * @param {*} thisArg The `this` binding of `func`.\n * @param {Array} args The arguments to invoke `func` with.\n * @returns {*} Returns the result of `func`.\n */\nfunction apply(func, thisArg, args) {\n  switch (args.length) {\n    case 0: return func.call(thisArg);\n    case 1: return func.call(thisArg, args[0]);\n    case 2: return func.call(thisArg, args[0], args[1]);\n    case 3: return func.call(thisArg, args[0], args[1], args[2]);\n  }\n  return func.apply(thisArg, args);\n}\n\n/**\n * A specialized version of `_.map` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n */\nfunction arrayMap(array, iteratee) {\n  var index = -1,\n      length = array ? array.length : 0,\n      result = Array(length);\n\n  while (++index < length) {\n    result[index] = iteratee(array[index], index, array);\n  }\n  return result;\n}\n\n/**\n * Appends the elements of `values` to `array`.\n *\n * @private\n * @param {Array} array The array to modify.\n * @param {Array} values The values to append.\n * @returns {Array} Returns `array`.\n */\nfunction arrayPush(array, values) {\n  var index = -1,\n      length = values.length,\n      offset = array.length;\n\n  while (++index < length) {\n    array[offset + index] = values[index];\n  }\n  return array;\n}\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar Symbol = root.Symbol,\n    propertyIsEnumerable = objectProto.propertyIsEnumerable,\n    spreadableSymbol = Symbol ? Symbol.isConcatSpreadable : undefined;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max;\n\n/**\n * The base implementation of `_.flatten` with support for restricting flattening.\n *\n * @private\n * @param {Array} array The array to flatten.\n * @param {number} depth The maximum recursion depth.\n * @param {boolean} [predicate=isFlattenable] The function invoked per iteration.\n * @param {boolean} [isStrict] Restrict to values that pass `predicate` checks.\n * @param {Array} [result=[]] The initial result value.\n * @returns {Array} Returns the new flattened array.\n */\nfunction baseFlatten(array, depth, predicate, isStrict, result) {\n  var index = -1,\n      length = array.length;\n\n  predicate || (predicate = isFlattenable);\n  result || (result = []);\n\n  while (++index < length) {\n    var value = array[index];\n    if (depth > 0 && predicate(value)) {\n      if (depth > 1) {\n        // Recursively flatten arrays (susceptible to call stack limits).\n        baseFlatten(value, depth - 1, predicate, isStrict, result);\n      } else {\n        arrayPush(result, value);\n      }\n    } else if (!isStrict) {\n      result[result.length] = value;\n    }\n  }\n  return result;\n}\n\n/**\n * The base implementation of `_.pick` without support for individual\n * property identifiers.\n *\n * @private\n * @param {Object} object The source object.\n * @param {string[]} props The property identifiers to pick.\n * @returns {Object} Returns the new object.\n */\nfunction basePick(object, props) {\n  object = Object(object);\n  return basePickBy(object, props, function(value, key) {\n    return key in object;\n  });\n}\n\n/**\n * The base implementation of  `_.pickBy` without support for iteratee shorthands.\n *\n * @private\n * @param {Object} object The source object.\n * @param {string[]} props The property identifiers to pick from.\n * @param {Function} predicate The function invoked per property.\n * @returns {Object} Returns the new object.\n */\nfunction basePickBy(object, props, predicate) {\n  var index = -1,\n      length = props.length,\n      result = {};\n\n  while (++index < length) {\n    var key = props[index],\n        value = object[key];\n\n    if (predicate(value, key)) {\n      result[key] = value;\n    }\n  }\n  return result;\n}\n\n/**\n * The base implementation of `_.rest` which doesn't validate or coerce arguments.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @returns {Function} Returns the new function.\n */\nfunction baseRest(func, start) {\n  start = nativeMax(start === undefined ? (func.length - 1) : start, 0);\n  return function() {\n    var args = arguments,\n        index = -1,\n        length = nativeMax(args.length - start, 0),\n        array = Array(length);\n\n    while (++index < length) {\n      array[index] = args[start + index];\n    }\n    index = -1;\n    var otherArgs = Array(start + 1);\n    while (++index < start) {\n      otherArgs[index] = args[index];\n    }\n    otherArgs[start] = array;\n    return apply(func, this, otherArgs);\n  };\n}\n\n/**\n * Checks if `value` is a flattenable `arguments` object or array.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is flattenable, else `false`.\n */\nfunction isFlattenable(value) {\n  return isArray(value) || isArguments(value) ||\n    !!(spreadableSymbol && value && value[spreadableSymbol]);\n}\n\n/**\n * Converts `value` to a string key if it's not a string or symbol.\n *\n * @private\n * @param {*} value The value to inspect.\n * @returns {string|symbol} Returns the key.\n */\nfunction toKey(value) {\n  if (typeof value == 'string' || isSymbol(value)) {\n    return value;\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nfunction isArguments(value) {\n  // Safari 8.1 makes `arguments.callee` enumerable in strict mode.\n  return isArrayLikeObject(value) && hasOwnProperty.call(value, 'callee') &&\n    (!propertyIsEnumerable.call(value, 'callee') || objectToString.call(value) == argsTag);\n}\n\n/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\n/**\n * This method is like `_.isArrayLike` except that it also checks if `value`\n * is an object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array-like object,\n *  else `false`.\n * @example\n *\n * _.isArrayLikeObject([1, 2, 3]);\n * // => true\n *\n * _.isArrayLikeObject(document.body.children);\n * // => true\n *\n * _.isArrayLikeObject('abc');\n * // => false\n *\n * _.isArrayLikeObject(_.noop);\n * // => false\n */\nfunction isArrayLikeObject(value) {\n  return isObjectLike(value) && isArrayLike(value);\n}\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 8-9 which returns 'object' for typed array and other constructors.\n  var tag = isObject(value) ? objectToString.call(value) : '';\n  return tag == funcTag || tag == genTag;\n}\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && objectToString.call(value) == symbolTag);\n}\n\n/**\n * Creates an object composed of the picked `object` properties.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The source object.\n * @param {...(string|string[])} [props] The property identifiers to pick.\n * @returns {Object} Returns the new object.\n * @example\n *\n * var object = { 'a': 1, 'b': '2', 'c': 3 };\n *\n * _.pick(object, ['a', 'c']);\n * // => { 'a': 1, 'c': 3 }\n */\nvar pick = baseRest(function(object, props) {\n  return object == null ? {} : basePick(object, arrayMap(baseFlatten(props, 1), toKey));\n});\n\nmodule.exports = pick;\n"],"names":["OrbitControls","React","ref","makeDefault","camera","regress","domElement","enableDamping","onChange","onStart","onEnd","restProps","invalidate","useThree","state","defaultCamera","gl","events","set","get","performance","explCamera","explDomElement","connected","controls","OrbitControls$1","useFrame","enabled","update","connect","dispose","callback","e","addEventListener","removeEventListener","old","_extends","object","TransformControls","_domElement","_defineProperty","Raycaster","Vector3","Quaternion","X","Y","Z","type","mode","raycaster","includeInvisible","allIntersections","intersectObject","i","length","visible","undefined","axis","updateMatrixWorld","parent","console","error","matrixWorld","decompose","parentPosition","parentQuaternion","parentScale","worldPosition","worldQuaternion","worldScale","parentQuaternionInv","copy","invert","worldQuaternionInv","cameraPosition","cameraQuaternion","cameraScale","eye","sub","normalize","pointer","dragging","setFromCamera","intersect","intersectObjectWithRay","gizmo","picker","name","button","planeIntersect","plane","space","snap","rotationSnap","rotation","x","Math","round","y","z","positionStart","position","quaternionStart","quaternion","scaleStart","scale","worldPositionStart","worldQuaternionStart","worldScaleStart","pointStart","point","mouseDownEvent","dispatchEvent","pointEnd","offset","applyQuaternion","indexOf","divide","add","translationSnap","tempQuaternion","search","tempVector","setFromMatrixPosition","d","dot","tempVector2","multiply","scaleSnap","ROTATION_SPEED","distanceTo","rotationAxis","rotationAngle","angleTo","startNorm","endNorm","cross","unit","setFromAxisAngle","changeEvent","objectChangeEvent","mouseUpEvent","event","_this$domElement$owne","ownerDocument","pointerLockElement","_this$domElement","changedTouches","rect","getBoundingClientRect","clientX","left","width","clientY","top","height","pointerType","pointerHover","getPointer","style","touchAction","onPointerMove","pointerDown","pointerMove","pointerUp","size","warn","document","onPointerDown","onPointerHover","onPointerUp","_this$domElement2","_this$domElement3","_this$domElement4","_this$domElement4$own","_this$domElement5","_this$domElement5$own","traverse","child","mesh","geometry","material","TransformControlsGizmo","TransformControlsPlane","defineProperty","propName","defaultValue","propValue","Object","value","this","showX","showY","showZ","Object3D","Euler","Matrix4","identityQuaternion","helper","handles","concat","children","handle","factor","isOrthographicCamera","bottom","zoom","min","tan","PI","fov","multiplyScalar","tag","setFromEuler","tempEuler","abs","alignVector","unitX","unitY","unitZ","setFromRotationMatrix","lookAtMatrix","lookAt","zeroVector","clone","AXIS_HIDE_TRESHOLD","tempQuaternion2","atan2","multiplyQuaternions","tempOpacity","opacity","tempColor","color","split","some","a","lerp","Color","gizmoMaterial","MeshBasicMaterial","depthTest","depthWrite","transparent","side","DoubleSide","fog","toneMapped","gizmoLineMaterial","LineBasicMaterial","linewidth","matInvisible","matHelper","matRed","matGreen","matBlue","matWhiteTransparent","matYellowTransparent","matCyanTransparent","matMagentaTransparent","matLineRed","matLineGreen","matLineBlue","matLineCyan","matLineMagenta","matLineYellow","matLineGray","matLineYellowTransparent","arrowGeometry","CylinderGeometry","scaleHandleGeometry","BoxGeometry","lineGeometry","BufferGeometry","setAttribute","Float32BufferAttribute","CircleGeometry","radius","arc","vertices","push","cos","sin","gizmoTranslate","Mesh","Line","XYZ","OctahedronGeometry","XY","PlaneGeometry","YZ","XZ","pickerTranslate","helperTranslate","START","END","DELTA","TranslateHelperGeometry","gizmoRotate","E","XYZE","helperRotate","AXIS","pickerRotate","TorusGeometry","SphereGeometry","gizmoScale","XYZX","XYZY","XYZZ","pickerScale","helperScale","setupGizmo","gizmoMap","updateMatrix","tempGeometry","applyMatrix4","matrix","renderOrder","Infinity","wireframe","dirVector","tempMatrix","onMouseDown","onMouseUp","onObjectChange","props","transformOnlyPropNames","rest","transformProps","pick","objectProps","omit","defaultControls","TransformControls$1","group","attach","THREE","current","detach","useCursor","hovered","onPointerOver","onPointerOut","body","cursor","HASH_UNDEFINED","MAX_SAFE_INTEGER","symbolTag","reIsHostCtor","reIsUint","freeGlobal","global","freeSelf","self","root","Function","apply","func","thisArg","args","call","arrayIncludes","array","fromIndex","predicate","fromRight","index","baseFindIndex","baseIsNaN","baseIndexOf","arrayIncludesWith","comparator","arrayMap","iteratee","result","Array","arrayPush","values","cacheHas","cache","key","has","overArg","transform","arg","arrayProto","prototype","funcProto","objectProto","coreJsData","maskSrcKey","uid","exec","keys","IE_PROTO","funcToString","toString","hasOwnProperty","objectToString","reIsNative","RegExp","replace","Symbol","getPrototype","getPrototypeOf","propertyIsEnumerable","splice","spreadableSymbol","isConcatSpreadable","nativeGetSymbols","getOwnPropertySymbols","nativeMax","max","Map","getNative","nativeCreate","Hash","entries","clear","entry","ListCache","MapCache","SetCache","__data__","arrayLikeKeys","inherited","isArray","isArguments","n","baseTimes","String","skipIndexes","isIndex","assocIndexOf","other","baseFlatten","depth","isStrict","isFlattenable","baseIsNative","isObject","pattern","isFunction","isHostObject","test","toSource","baseKeysIn","nativeKeysIn","isProto","Ctor","constructor","proto","isPrototype","getAllKeysIn","keysFunc","symbolsFunc","baseGetAllKeys","keysIn","getSymbolsIn","getMapData","map","data","isKeyable","getValue","pop","getSymbols","stubArray","toKey","isObjectLike","isSymbol","isArrayLike","isArrayLikeObject","isLength","start","basePickBy","basePick","includes","isCommon","valuesLength","outer","computed","valuesIndex","baseDifference","arguments","otherArgs","module","exports","argsTag","funcTag","genTag"],"sourceRoot":""}