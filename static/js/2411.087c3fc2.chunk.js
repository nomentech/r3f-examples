"use strict";(self.webpackChunkr3f_examples=self.webpackChunkr3f_examples||[]).push([[2411],{2530:function(e,r,t){t.r(r),t.d(r,{default:function(){return p}});var n=t(1413),a=t(2791),o=t(4647),i=t(1690),c=t(3655),u=t(410),s=t(1091),m=t(8075),l=t(2194),f=t.p+"static/media/cursor.f727e8e5119fea61fe00.glb",d=t(184),h=function(e){var r=(0,a.useRef)(),t=(0,c.L)(f).nodes,o=(0,m.M4)({gradient:{value:.7,min:0,max:1}}).gradient;return(0,i.x)((function(e){var t=e.clock,n=Math.sin(t.elapsedTime/2),a=Math.cos(t.elapsedTime/2);r.current.layers[0].origin.set(a/2,0,0),r.current.layers[1].origin.set(a,n,a),r.current.layers[2].origin.set(n,a,n),r.current.layers[3].origin.set(a,n,a)})),(0,d.jsxs)("mesh",(0,n.Z)((0,n.Z)({},e),{},{geometry:t.Cube.geometry,children:[(0,d.jsxs)(l.ud,{ref:r,toneMapped:!1,children:[(0,d.jsx)(l.HE,{colorA:"#ff0080",colorB:"black",alpha:1,mode:"normal",near:.5*o,far:.5,origin:[0,0,0]}),(0,d.jsx)(l.HE,{colorA:"blue",colorB:"#f7b955",alpha:1,mode:"add",near:2*o,far:2,origin:[0,1,1]}),(0,d.jsx)(l.HE,{colorA:"green",colorB:"#f7b955",alpha:1,mode:"add",near:3*o,far:3,origin:[0,1,-1]}),(0,d.jsx)(l.HE,{colorA:"white",colorB:"red",alpha:1,mode:"overlay",near:1.5*o,far:1.5,origin:[1,-1,-1]}),(0,d.jsx)(l.YJ,{mode:"add",color:"white",intensity:.5,power:1.5,bias:.05})]}),(0,d.jsx)(u.w,{color:"white"})]}))},p=function(e){var r=e.children;return(0,d.jsxs)(d.Fragment,{children:[r,(0,d.jsxs)(o.Xz,{orthographic:!0,dpr:[1,2],camera:{position:[0,0,10],zoom:200},children:[(0,d.jsx)("color",{attach:"background",args:["black"]}),(0,d.jsxs)("group",{rotation:[Math.PI/5,-Math.PI/5,Math.PI/2],children:[(0,d.jsx)(s.Y,{fit:!0,clip:!0,observe:!0,margin:1.25,children:(0,d.jsx)(h,{scale:[.5,1,.5]})}),(0,d.jsx)("gridHelper",{args:[10,40,"#101010","#050505"],position:[-.25,0,0],rotation:[0,0,Math.PI/2]})]})]})]})}},1091:function(e,r,t){t.d(r,{B:function(){return m},Y:function(){return s}});var n=t(9439),a=t(2791),o=t(7760),i=t(1690),c=function(e){return e&&e.isOrthographicCamera},u=a.createContext(null);function s(e){var r=e.children,t=e.damping,s=void 0===t?6:t,m=e.fit,l=e.clip,f=e.observe,d=e.margin,h=void 0===d?1.2:d,p=e.eps,x=void 0===p?.01:p,g=e.onFit,y=a.useRef(null),v=(0,i.w)(),z=v.camera,M=v.invalidate,b=v.size,w=v.controls,j=a.useRef(g);function V(e,r){return Math.abs(e.x-r.x)<x&&Math.abs(e.y-r.y)<x&&Math.abs(e.z-r.z)<x}function E(e,r,t,n){e.x=o.MathUtils.damp(e.x,r.x,t,n),e.y=o.MathUtils.damp(e.y,r.y,t,n),e.z=o.MathUtils.damp(e.z,r.z,t,n)}j.current=g;var k=a.useState((function(){return{animating:!1,focus:new o.Vector3,camera:new o.Vector3,zoom:1}})),S=(0,n.Z)(k,1)[0],C=a.useState((function(){return{focus:new o.Vector3,camera:new o.Vector3,zoom:1}})),P=(0,n.Z)(C,1)[0],B=a.useState((function(){return new o.Box3})),A=(0,n.Z)(B,1)[0],D=a.useMemo((function(){function e(){var e=A.getSize(new o.Vector3),r=A.getCenter(new o.Vector3),t=Math.max(e.x,e.y,e.z),n=c(z)?4*t:t/(2*Math.atan(Math.PI*z.fov/360)),a=c(z)?4*t:n/z.aspect,i=h*Math.max(n,a);return{box:A,size:e,center:r,distance:i}}return{getSize:e,refresh:function(r){if((n=r)&&n.isBox3)A.copy(r);else{var t=r||y.current;t.updateWorldMatrix(!0,!0),A.setFromObject(t)}var n;if(A.isEmpty()){var a=z.position.length()||10;A.setFromCenterAndSize(new o.Vector3,new o.Vector3(a,a,a))}if("OrthographicTrackballControls"===(null==w?void 0:w.constructor.name)){var i=e().distance,c=z.position.clone().sub(w.target).normalize().multiplyScalar(i),u=w.target.clone().add(c);z.position.copy(u)}return this},clip:function(){var r=e().distance;return w&&(w.maxDistance=10*r),z.near=r/100,z.far=100*r,z.updateProjectionMatrix(),w&&w.update(),M(),this},fit:function(){S.camera.copy(z.position),w&&S.focus.copy(w.target);var r=e(),t=r.center,n=r.distance,a=t.clone().sub(z.position).normalize().multiplyScalar(n);if(P.camera.copy(t).sub(a),P.focus.copy(t),c(z)){S.zoom=z.zoom;var i=0,u=0,m=[new o.Vector3(A.min.x,A.min.y,A.min.z),new o.Vector3(A.min.x,A.max.y,A.min.z),new o.Vector3(A.min.x,A.min.y,A.max.z),new o.Vector3(A.min.x,A.max.y,A.max.z),new o.Vector3(A.max.x,A.max.y,A.max.z),new o.Vector3(A.max.x,A.max.y,A.min.z),new o.Vector3(A.max.x,A.min.y,A.max.z),new o.Vector3(A.max.x,A.min.y,A.min.z)];t.applyMatrix4(z.matrixWorldInverse);for(var l=0,f=m;l<f.length;l++){var d=f[l];d.applyMatrix4(z.matrixWorldInverse),i=Math.max(i,Math.abs(d.y-t.y)),u=Math.max(u,Math.abs(d.x-t.x))}i*=2,u*=2;var p=(z.top-z.bottom)/i,x=(z.right-z.left)/u;P.zoom=Math.min(p,x)/h,s||(z.zoom=P.zoom,z.updateProjectionMatrix())}return s?S.animating=!0:(z.position.copy(P.camera),z.lookAt(P.focus),w&&(w.target.copy(P.focus),w.update())),j.current&&j.current(this.getSize()),M(),this}}}),[A,z,w,h,s,M]);a.useLayoutEffect((function(){if(w){var e=function(){return S.animating=!1};return w.addEventListener("start",e),function(){return w.removeEventListener("start",e)}}}),[w]);var I=a.useRef(0);return a.useLayoutEffect((function(){(f||0===I.current++)&&(D.refresh(),m&&D.fit(),l&&D.clip())}),[b,l,m,f,z,w]),(0,i.x)((function(e,r){if(S.animating){if(E(S.focus,P.focus,s,r),E(S.camera,P.camera,s,r),S.zoom=o.MathUtils.damp(S.zoom,P.zoom,s,r),z.position.copy(S.camera),c(z)&&(z.zoom=S.zoom,z.updateProjectionMatrix()),w?(w.target.copy(S.focus),w.update()):z.lookAt(S.focus),M(),c(z)&&!(Math.abs(S.zoom-P.zoom)<x))return;if(!c(z)&&!V(S.camera,P.camera))return;if(w&&!V(S.focus,P.focus))return;S.animating=!1}})),a.createElement("group",{ref:y},a.createElement(u.Provider,{value:D},r))}function m(){return a.useContext(u)}},410:function(e,r,t){t.d(r,{w:function(){return u}});var n=t(4925),a=t(7462),o=t(2791),i=t(7760),c=["userData","children","geometry","threshold","color"];function u(e){e.userData;var r=e.children,t=e.geometry,u=e.threshold,s=void 0===u?15:u,m=e.color,l=void 0===m?"black":m,f=(0,n.Z)(e,c),d=o.useRef(null);return o.useLayoutEffect((function(){var e=d.current.parent;if(e){var r=t||e.geometry;r===d.current.userData.currentGeom&&s===d.current.userData.currentThreshold||(d.current.userData.currentGeom=r,d.current.userData.currentThreshold=s,d.current.geometry=new i.EdgesGeometry(r,s))}})),o.createElement("lineSegments",(0,a.Z)({ref:d,raycast:function(){return null}},f),r||o.createElement("lineBasicMaterial",{color:l}))}}}]);
//# sourceMappingURL=2411.087c3fc2.chunk.js.map