/*! For license information please see 418.04476f84.chunk.js.LICENSE.txt */
(self.webpackChunkr3f_examples=self.webpackChunkr3f_examples||[]).push([[418],{8202:function(e,t,n){"use strict";n.d(t,{j:function(){return d}});var r=n(1413),o=n(9439),a=n(4925),i=n(7462),c=n(2791),l=n(7760),u=n(7219),s={uniforms:{tDiffuse:{value:null},h:{value:1/512}},vertexShader:"\n      varying vec2 vUv;\n\n      void main() {\n\n        vUv = uv;\n        gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\n      }\n  ",fragmentShader:"\n    uniform sampler2D tDiffuse;\n    uniform float h;\n\n    varying vec2 vUv;\n\n    void main() {\n\n    \tvec4 sum = vec4( 0.0 );\n\n    \tsum += texture2D( tDiffuse, vec2( vUv.x - 4.0 * h, vUv.y ) ) * 0.051;\n    \tsum += texture2D( tDiffuse, vec2( vUv.x - 3.0 * h, vUv.y ) ) * 0.0918;\n    \tsum += texture2D( tDiffuse, vec2( vUv.x - 2.0 * h, vUv.y ) ) * 0.12245;\n    \tsum += texture2D( tDiffuse, vec2( vUv.x - 1.0 * h, vUv.y ) ) * 0.1531;\n    \tsum += texture2D( tDiffuse, vec2( vUv.x, vUv.y ) ) * 0.1633;\n    \tsum += texture2D( tDiffuse, vec2( vUv.x + 1.0 * h, vUv.y ) ) * 0.1531;\n    \tsum += texture2D( tDiffuse, vec2( vUv.x + 2.0 * h, vUv.y ) ) * 0.12245;\n    \tsum += texture2D( tDiffuse, vec2( vUv.x + 3.0 * h, vUv.y ) ) * 0.0918;\n    \tsum += texture2D( tDiffuse, vec2( vUv.x + 4.0 * h, vUv.y ) ) * 0.051;\n\n    \tgl_FragColor = sum;\n\n    }\n  "},p={uniforms:{tDiffuse:{value:null},v:{value:1/512}},vertexShader:"\n    varying vec2 vUv;\n\n    void main() {\n\n      vUv = uv;\n      gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\n    }\n  ",fragmentShader:"\n\n  uniform sampler2D tDiffuse;\n  uniform float v;\n\n  varying vec2 vUv;\n\n  void main() {\n\n    vec4 sum = vec4( 0.0 );\n\n    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 4.0 * v ) ) * 0.051;\n    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 3.0 * v ) ) * 0.0918;\n    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 2.0 * v ) ) * 0.12245;\n    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 1.0 * v ) ) * 0.1531;\n    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y ) ) * 0.1633;\n    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 1.0 * v ) ) * 0.1531;\n    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 2.0 * v ) ) * 0.12245;\n    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 3.0 * v ) ) * 0.0918;\n    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 4.0 * v ) ) * 0.051;\n\n    gl_FragColor = sum;\n\n  }\n  "},f=["scale","frames","opacity","width","height","blur","far","resolution","smooth","color","depthWrite","renderOrder"],d=c.forwardRef((function(e,t){var n=e.scale,d=void 0===n?10:n,v=e.frames,m=void 0===v?1/0:v,h=e.opacity,y=void 0===h?1:h,w=e.width,Z=void 0===w?1:w,g=e.height,b=void 0===g?1:g,M=e.blur,x=void 0===M?1:M,S=e.far,E=void 0===S?10:S,P=e.resolution,j=void 0===P?512:P,Q=e.smooth,V=void 0===Q||Q,O=e.color,D=void 0===O?"#000000":O,_=e.depthWrite,A=void 0!==_&&_,Y=e.renderOrder,X=(0,a.Z)(e,f),L=(0,u.w)((function(e){return e.scene})),I=(0,u.w)((function(e){return e.gl})),C=c.useRef(null);Z*=Array.isArray(d)?d[0]:d||1,b*=Array.isArray(d)?d[1]:d||1;var U=c.useMemo((function(){var e=new l.WebGLRenderTarget(j,j),t=new l.WebGLRenderTarget(j,j);t.texture.generateMipmaps=e.texture.generateMipmaps=!1;var n=new l.PlaneBufferGeometry(Z,b).rotateX(Math.PI/2),o=new l.Mesh(n),a=new l.MeshDepthMaterial;a.depthTest=a.depthWrite=!1,a.onBeforeCompile=function(e){e.uniforms=(0,r.Z)((0,r.Z)({},e.uniforms),{},{ucolor:{value:new l.Color(D).convertSRGBToLinear()}}),e.fragmentShader=e.fragmentShader.replace("void main() {","uniform vec3 ucolor;\n           void main() {\n          "),e.fragmentShader=e.fragmentShader.replace("vec4( vec3( 1.0 - fragCoordZ ), opacity );","vec4( ucolor, ( 1.0 - fragCoordZ ) * 1.0 );")};var i=new l.ShaderMaterial(s),c=new l.ShaderMaterial(p);return c.depthTest=i.depthTest=!1,[e,n,a,o,i,c,t]}),[j,Z,b,d,D]),R=(0,o.Z)(U,7),z=R[0],G=R[1],k=R[2],T=R[3],W=R[4],F=R[5],q=R[6],B=function(e){T.visible=!0,T.material=W,W.uniforms.tDiffuse.value=z.texture,W.uniforms.h.value=1*e/256,I.setRenderTarget(q),I.render(T,C.current),T.material=F,F.uniforms.tDiffuse.value=q.texture,F.uniforms.v.value=1*e/256,I.setRenderTarget(z),I.render(T,C.current),T.visible=!1},N=0;return(0,u.x)((function(){if(C.current&&(m===1/0||N<m)){var e=L.background;L.background=null;var t=L.overrideMaterial;L.overrideMaterial=k,I.setRenderTarget(z),I.render(L,C.current),L.overrideMaterial=t,B(x),V&&B(.4*x),I.setRenderTarget(null),L.background=e,N++}})),c.createElement("group",(0,i.Z)({"rotation-x":Math.PI/2},X,{ref:t}),c.createElement("mesh",{renderOrder:Y,geometry:G,scale:[1,-1,1],rotation:[-Math.PI/2,0,0]},c.createElement("meshBasicMaterial",{map:z.texture,"map-encoding":I.outputEncoding,transparent:!0,opacity:y,depthWrite:A})),c.createElement("orthographicCamera",{ref:C,args:[-Z/2,Z/2,b/2,-b/2,0,E]}))}))},2541:function(e,t,n){"use strict";n.d(t,{Y:function(){return E}});var r=n(4925),o=n(7462),a=n(7219),i=n(7357),c=n.n(i),l=n(708),u=n.n(l),s=n(2791),p=n(7760),f=n(3144),d=n(5671),v=n(7326),m=n(136),h=n(9388),y=n(1752),w=n(1120),Z=n(4942),g=function(e){(0,m.Z)(n,e);var t=(0,h.Z)(n);function n(e,r){var o,a;(0,d.Z)(this,n),a=t.call(this),(0,Z.Z)((0,v.Z)(a),"isTransformControls",!0),(0,Z.Z)((0,v.Z)(a),"visible",!1),(0,Z.Z)((0,v.Z)(a),"domElement",void 0),(0,Z.Z)((0,v.Z)(a),"raycaster",new p.Raycaster),(0,Z.Z)((0,v.Z)(a),"gizmo",void 0),(0,Z.Z)((0,v.Z)(a),"plane",void 0),(0,Z.Z)((0,v.Z)(a),"tempVector",new p.Vector3),(0,Z.Z)((0,v.Z)(a),"tempVector2",new p.Vector3),(0,Z.Z)((0,v.Z)(a),"tempQuaternion",new p.Quaternion),(0,Z.Z)((0,v.Z)(a),"unit",{X:new p.Vector3(1,0,0),Y:new p.Vector3(0,1,0),Z:new p.Vector3(0,0,1)}),(0,Z.Z)((0,v.Z)(a),"pointStart",new p.Vector3),(0,Z.Z)((0,v.Z)(a),"pointEnd",new p.Vector3),(0,Z.Z)((0,v.Z)(a),"offset",new p.Vector3),(0,Z.Z)((0,v.Z)(a),"rotationAxis",new p.Vector3),(0,Z.Z)((0,v.Z)(a),"startNorm",new p.Vector3),(0,Z.Z)((0,v.Z)(a),"endNorm",new p.Vector3),(0,Z.Z)((0,v.Z)(a),"rotationAngle",0),(0,Z.Z)((0,v.Z)(a),"cameraPosition",new p.Vector3),(0,Z.Z)((0,v.Z)(a),"cameraQuaternion",new p.Quaternion),(0,Z.Z)((0,v.Z)(a),"cameraScale",new p.Vector3),(0,Z.Z)((0,v.Z)(a),"parentPosition",new p.Vector3),(0,Z.Z)((0,v.Z)(a),"parentQuaternion",new p.Quaternion),(0,Z.Z)((0,v.Z)(a),"parentQuaternionInv",new p.Quaternion),(0,Z.Z)((0,v.Z)(a),"parentScale",new p.Vector3),(0,Z.Z)((0,v.Z)(a),"worldPositionStart",new p.Vector3),(0,Z.Z)((0,v.Z)(a),"worldQuaternionStart",new p.Quaternion),(0,Z.Z)((0,v.Z)(a),"worldScaleStart",new p.Vector3),(0,Z.Z)((0,v.Z)(a),"worldPosition",new p.Vector3),(0,Z.Z)((0,v.Z)(a),"worldQuaternion",new p.Quaternion),(0,Z.Z)((0,v.Z)(a),"worldQuaternionInv",new p.Quaternion),(0,Z.Z)((0,v.Z)(a),"worldScale",new p.Vector3),(0,Z.Z)((0,v.Z)(a),"eye",new p.Vector3),(0,Z.Z)((0,v.Z)(a),"positionStart",new p.Vector3),(0,Z.Z)((0,v.Z)(a),"quaternionStart",new p.Quaternion),(0,Z.Z)((0,v.Z)(a),"scaleStart",new p.Vector3),(0,Z.Z)((0,v.Z)(a),"camera",void 0),(0,Z.Z)((0,v.Z)(a),"object",void 0),(0,Z.Z)((0,v.Z)(a),"enabled",!0),(0,Z.Z)((0,v.Z)(a),"axis",null),(0,Z.Z)((0,v.Z)(a),"mode","translate"),(0,Z.Z)((0,v.Z)(a),"translationSnap",null),(0,Z.Z)((0,v.Z)(a),"rotationSnap",null),(0,Z.Z)((0,v.Z)(a),"scaleSnap",null),(0,Z.Z)((0,v.Z)(a),"space","world"),(0,Z.Z)((0,v.Z)(a),"size",1),(0,Z.Z)((0,v.Z)(a),"dragging",!1),(0,Z.Z)((0,v.Z)(a),"showX",!0),(0,Z.Z)((0,v.Z)(a),"showY",!0),(0,Z.Z)((0,v.Z)(a),"showZ",!0),(0,Z.Z)((0,v.Z)(a),"changeEvent",{type:"change"}),(0,Z.Z)((0,v.Z)(a),"mouseDownEvent",{type:"mouseDown",mode:a.mode}),(0,Z.Z)((0,v.Z)(a),"mouseUpEvent",{type:"mouseUp",mode:a.mode}),(0,Z.Z)((0,v.Z)(a),"objectChangeEvent",{type:"objectChange"}),(0,Z.Z)((0,v.Z)(a),"intersectObjectWithRay",(function(e,t,n){for(var r=t.intersectObject(e,!0),o=0;o<r.length;o++)if(r[o].object.visible||n)return r[o];return!1})),(0,Z.Z)((0,v.Z)(a),"attach",(function(e){return a.object=e,a.visible=!0,(0,v.Z)(a)})),(0,Z.Z)((0,v.Z)(a),"detach",(function(){return a.object=void 0,a.visible=!1,a.axis=null,(0,v.Z)(a)})),(0,Z.Z)((0,v.Z)(a),"updateMatrixWorld",(function(){void 0!==a.object&&(a.object.updateMatrixWorld(),null===a.object.parent?console.error("TransformControls: The attached 3D object must be a part of the scene graph."):a.object.parent.matrixWorld.decompose(a.parentPosition,a.parentQuaternion,a.parentScale),a.object.matrixWorld.decompose(a.worldPosition,a.worldQuaternion,a.worldScale),a.parentQuaternionInv.copy(a.parentQuaternion).invert(),a.worldQuaternionInv.copy(a.worldQuaternion).invert()),a.camera.updateMatrixWorld(),a.camera.matrixWorld.decompose(a.cameraPosition,a.cameraQuaternion,a.cameraScale),a.eye.copy(a.cameraPosition).sub(a.worldPosition).normalize(),(0,y.Z)((o=(0,v.Z)(a),(0,w.Z)(n.prototype)),"updateMatrixWorld",o).call(o)})),(0,Z.Z)((0,v.Z)(a),"pointerHover",(function(e){if(void 0!==a.object&&!0!==a.dragging){a.raycaster.setFromCamera(e,a.camera);var t=a.intersectObjectWithRay(a.gizmo.picker[a.mode],a.raycaster);a.axis=t?t.object.name:null}})),(0,Z.Z)((0,v.Z)(a),"pointerDown",(function(e){if(void 0!==a.object&&!0!==a.dragging&&0===e.button&&null!==a.axis){a.raycaster.setFromCamera(e,a.camera);var t=a.intersectObjectWithRay(a.plane,a.raycaster,!0);if(t){var n=a.space;if("scale"===a.mode?n="local":"E"!==a.axis&&"XYZE"!==a.axis&&"XYZ"!==a.axis||(n="world"),"local"===n&&"rotate"===a.mode){var r=a.rotationSnap;"X"===a.axis&&r&&(a.object.rotation.x=Math.round(a.object.rotation.x/r)*r),"Y"===a.axis&&r&&(a.object.rotation.y=Math.round(a.object.rotation.y/r)*r),"Z"===a.axis&&r&&(a.object.rotation.z=Math.round(a.object.rotation.z/r)*r)}a.object.updateMatrixWorld(),a.object.parent&&a.object.parent.updateMatrixWorld(),a.positionStart.copy(a.object.position),a.quaternionStart.copy(a.object.quaternion),a.scaleStart.copy(a.object.scale),a.object.matrixWorld.decompose(a.worldPositionStart,a.worldQuaternionStart,a.worldScaleStart),a.pointStart.copy(t.point).sub(a.worldPositionStart)}a.dragging=!0,a.mouseDownEvent.mode=a.mode,a.dispatchEvent(a.mouseDownEvent)}})),(0,Z.Z)((0,v.Z)(a),"pointerMove",(function(e){var t=a.axis,n=a.mode,r=a.object,o=a.space;if("scale"===n?o="local":"E"!==t&&"XYZE"!==t&&"XYZ"!==t||(o="world"),void 0!==r&&null!==t&&!1!==a.dragging&&-1===e.button){a.raycaster.setFromCamera(e,a.camera);var i=a.intersectObjectWithRay(a.plane,a.raycaster,!0);if(i){if(a.pointEnd.copy(i.point).sub(a.worldPositionStart),"translate"===n)a.offset.copy(a.pointEnd).sub(a.pointStart),"local"===o&&"XYZ"!==t&&a.offset.applyQuaternion(a.worldQuaternionInv),-1===t.indexOf("X")&&(a.offset.x=0),-1===t.indexOf("Y")&&(a.offset.y=0),-1===t.indexOf("Z")&&(a.offset.z=0),"local"===o&&"XYZ"!==t?a.offset.applyQuaternion(a.quaternionStart).divide(a.parentScale):a.offset.applyQuaternion(a.parentQuaternionInv).divide(a.parentScale),r.position.copy(a.offset).add(a.positionStart),a.translationSnap&&("local"===o&&(r.position.applyQuaternion(a.tempQuaternion.copy(a.quaternionStart).invert()),-1!==t.search("X")&&(r.position.x=Math.round(r.position.x/a.translationSnap)*a.translationSnap),-1!==t.search("Y")&&(r.position.y=Math.round(r.position.y/a.translationSnap)*a.translationSnap),-1!==t.search("Z")&&(r.position.z=Math.round(r.position.z/a.translationSnap)*a.translationSnap),r.position.applyQuaternion(a.quaternionStart)),"world"===o&&(r.parent&&r.position.add(a.tempVector.setFromMatrixPosition(r.parent.matrixWorld)),-1!==t.search("X")&&(r.position.x=Math.round(r.position.x/a.translationSnap)*a.translationSnap),-1!==t.search("Y")&&(r.position.y=Math.round(r.position.y/a.translationSnap)*a.translationSnap),-1!==t.search("Z")&&(r.position.z=Math.round(r.position.z/a.translationSnap)*a.translationSnap),r.parent&&r.position.sub(a.tempVector.setFromMatrixPosition(r.parent.matrixWorld))));else if("scale"===n){if(-1!==t.search("XYZ")){var c=a.pointEnd.length()/a.pointStart.length();a.pointEnd.dot(a.pointStart)<0&&(c*=-1),a.tempVector2.set(c,c,c)}else a.tempVector.copy(a.pointStart),a.tempVector2.copy(a.pointEnd),a.tempVector.applyQuaternion(a.worldQuaternionInv),a.tempVector2.applyQuaternion(a.worldQuaternionInv),a.tempVector2.divide(a.tempVector),-1===t.search("X")&&(a.tempVector2.x=1),-1===t.search("Y")&&(a.tempVector2.y=1),-1===t.search("Z")&&(a.tempVector2.z=1);r.scale.copy(a.scaleStart).multiply(a.tempVector2),a.scaleSnap&&a.object&&(-1!==t.search("X")&&(a.object.scale.x=Math.round(r.scale.x/a.scaleSnap)*a.scaleSnap||a.scaleSnap),-1!==t.search("Y")&&(r.scale.y=Math.round(r.scale.y/a.scaleSnap)*a.scaleSnap||a.scaleSnap),-1!==t.search("Z")&&(r.scale.z=Math.round(r.scale.z/a.scaleSnap)*a.scaleSnap||a.scaleSnap))}else if("rotate"===n){a.offset.copy(a.pointEnd).sub(a.pointStart);var l=20/a.worldPosition.distanceTo(a.tempVector.setFromMatrixPosition(a.camera.matrixWorld));"E"===t?(a.rotationAxis.copy(a.eye),a.rotationAngle=a.pointEnd.angleTo(a.pointStart),a.startNorm.copy(a.pointStart).normalize(),a.endNorm.copy(a.pointEnd).normalize(),a.rotationAngle*=a.endNorm.cross(a.startNorm).dot(a.eye)<0?1:-1):"XYZE"===t?(a.rotationAxis.copy(a.offset).cross(a.eye).normalize(),a.rotationAngle=a.offset.dot(a.tempVector.copy(a.rotationAxis).cross(a.eye))*l):"X"!==t&&"Y"!==t&&"Z"!==t||(a.rotationAxis.copy(a.unit[t]),a.tempVector.copy(a.unit[t]),"local"===o&&a.tempVector.applyQuaternion(a.worldQuaternion),a.rotationAngle=a.offset.dot(a.tempVector.cross(a.eye).normalize())*l),a.rotationSnap&&(a.rotationAngle=Math.round(a.rotationAngle/a.rotationSnap)*a.rotationSnap),"local"===o&&"E"!==t&&"XYZE"!==t?(r.quaternion.copy(a.quaternionStart),r.quaternion.multiply(a.tempQuaternion.setFromAxisAngle(a.rotationAxis,a.rotationAngle)).normalize()):(a.rotationAxis.applyQuaternion(a.parentQuaternionInv),r.quaternion.copy(a.tempQuaternion.setFromAxisAngle(a.rotationAxis,a.rotationAngle)),r.quaternion.multiply(a.quaternionStart).normalize())}a.dispatchEvent(a.changeEvent),a.dispatchEvent(a.objectChangeEvent)}}})),(0,Z.Z)((0,v.Z)(a),"pointerUp",(function(e){0===e.button&&(a.dragging&&null!==a.axis&&(a.mouseUpEvent.mode=a.mode,a.dispatchEvent(a.mouseUpEvent)),a.dragging=!1,a.axis=null)})),(0,Z.Z)((0,v.Z)(a),"getPointer",(function(e){var t;if(a.domElement&&null!==(t=a.domElement.ownerDocument)&&void 0!==t&&t.pointerLockElement)return{x:0,y:0,button:e.button};var n,r=e.changedTouches?e.changedTouches[0]:e,o=null===(n=a.domElement)||void 0===n?void 0:n.getBoundingClientRect();return{x:(r.clientX-o.left)/o.width*2-1,y:-(r.clientY-o.top)/o.height*2+1,button:e.button}})),(0,Z.Z)((0,v.Z)(a),"onPointerHover",(function(e){if(a.enabled)switch(e.pointerType){case"mouse":case"pen":a.pointerHover(a.getPointer(e))}})),(0,Z.Z)((0,v.Z)(a),"onPointerDown",(function(e){a.enabled&&a.domElement&&(a.domElement.style.touchAction="none",a.domElement.ownerDocument.addEventListener("pointermove",a.onPointerMove),a.pointerHover(a.getPointer(e)),a.pointerDown(a.getPointer(e)))})),(0,Z.Z)((0,v.Z)(a),"onPointerMove",(function(e){a.enabled&&a.pointerMove(a.getPointer(e))})),(0,Z.Z)((0,v.Z)(a),"onPointerUp",(function(e){a.enabled&&a.domElement&&(a.domElement.style.touchAction="",a.domElement.ownerDocument.removeEventListener("pointermove",a.onPointerMove),a.pointerUp(a.getPointer(e)))})),(0,Z.Z)((0,v.Z)(a),"getMode",(function(){return a.mode})),(0,Z.Z)((0,v.Z)(a),"setMode",(function(e){a.mode=e})),(0,Z.Z)((0,v.Z)(a),"setTranslationSnap",(function(e){a.translationSnap=e})),(0,Z.Z)((0,v.Z)(a),"setRotationSnap",(function(e){a.rotationSnap=e})),(0,Z.Z)((0,v.Z)(a),"setScaleSnap",(function(e){a.scaleSnap=e})),(0,Z.Z)((0,v.Z)(a),"setSize",(function(e){a.size=e})),(0,Z.Z)((0,v.Z)(a),"setSpace",(function(e){a.space=e})),(0,Z.Z)((0,v.Z)(a),"update",(function(){console.warn("THREE.TransformControls: update function has no more functionality and therefore has been deprecated.")})),(0,Z.Z)((0,v.Z)(a),"connect",(function(e){e===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),a.domElement=e,a.domElement.addEventListener("pointerdown",a.onPointerDown),a.domElement.addEventListener("pointermove",a.onPointerHover),a.domElement.ownerDocument.addEventListener("pointerup",a.onPointerUp)})),(0,Z.Z)((0,v.Z)(a),"dispose",(function(){var e,t,n,r,o,i;null===(e=a.domElement)||void 0===e||e.removeEventListener("pointerdown",a.onPointerDown),null===(t=a.domElement)||void 0===t||t.removeEventListener("pointermove",a.onPointerHover),null===(n=a.domElement)||void 0===n||null===(r=n.ownerDocument)||void 0===r||r.removeEventListener("pointermove",a.onPointerMove),null===(o=a.domElement)||void 0===o||null===(i=o.ownerDocument)||void 0===i||i.removeEventListener("pointerup",a.onPointerUp),a.traverse((function(e){var t=e;t.geometry&&t.geometry.dispose(),t.material&&t.material.dispose()}))})),a.domElement=r,a.camera=e,a.gizmo=new b,a.add(a.gizmo),a.plane=new M,a.add(a.plane);var i=function(e,t){var n=t;Object.defineProperty((0,v.Z)(a),e,{get:function(){return void 0!==n?n:t},set:function(t){n!==t&&(n=t,this.plane[e]=t,this.gizmo[e]=t,this.dispatchEvent({type:e+"-changed",value:t}),this.dispatchEvent(this.changeEvent))}}),a[e]=t,a.plane[e]=t,a.gizmo[e]=t};return i("camera",a.camera),i("object",a.object),i("enabled",a.enabled),i("axis",a.axis),i("mode",a.mode),i("translationSnap",a.translationSnap),i("rotationSnap",a.rotationSnap),i("scaleSnap",a.scaleSnap),i("space",a.space),i("size",a.size),i("dragging",a.dragging),i("showX",a.showX),i("showY",a.showY),i("showZ",a.showZ),i("worldPosition",a.worldPosition),i("worldPositionStart",a.worldPositionStart),i("worldQuaternion",a.worldQuaternion),i("worldQuaternionStart",a.worldQuaternionStart),i("cameraPosition",a.cameraPosition),i("cameraQuaternion",a.cameraQuaternion),i("pointStart",a.pointStart),i("pointEnd",a.pointEnd),i("rotationAxis",a.rotationAxis),i("rotationAngle",a.rotationAngle),i("eye",a.eye),void 0!==r&&a.connect(r),a}return(0,f.Z)(n)}(p.Object3D),b=function(e){(0,m.Z)(n,e);var t=(0,h.Z)(n);function n(){var e,r;(0,d.Z)(this,n),r=t.call(this),(0,Z.Z)((0,v.Z)(r),"isTransformControlsGizmo",!0),(0,Z.Z)((0,v.Z)(r),"type","TransformControlsGizmo"),(0,Z.Z)((0,v.Z)(r),"tempVector",new p.Vector3(0,0,0)),(0,Z.Z)((0,v.Z)(r),"tempEuler",new p.Euler),(0,Z.Z)((0,v.Z)(r),"alignVector",new p.Vector3(0,1,0)),(0,Z.Z)((0,v.Z)(r),"zeroVector",new p.Vector3(0,0,0)),(0,Z.Z)((0,v.Z)(r),"lookAtMatrix",new p.Matrix4),(0,Z.Z)((0,v.Z)(r),"tempQuaternion",new p.Quaternion),(0,Z.Z)((0,v.Z)(r),"tempQuaternion2",new p.Quaternion),(0,Z.Z)((0,v.Z)(r),"identityQuaternion",new p.Quaternion),(0,Z.Z)((0,v.Z)(r),"unitX",new p.Vector3(1,0,0)),(0,Z.Z)((0,v.Z)(r),"unitY",new p.Vector3(0,1,0)),(0,Z.Z)((0,v.Z)(r),"unitZ",new p.Vector3(0,0,1)),(0,Z.Z)((0,v.Z)(r),"gizmo",void 0),(0,Z.Z)((0,v.Z)(r),"picker",void 0),(0,Z.Z)((0,v.Z)(r),"helper",void 0),(0,Z.Z)((0,v.Z)(r),"rotationAxis",new p.Vector3),(0,Z.Z)((0,v.Z)(r),"cameraPosition",new p.Vector3),(0,Z.Z)((0,v.Z)(r),"worldPositionStart",new p.Vector3),(0,Z.Z)((0,v.Z)(r),"worldQuaternionStart",new p.Quaternion),(0,Z.Z)((0,v.Z)(r),"worldPosition",new p.Vector3),(0,Z.Z)((0,v.Z)(r),"worldQuaternion",new p.Quaternion),(0,Z.Z)((0,v.Z)(r),"eye",new p.Vector3),(0,Z.Z)((0,v.Z)(r),"camera",null),(0,Z.Z)((0,v.Z)(r),"enabled",!0),(0,Z.Z)((0,v.Z)(r),"axis",null),(0,Z.Z)((0,v.Z)(r),"mode","translate"),(0,Z.Z)((0,v.Z)(r),"space","world"),(0,Z.Z)((0,v.Z)(r),"size",1),(0,Z.Z)((0,v.Z)(r),"dragging",!1),(0,Z.Z)((0,v.Z)(r),"showX",!0),(0,Z.Z)((0,v.Z)(r),"showY",!0),(0,Z.Z)((0,v.Z)(r),"showZ",!0),(0,Z.Z)((0,v.Z)(r),"updateMatrixWorld",(function(){var t=r.space;"scale"===r.mode&&(t="local");var o="local"===t?r.worldQuaternion:r.identityQuaternion;r.gizmo.translate.visible="translate"===r.mode,r.gizmo.rotate.visible="rotate"===r.mode,r.gizmo.scale.visible="scale"===r.mode,r.helper.translate.visible="translate"===r.mode,r.helper.rotate.visible="rotate"===r.mode,r.helper.scale.visible="scale"===r.mode;var a=[];a=(a=(a=a.concat(r.picker[r.mode].children)).concat(r.gizmo[r.mode].children)).concat(r.helper[r.mode].children);for(var i=function(e){var t=a[e];t.visible=!0,t.rotation.set(0,0,0),t.position.copy(r.worldPosition);var n=void 0;if(n=r.camera.isOrthographicCamera?(r.camera.top-r.camera.bottom)/r.camera.zoom:r.worldPosition.distanceTo(r.cameraPosition)*Math.min(1.9*Math.tan(Math.PI*r.camera.fov/360)/r.camera.zoom,7),t.scale.set(1,1,1).multiplyScalar(n*r.size/7),"helper"===t.tag)return t.visible=!1,"AXIS"===t.name?(t.position.copy(r.worldPositionStart),t.visible=!!r.axis,"X"===r.axis&&(r.tempQuaternion.setFromEuler(r.tempEuler.set(0,0,0)),t.quaternion.copy(o).multiply(r.tempQuaternion),Math.abs(r.alignVector.copy(r.unitX).applyQuaternion(o).dot(r.eye))>.9&&(t.visible=!1)),"Y"===r.axis&&(r.tempQuaternion.setFromEuler(r.tempEuler.set(0,0,Math.PI/2)),t.quaternion.copy(o).multiply(r.tempQuaternion),Math.abs(r.alignVector.copy(r.unitY).applyQuaternion(o).dot(r.eye))>.9&&(t.visible=!1)),"Z"===r.axis&&(r.tempQuaternion.setFromEuler(r.tempEuler.set(0,Math.PI/2,0)),t.quaternion.copy(o).multiply(r.tempQuaternion),Math.abs(r.alignVector.copy(r.unitZ).applyQuaternion(o).dot(r.eye))>.9&&(t.visible=!1)),"XYZE"===r.axis&&(r.tempQuaternion.setFromEuler(r.tempEuler.set(0,Math.PI/2,0)),r.alignVector.copy(r.rotationAxis),t.quaternion.setFromRotationMatrix(r.lookAtMatrix.lookAt(r.zeroVector,r.alignVector,r.unitY)),t.quaternion.multiply(r.tempQuaternion),t.visible=r.dragging),"E"===r.axis&&(t.visible=!1)):"START"===t.name?(t.position.copy(r.worldPositionStart),t.visible=r.dragging):"END"===t.name?(t.position.copy(r.worldPosition),t.visible=r.dragging):"DELTA"===t.name?(t.position.copy(r.worldPositionStart),t.quaternion.copy(r.worldQuaternionStart),r.tempVector.set(1e-10,1e-10,1e-10).add(r.worldPositionStart).sub(r.worldPosition).multiplyScalar(-1),r.tempVector.applyQuaternion(r.worldQuaternionStart.clone().invert()),t.scale.copy(r.tempVector),t.visible=r.dragging):(t.quaternion.copy(o),r.dragging?t.position.copy(r.worldPositionStart):t.position.copy(r.worldPosition),r.axis&&(t.visible=-1!==r.axis.search(t.name))),"continue";if(t.quaternion.copy(o),"translate"===r.mode||"scale"===r.mode){var i=.99;"X"!==t.name&&"XYZX"!==t.name||Math.abs(r.alignVector.copy(r.unitX).applyQuaternion(o).dot(r.eye))>i&&(t.scale.set(1e-10,1e-10,1e-10),t.visible=!1),"Y"!==t.name&&"XYZY"!==t.name||Math.abs(r.alignVector.copy(r.unitY).applyQuaternion(o).dot(r.eye))>i&&(t.scale.set(1e-10,1e-10,1e-10),t.visible=!1),"Z"!==t.name&&"XYZZ"!==t.name||Math.abs(r.alignVector.copy(r.unitZ).applyQuaternion(o).dot(r.eye))>i&&(t.scale.set(1e-10,1e-10,1e-10),t.visible=!1),"XY"===t.name&&Math.abs(r.alignVector.copy(r.unitZ).applyQuaternion(o).dot(r.eye))<.2&&(t.scale.set(1e-10,1e-10,1e-10),t.visible=!1),"YZ"===t.name&&Math.abs(r.alignVector.copy(r.unitX).applyQuaternion(o).dot(r.eye))<.2&&(t.scale.set(1e-10,1e-10,1e-10),t.visible=!1),"XZ"===t.name&&Math.abs(r.alignVector.copy(r.unitY).applyQuaternion(o).dot(r.eye))<.2&&(t.scale.set(1e-10,1e-10,1e-10),t.visible=!1),-1!==t.name.search("X")&&(r.alignVector.copy(r.unitX).applyQuaternion(o).dot(r.eye)<0?"fwd"===t.tag?t.visible=!1:t.scale.x*=-1:"bwd"===t.tag&&(t.visible=!1)),-1!==t.name.search("Y")&&(r.alignVector.copy(r.unitY).applyQuaternion(o).dot(r.eye)<0?"fwd"===t.tag?t.visible=!1:t.scale.y*=-1:"bwd"===t.tag&&(t.visible=!1)),-1!==t.name.search("Z")&&(r.alignVector.copy(r.unitZ).applyQuaternion(o).dot(r.eye)<0?"fwd"===t.tag?t.visible=!1:t.scale.z*=-1:"bwd"===t.tag&&(t.visible=!1))}else"rotate"===r.mode&&(r.tempQuaternion2.copy(o),r.alignVector.copy(r.eye).applyQuaternion(r.tempQuaternion.copy(o).invert()),-1!==t.name.search("E")&&t.quaternion.setFromRotationMatrix(r.lookAtMatrix.lookAt(r.eye,r.zeroVector,r.unitY)),"X"===t.name&&(r.tempQuaternion.setFromAxisAngle(r.unitX,Math.atan2(-r.alignVector.y,r.alignVector.z)),r.tempQuaternion.multiplyQuaternions(r.tempQuaternion2,r.tempQuaternion),t.quaternion.copy(r.tempQuaternion)),"Y"===t.name&&(r.tempQuaternion.setFromAxisAngle(r.unitY,Math.atan2(r.alignVector.x,r.alignVector.z)),r.tempQuaternion.multiplyQuaternions(r.tempQuaternion2,r.tempQuaternion),t.quaternion.copy(r.tempQuaternion)),"Z"===t.name&&(r.tempQuaternion.setFromAxisAngle(r.unitZ,Math.atan2(r.alignVector.y,r.alignVector.x)),r.tempQuaternion.multiplyQuaternions(r.tempQuaternion2,r.tempQuaternion),t.quaternion.copy(r.tempQuaternion)));t.visible=t.visible&&(-1===t.name.indexOf("X")||r.showX),t.visible=t.visible&&(-1===t.name.indexOf("Y")||r.showY),t.visible=t.visible&&(-1===t.name.indexOf("Z")||r.showZ),t.visible=t.visible&&(-1===t.name.indexOf("E")||r.showX&&r.showY&&r.showZ),t.material.tempOpacity=t.material.tempOpacity||t.material.opacity,t.material.tempColor=t.material.tempColor||t.material.color.clone(),t.material.color.copy(t.material.tempColor),t.material.opacity=t.material.tempOpacity,r.enabled?r.axis&&(t.name===r.axis||r.axis.split("").some((function(e){return t.name===e}))?(t.material.opacity=1,t.material.color.lerp(new p.Color(1,1,1),.5)):(t.material.opacity*=.25,t.material.color.lerp(new p.Color(1,1,1),.5))):(t.material.opacity*=.5,t.material.color.lerp(new p.Color(1,1,1),.5))},c=0;c<a.length;c++)i(c);(0,y.Z)((e=(0,v.Z)(r),(0,w.Z)(n.prototype)),"updateMatrixWorld",e).call(e)}));var o=new p.MeshBasicMaterial({depthTest:!1,depthWrite:!1,transparent:!0,side:p.DoubleSide,fog:!1,toneMapped:!1}),a=new p.LineBasicMaterial({depthTest:!1,depthWrite:!1,transparent:!0,linewidth:1,fog:!1,toneMapped:!1}),i=o.clone();i.opacity=.15;var c=o.clone();c.opacity=.33;var l=o.clone();l.color.set(16711680);var u=o.clone();u.color.set(65280);var s=o.clone();s.color.set(255);var f=o.clone();f.opacity=.25;var m=f.clone();m.color.set(16776960);var h=f.clone();h.color.set(65535);var g=f.clone();g.color.set(16711935),o.clone().color.set(16776960);var b=a.clone();b.color.set(16711680);var M=a.clone();M.color.set(65280);var x=a.clone();x.color.set(255);var S=a.clone();S.color.set(65535);var E=a.clone();E.color.set(16711935);var P=a.clone();P.color.set(16776960);var j=a.clone();j.color.set(7895160);var Q=P.clone();Q.opacity=.25;var V=new p.CylinderGeometry(0,.05,.2,12,1,!1),O=new p.BoxGeometry(.125,.125,.125),D=new p.BufferGeometry;D.setAttribute("position",new p.Float32BufferAttribute([0,0,0,1,0,0],3));var _=function(e,t){for(var n=new p.BufferGeometry,r=[],o=0;o<=64*t;++o)r.push(0,Math.cos(o/32*Math.PI)*e,Math.sin(o/32*Math.PI)*e);return n.setAttribute("position",new p.Float32BufferAttribute(r,3)),n},A={X:[[new p.Mesh(V,l),[1,0,0],[0,0,-Math.PI/2],null,"fwd"],[new p.Mesh(V,l),[1,0,0],[0,0,Math.PI/2],null,"bwd"],[new p.Line(D,b)]],Y:[[new p.Mesh(V,u),[0,1,0],null,null,"fwd"],[new p.Mesh(V,u),[0,1,0],[Math.PI,0,0],null,"bwd"],[new p.Line(D,M),null,[0,0,Math.PI/2]]],Z:[[new p.Mesh(V,s),[0,0,1],[Math.PI/2,0,0],null,"fwd"],[new p.Mesh(V,s),[0,0,1],[-Math.PI/2,0,0],null,"bwd"],[new p.Line(D,x),null,[0,-Math.PI/2,0]]],XYZ:[[new p.Mesh(new p.OctahedronGeometry(.1,0),f.clone()),[0,0,0],[0,0,0]]],XY:[[new p.Mesh(new p.PlaneGeometry(.295,.295),m.clone()),[.15,.15,0]],[new p.Line(D,P),[.18,.3,0],null,[.125,1,1]],[new p.Line(D,P),[.3,.18,0],[0,0,Math.PI/2],[.125,1,1]]],YZ:[[new p.Mesh(new p.PlaneGeometry(.295,.295),h.clone()),[0,.15,.15],[0,Math.PI/2,0]],[new p.Line(D,S),[0,.18,.3],[0,0,Math.PI/2],[.125,1,1]],[new p.Line(D,S),[0,.3,.18],[0,-Math.PI/2,0],[.125,1,1]]],XZ:[[new p.Mesh(new p.PlaneGeometry(.295,.295),g.clone()),[.15,0,.15],[-Math.PI/2,0,0]],[new p.Line(D,E),[.18,0,.3],null,[.125,1,1]],[new p.Line(D,E),[.3,0,.18],[0,-Math.PI/2,0],[.125,1,1]]]},Y={X:[[new p.Mesh(new p.CylinderGeometry(.2,0,1,4,1,!1),i),[.6,0,0],[0,0,-Math.PI/2]]],Y:[[new p.Mesh(new p.CylinderGeometry(.2,0,1,4,1,!1),i),[0,.6,0]]],Z:[[new p.Mesh(new p.CylinderGeometry(.2,0,1,4,1,!1),i),[0,0,.6],[Math.PI/2,0,0]]],XYZ:[[new p.Mesh(new p.OctahedronGeometry(.2,0),i)]],XY:[[new p.Mesh(new p.PlaneGeometry(.4,.4),i),[.2,.2,0]]],YZ:[[new p.Mesh(new p.PlaneGeometry(.4,.4),i),[0,.2,.2],[0,Math.PI/2,0]]],XZ:[[new p.Mesh(new p.PlaneGeometry(.4,.4),i),[.2,0,.2],[-Math.PI/2,0,0]]]},X={START:[[new p.Mesh(new p.OctahedronGeometry(.01,2),c),null,null,null,"helper"]],END:[[new p.Mesh(new p.OctahedronGeometry(.01,2),c),null,null,null,"helper"]],DELTA:[[new p.Line(function(){var e=new p.BufferGeometry;return e.setAttribute("position",new p.Float32BufferAttribute([0,0,0,1,1,1],3)),e}(),c),null,null,null,"helper"]],X:[[new p.Line(D,c.clone()),[-1e3,0,0],null,[1e6,1,1],"helper"]],Y:[[new p.Line(D,c.clone()),[0,-1e3,0],[0,0,Math.PI/2],[1e6,1,1],"helper"]],Z:[[new p.Line(D,c.clone()),[0,0,-1e3],[0,-Math.PI/2,0],[1e6,1,1],"helper"]]},L={X:[[new p.Line(_(1,.5),b)],[new p.Mesh(new p.OctahedronGeometry(.04,0),l),[0,0,.99],null,[1,3,1]]],Y:[[new p.Line(_(1,.5),M),null,[0,0,-Math.PI/2]],[new p.Mesh(new p.OctahedronGeometry(.04,0),u),[0,0,.99],null,[3,1,1]]],Z:[[new p.Line(_(1,.5),x),null,[0,Math.PI/2,0]],[new p.Mesh(new p.OctahedronGeometry(.04,0),s),[.99,0,0],null,[1,3,1]]],E:[[new p.Line(_(1.25,1),Q),null,[0,Math.PI/2,0]],[new p.Mesh(new p.CylinderGeometry(.03,0,.15,4,1,!1),Q),[1.17,0,0],[0,0,-Math.PI/2],[1,1,.001]],[new p.Mesh(new p.CylinderGeometry(.03,0,.15,4,1,!1),Q),[-1.17,0,0],[0,0,Math.PI/2],[1,1,.001]],[new p.Mesh(new p.CylinderGeometry(.03,0,.15,4,1,!1),Q),[0,-1.17,0],[Math.PI,0,0],[1,1,.001]],[new p.Mesh(new p.CylinderGeometry(.03,0,.15,4,1,!1),Q),[0,1.17,0],[0,0,0],[1,1,.001]]],XYZE:[[new p.Line(_(1,1),j),null,[0,Math.PI/2,0]]]},I={AXIS:[[new p.Line(D,c.clone()),[-1e3,0,0],null,[1e6,1,1],"helper"]]},C={X:[[new p.Mesh(new p.TorusGeometry(1,.1,4,24),i),[0,0,0],[0,-Math.PI/2,-Math.PI/2]]],Y:[[new p.Mesh(new p.TorusGeometry(1,.1,4,24),i),[0,0,0],[Math.PI/2,0,0]]],Z:[[new p.Mesh(new p.TorusGeometry(1,.1,4,24),i),[0,0,0],[0,0,-Math.PI/2]]],E:[[new p.Mesh(new p.TorusGeometry(1.25,.1,2,24),i)]],XYZE:[[new p.Mesh(new p.SphereGeometry(.7,10,8),i)]]},U={X:[[new p.Mesh(O,l),[.8,0,0],[0,0,-Math.PI/2]],[new p.Line(D,b),null,null,[.8,1,1]]],Y:[[new p.Mesh(O,u),[0,.8,0]],[new p.Line(D,M),null,[0,0,Math.PI/2],[.8,1,1]]],Z:[[new p.Mesh(O,s),[0,0,.8],[Math.PI/2,0,0]],[new p.Line(D,x),null,[0,-Math.PI/2,0],[.8,1,1]]],XY:[[new p.Mesh(O,m),[.85,.85,0],null,[2,2,.2]],[new p.Line(D,P),[.855,.98,0],null,[.125,1,1]],[new p.Line(D,P),[.98,.855,0],[0,0,Math.PI/2],[.125,1,1]]],YZ:[[new p.Mesh(O,h),[0,.85,.85],null,[.2,2,2]],[new p.Line(D,S),[0,.855,.98],[0,0,Math.PI/2],[.125,1,1]],[new p.Line(D,S),[0,.98,.855],[0,-Math.PI/2,0],[.125,1,1]]],XZ:[[new p.Mesh(O,g),[.85,0,.85],null,[2,.2,2]],[new p.Line(D,E),[.855,0,.98],null,[.125,1,1]],[new p.Line(D,E),[.98,0,.855],[0,-Math.PI/2,0],[.125,1,1]]],XYZX:[[new p.Mesh(new p.BoxGeometry(.125,.125,.125),f.clone()),[1.1,0,0]]],XYZY:[[new p.Mesh(new p.BoxGeometry(.125,.125,.125),f.clone()),[0,1.1,0]]],XYZZ:[[new p.Mesh(new p.BoxGeometry(.125,.125,.125),f.clone()),[0,0,1.1]]]},R={X:[[new p.Mesh(new p.CylinderGeometry(.2,0,.8,4,1,!1),i),[.5,0,0],[0,0,-Math.PI/2]]],Y:[[new p.Mesh(new p.CylinderGeometry(.2,0,.8,4,1,!1),i),[0,.5,0]]],Z:[[new p.Mesh(new p.CylinderGeometry(.2,0,.8,4,1,!1),i),[0,0,.5],[Math.PI/2,0,0]]],XY:[[new p.Mesh(O,i),[.85,.85,0],null,[3,3,.2]]],YZ:[[new p.Mesh(O,i),[0,.85,.85],null,[.2,3,3]]],XZ:[[new p.Mesh(O,i),[.85,0,.85],null,[3,.2,3]]],XYZX:[[new p.Mesh(new p.BoxGeometry(.2,.2,.2),i),[1.1,0,0]]],XYZY:[[new p.Mesh(new p.BoxGeometry(.2,.2,.2),i),[0,1.1,0]]],XYZZ:[[new p.Mesh(new p.BoxGeometry(.2,.2,.2),i),[0,0,1.1]]]},z={X:[[new p.Line(D,c.clone()),[-1e3,0,0],null,[1e6,1,1],"helper"]],Y:[[new p.Line(D,c.clone()),[0,-1e3,0],[0,0,Math.PI/2],[1e6,1,1],"helper"]],Z:[[new p.Line(D,c.clone()),[0,0,-1e3],[0,-Math.PI/2,0],[1e6,1,1],"helper"]]},G=function(e){var t=new p.Object3D;for(var n in e)for(var r=e[n].length;r--;){var o=e[n][r][0].clone(),a=e[n][r][1],i=e[n][r][2],c=e[n][r][3],l=e[n][r][4];o.name=n,o.tag=l,a&&o.position.set(a[0],a[1],a[2]),i&&o.rotation.set(i[0],i[1],i[2]),c&&o.scale.set(c[0],c[1],c[2]),o.updateMatrix();var u=o.geometry.clone();u.applyMatrix4(o.matrix),o.geometry=u,o.renderOrder=1/0,o.position.set(0,0,0),o.rotation.set(0,0,0),o.scale.set(1,1,1),t.add(o)}return t};return r.gizmo={},r.picker={},r.helper={},r.add(r.gizmo.translate=G(A)),r.add(r.gizmo.rotate=G(L)),r.add(r.gizmo.scale=G(U)),r.add(r.picker.translate=G(Y)),r.add(r.picker.rotate=G(C)),r.add(r.picker.scale=G(R)),r.add(r.helper.translate=G(X)),r.add(r.helper.rotate=G(I)),r.add(r.helper.scale=G(z)),r.picker.translate.visible=!1,r.picker.rotate.visible=!1,r.picker.scale.visible=!1,r}return(0,f.Z)(n)}(p.Object3D),M=function(e){(0,m.Z)(n,e);var t=(0,h.Z)(n);function n(){var e,r;return(0,d.Z)(this,n),r=t.call(this,new p.PlaneGeometry(1e5,1e5,2,2),new p.MeshBasicMaterial({visible:!1,wireframe:!0,side:p.DoubleSide,transparent:!0,opacity:.1,toneMapped:!1})),(0,Z.Z)((0,v.Z)(r),"isTransformControlsPlane",!0),(0,Z.Z)((0,v.Z)(r),"type","TransformControlsPlane"),(0,Z.Z)((0,v.Z)(r),"unitX",new p.Vector3(1,0,0)),(0,Z.Z)((0,v.Z)(r),"unitY",new p.Vector3(0,1,0)),(0,Z.Z)((0,v.Z)(r),"unitZ",new p.Vector3(0,0,1)),(0,Z.Z)((0,v.Z)(r),"tempVector",new p.Vector3),(0,Z.Z)((0,v.Z)(r),"dirVector",new p.Vector3),(0,Z.Z)((0,v.Z)(r),"alignVector",new p.Vector3),(0,Z.Z)((0,v.Z)(r),"tempMatrix",new p.Matrix4),(0,Z.Z)((0,v.Z)(r),"identityQuaternion",new p.Quaternion),(0,Z.Z)((0,v.Z)(r),"cameraQuaternion",new p.Quaternion),(0,Z.Z)((0,v.Z)(r),"worldPosition",new p.Vector3),(0,Z.Z)((0,v.Z)(r),"worldQuaternion",new p.Quaternion),(0,Z.Z)((0,v.Z)(r),"eye",new p.Vector3),(0,Z.Z)((0,v.Z)(r),"axis",null),(0,Z.Z)((0,v.Z)(r),"mode","translate"),(0,Z.Z)((0,v.Z)(r),"space","world"),(0,Z.Z)((0,v.Z)(r),"updateMatrixWorld",(function(){var t=r.space;switch(r.position.copy(r.worldPosition),"scale"===r.mode&&(t="local"),r.unitX.set(1,0,0).applyQuaternion("local"===t?r.worldQuaternion:r.identityQuaternion),r.unitY.set(0,1,0).applyQuaternion("local"===t?r.worldQuaternion:r.identityQuaternion),r.unitZ.set(0,0,1).applyQuaternion("local"===t?r.worldQuaternion:r.identityQuaternion),r.alignVector.copy(r.unitY),r.mode){case"translate":case"scale":switch(r.axis){case"X":r.alignVector.copy(r.eye).cross(r.unitX),r.dirVector.copy(r.unitX).cross(r.alignVector);break;case"Y":r.alignVector.copy(r.eye).cross(r.unitY),r.dirVector.copy(r.unitY).cross(r.alignVector);break;case"Z":r.alignVector.copy(r.eye).cross(r.unitZ),r.dirVector.copy(r.unitZ).cross(r.alignVector);break;case"XY":r.dirVector.copy(r.unitZ);break;case"YZ":r.dirVector.copy(r.unitX);break;case"XZ":r.alignVector.copy(r.unitZ),r.dirVector.copy(r.unitY);break;case"XYZ":case"E":r.dirVector.set(0,0,0)}break;default:r.dirVector.set(0,0,0)}0===r.dirVector.length()?r.quaternion.copy(r.cameraQuaternion):(r.tempMatrix.lookAt(r.tempVector.set(0,0,0),r.dirVector,r.alignVector),r.quaternion.setFromRotationMatrix(r.tempMatrix)),(0,y.Z)((e=(0,v.Z)(r),(0,w.Z)(n.prototype)),"updateMatrixWorld",e).call(e)})),r}return(0,f.Z)(n)}(p.Mesh),x=["children","domElement","onChange","onMouseDown","onMouseUp","onObjectChange","object"],S=["camera"],E=s.forwardRef((function(e,t){var n=e.children,i=e.domElement,l=e.onChange,f=e.onMouseDown,d=e.onMouseUp,v=e.onObjectChange,m=e.object,h=(0,r.Z)(e,x),y=["enabled","axis","mode","translationSnap","rotationSnap","scaleSnap","space","size","showX","showY","showZ"],w=h.camera,Z=(0,r.Z)(h,S),b=u()(Z,y),M=c()(Z,y),E=(0,a.w)((function(e){return e.controls})),P=(0,a.w)((function(e){return e.gl})),j=(0,a.w)((function(e){return e.events})),Q=(0,a.w)((function(e){return e.camera})),V=(0,a.w)((function(e){return e.invalidate})),O=w||Q,D=i||j.connected||P.domElement,_=s.useMemo((function(){return new g(O,D)}),[O,D]),A=s.useRef();return s.useLayoutEffect((function(){return m?_.attach(m instanceof p.Object3D?m:m.current):A.current instanceof p.Object3D&&_.attach(A.current),function(){_.detach()}}),[m,n,_]),s.useEffect((function(){if(E){var e=function(e){return E.enabled=!e.value};return _.addEventListener("dragging-changed",e),function(){return _.removeEventListener("dragging-changed",e)}}}),[_,E]),s.useEffect((function(){var e=function(e){V(),l&&l(e)};return null==_||null==_.addEventListener||_.addEventListener("change",e),f&&(null==_||null==_.addEventListener||_.addEventListener("mouseDown",f)),d&&(null==_||null==_.addEventListener||_.addEventListener("mouseUp",d)),v&&(null==_||null==_.addEventListener||_.addEventListener("objectChange",v)),function(){null==_||null==_.removeEventListener||_.removeEventListener("change",e),f&&(null==_||null==_.removeEventListener||_.removeEventListener("mouseDown",f)),d&&(null==_||null==_.removeEventListener||_.removeEventListener("mouseUp",d)),v&&(null==_||null==_.removeEventListener||_.removeEventListener("objectChange",v))}}),[l,f,d,v,_,V]),_?s.createElement(s.Fragment,null,s.createElement("primitive",(0,o.Z)({ref:t,object:_},b)),s.createElement("group",(0,o.Z)({ref:A},M),n)):null}))},7543:function(e,t,n){"use strict";n.d(t,{j:function(){return o}});var r=n(2791);function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"pointer",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"auto";r.useEffect((function(){if(e)return document.body.style.cursor=t,function(){document.body.style.cursor=n}}),[e])}},7357:function(e,t,n){var r="__lodash_hash_undefined__",o=9007199254740991,a="[object Symbol]",i=/^\[object .+?Constructor\]$/,c=/^(?:0|[1-9]\d*)$/,l="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,u="object"==typeof self&&self&&self.Object===Object&&self,s=l||u||Function("return this")();function p(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function f(e,t){return!!(e?e.length:0)&&function(e,t,n){if(t!==t)return function(e,t,n,r){var o=e.length,a=n+(r?1:-1);for(;r?a--:++a<o;)if(t(e[a],a,e))return a;return-1}(e,h,n);var r=n-1,o=e.length;for(;++r<o;)if(e[r]===t)return r;return-1}(e,t,0)>-1}function d(e,t,n){for(var r=-1,o=e?e.length:0;++r<o;)if(n(t,e[r]))return!0;return!1}function v(e,t){for(var n=-1,r=e?e.length:0,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}function m(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}function h(e){return e!==e}function y(e,t){return e.has(t)}function w(e,t){return function(n){return e(t(n))}}var Z=Array.prototype,g=Function.prototype,b=Object.prototype,M=s["__core-js_shared__"],x=function(){var e=/[^.]+$/.exec(M&&M.keys&&M.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),S=g.toString,E=b.hasOwnProperty,P=b.toString,j=RegExp("^"+S.call(E).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Q=s.Symbol,V=w(Object.getPrototypeOf,Object),O=b.propertyIsEnumerable,D=Z.splice,_=Q?Q.isConcatSpreadable:void 0,A=Object.getOwnPropertySymbols,Y=Math.max,X=B(s,"Map"),L=B(Object,"create");function I(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function C(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function U(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function R(e){var t=-1,n=e?e.length:0;for(this.__data__=new U;++t<n;)this.add(e[t])}function z(e,t){var n=te(e)||ee(e)?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],r=n.length,o=!!r;for(var a in e)!t&&!E.call(e,a)||o&&("length"==a||$(a,r))||n.push(a);return n}function G(e,t){for(var n,r,o=e.length;o--;)if((n=e[o][0])===(r=t)||n!==n&&r!==r)return o;return-1}function k(e,t,n,r,o){var a=-1,i=e.length;for(n||(n=K),o||(o=[]);++a<i;){var c=e[a];t>0&&n(c)?t>1?k(c,t-1,n,r,o):m(o,c):r||(o[o.length]=c)}return o}function T(e){if(!oe(e)||(t=e,x&&x in t))return!1;var t,n=re(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(n){}return t}(e)?j:i;return n.test(function(e){if(null!=e){try{return S.call(e)}catch(t){}try{return e+""}catch(t){}}return""}(e))}function W(e){if(!oe(e))return function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}(e);var t=function(e){var t=e&&e.constructor,n="function"==typeof t&&t.prototype||b;return e===n}(e),n=[];for(var r in e)("constructor"!=r||!t&&E.call(e,r))&&n.push(r);return n}function F(e){return function(e,t,n){var r=t(e);return te(e)?r:m(r,n(e))}(e,ie,H)}function q(e,t){var n=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map}function B(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return T(n)?n:void 0}I.prototype.clear=function(){this.__data__=L?L(null):{}},I.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},I.prototype.get=function(e){var t=this.__data__;if(L){var n=t[e];return n===r?void 0:n}return E.call(t,e)?t[e]:void 0},I.prototype.has=function(e){var t=this.__data__;return L?void 0!==t[e]:E.call(t,e)},I.prototype.set=function(e,t){return this.__data__[e]=L&&void 0===t?r:t,this},C.prototype.clear=function(){this.__data__=[]},C.prototype.delete=function(e){var t=this.__data__,n=G(t,e);return!(n<0)&&(n==t.length-1?t.pop():D.call(t,n,1),!0)},C.prototype.get=function(e){var t=this.__data__,n=G(t,e);return n<0?void 0:t[n][1]},C.prototype.has=function(e){return G(this.__data__,e)>-1},C.prototype.set=function(e,t){var n=this.__data__,r=G(n,e);return r<0?n.push([e,t]):n[r][1]=t,this},U.prototype.clear=function(){this.__data__={hash:new I,map:new(X||C),string:new I}},U.prototype.delete=function(e){return q(this,e).delete(e)},U.prototype.get=function(e){return q(this,e).get(e)},U.prototype.has=function(e){return q(this,e).has(e)},U.prototype.set=function(e,t){return q(this,e).set(e,t),this},R.prototype.add=R.prototype.push=function(e){return this.__data__.set(e,r),this},R.prototype.has=function(e){return this.__data__.has(e)};var N=A?w(A,Object):se,H=A?function(e){for(var t=[];e;)m(t,N(e)),e=V(e);return t}:se;function K(e){return te(e)||ee(e)||!!(_&&e&&e[_])}function $(e,t){return!!(t=null==t?o:t)&&("number"==typeof e||c.test(e))&&e>-1&&e%1==0&&e<t}function J(e){if("string"==typeof e||function(e){return"symbol"==typeof e||ae(e)&&P.call(e)==a}(e))return e;var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t}function ee(e){return function(e){return ae(e)&&ne(e)}(e)&&E.call(e,"callee")&&(!O.call(e,"callee")||"[object Arguments]"==P.call(e))}var te=Array.isArray;function ne(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=o}(e.length)&&!re(e)}function re(e){var t=oe(e)?P.call(e):"";return"[object Function]"==t||"[object GeneratorFunction]"==t}function oe(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function ae(e){return!!e&&"object"==typeof e}function ie(e){return ne(e)?z(e,!0):W(e)}var ce,le,ue=(ce=function(e,t){return null==e?{}:(t=v(k(t,1),J),function(e,t){return function(e,t,n){for(var r=-1,o=t.length,a={};++r<o;){var i=t[r],c=e[i];n(c,i)&&(a[i]=c)}return a}(e=Object(e),t,(function(t,n){return n in e}))}(e,function(e,t,n,r){var o,a=-1,i=f,c=!0,l=e.length,u=[],s=t.length;if(!l)return u;n&&(t=v(t,(o=n,function(e){return o(e)}))),r?(i=d,c=!1):t.length>=200&&(i=y,c=!1,t=new R(t));e:for(;++a<l;){var p=e[a],m=n?n(p):p;if(p=r||0!==p?p:0,c&&m===m){for(var h=s;h--;)if(t[h]===m)continue e;u.push(p)}else i(t,m,r)||u.push(p)}return u}(F(e),t)))},le=Y(void 0===le?ce.length-1:le,0),function(){for(var e=arguments,t=-1,n=Y(e.length-le,0),r=Array(n);++t<n;)r[t]=e[le+t];t=-1;for(var o=Array(le+1);++t<le;)o[t]=e[t];return o[le]=r,p(ce,this,o)});function se(){return[]}e.exports=ue},708:function(e,t,n){var r=9007199254740991,o="[object Arguments]",a="[object Function]",i="[object GeneratorFunction]",c="[object Symbol]",l="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,u="object"==typeof self&&self&&self.Object===Object&&self,s=l||u||Function("return this")();function p(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function f(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}var d=Object.prototype,v=d.hasOwnProperty,m=d.toString,h=s.Symbol,y=d.propertyIsEnumerable,w=h?h.isConcatSpreadable:void 0,Z=Math.max;function g(e,t,n,r,o){var a=-1,i=e.length;for(n||(n=b),o||(o=[]);++a<i;){var c=e[a];t>0&&n(c)?t>1?g(c,t-1,n,r,o):f(o,c):r||(o[o.length]=c)}return o}function b(e){return x(e)||function(e){return function(e){return S(e)&&function(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=r}(e.length)&&!function(e){var t=function(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}(e)?m.call(e):"";return t==a||t==i}(e)}(e)}(e)&&v.call(e,"callee")&&(!y.call(e,"callee")||m.call(e)==o)}(e)||!!(w&&e&&e[w])}function M(e){if("string"==typeof e||function(e){return"symbol"==typeof e||S(e)&&m.call(e)==c}(e))return e;var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t}var x=Array.isArray;function S(e){return!!e&&"object"==typeof e}var E,P,j=(E=function(e,t){return null==e?{}:function(e,t){return function(e,t,n){for(var r=-1,o=t.length,a={};++r<o;){var i=t[r],c=e[i];n(c,i)&&(a[i]=c)}return a}(e=Object(e),t,(function(t,n){return n in e}))}(e,function(e,t){for(var n=-1,r=e?e.length:0,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}(g(t,1),M))},P=Z(void 0===P?E.length-1:P,0),function(){for(var e=arguments,t=-1,n=Z(e.length-P,0),r=Array(n);++t<n;)r[t]=e[P+t];t=-1;for(var o=Array(P+1);++t<P;)o[t]=e[t];return o[P]=r,p(E,this,o)});e.exports=j},1730:function(e,t,n){"use strict";n.d(t,{DM:function(){return d},h8:function(){return w},jc:function(){return y},ln:function(){return m},o5:function(){return h}});var r=n(3433),o=n(7762),a=Symbol(),i=Symbol(),c=Symbol(),l=Object.getPrototypeOf,u=new WeakMap,s=function(e){return e&&(u.has(e)?u.get(e):l(e)===Object.prototype||l(e)===Array.prototype)},p=function(e){return"object"==typeof e&&null!==e},f=function(e,t){var n=!1,r=function(t,r,o){if(!n){var i=t.a.get(e);i||(i=new Set,t.a.set(e,i)),o&&i.has(a)||i.add(r)}},o={f:t,get:function(t,n){return n===c?e:(r(this,n),d(t[n],this.a,this.c))},has:function(t,o){return o===i?(n=!0,this.a.delete(e),!0):(r(this,o),o in t)},getOwnPropertyDescriptor:function(e,t){return r(this,t,!0),Object.getOwnPropertyDescriptor(e,t)},ownKeys:function(e){return r(this,a),Reflect.ownKeys(e)}};return t&&(o.set=o.deleteProperty=function(){return!1}),o},d=function(e,t,n){if(!s(e))return e;var r=e[c]||e,o=function(e){return Object.isFrozen(e)||Object.values(Object.getOwnPropertyDescriptors(e)).some((function(e){return!e.writable}))}(r),a=n&&n.get(r);return a&&a.f===o||((a=f(r,o)).p=new Proxy(o?function(e){if(Array.isArray(e))return Array.from(e);var t=Object.getOwnPropertyDescriptors(e);return Object.values(t).forEach((function(e){e.configurable=!0})),Object.create(l(e),t)}(r):r,a),n&&n.set(r,a)),a.a=t,a.c=n,a.p},v=function(e,t){var n=Reflect.ownKeys(e),r=Reflect.ownKeys(t);return n.length!==r.length||n.some((function(e,t){return e!==r[t]}))},m=function e(t,n,r,i){if(Object.is(t,n))return!1;if(!p(t)||!p(n))return!0;var c=r.get(t);if(!c)return!0;if(i){var l=i.get(t);if(l&&l.n===n)return l.g;i.set(t,{n:n,g:!1})}var u,s=null,f=(0,o.Z)(c);try{for(f.s();!(u=f.n()).done;){var d=u.value,m=d===a?v(t,n):e(t[d],n[d],r,i);if(!0!==m&&!1!==m||(s=m),s)break}}catch(h){f.e(h)}finally{f.f()}return null===s&&(s=!0),i&&i.set(t,{n:n,g:s}),s},h=function(e){return s(e)&&e[c]||null},y=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];u.set(e,t)},w=function(e,t){var n=[],o=new WeakSet;return function e(a,i){if(!o.has(a)){p(a)&&o.add(a);var c=t.get(a);c?c.forEach((function(t){e(a[t],i?[].concat((0,r.Z)(i),[t]):[t])})):i&&n.push(i)}}(e),n}},1561:function(e,t,n){"use strict";var r=n(2791);var o="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},a=r.useState,i=r.useEffect,c=r.useLayoutEffect,l=r.useDebugValue;function u(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!o(e,n)}catch(r){return!0}}var s="undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=a({inst:{value:n,getSnapshot:t}}),o=r[0].inst,s=r[1];return c((function(){o.value=n,o.getSnapshot=t,u(o)&&s({inst:o})}),[e,n,t]),i((function(){return u(o)&&s({inst:o}),e((function(){u(o)&&s({inst:o})}))}),[e]),l(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:s},7248:function(e,t,n){"use strict";e.exports=n(1561)},4034:function(e,t,n){"use strict";n.d(t,{RK:function(){return c}});var r=n(2791),o=n(1730),a=n(7248),i=n(4183);function c(e,t){var n=new WeakMap,c=(0,r.useRef)(),l=(0,r.useRef)(),u=null==t?void 0:t.sync,s=(0,a.useSyncExternalStore)((0,r.useCallback)((function(t){l.current=t;var n=(0,i.Ld)(e,t,u);return function(){n(),l.current=void 0}}),[e,u]),(0,r.useMemo)((function(){var t;return function(){var n=(0,i.CO)(e);try{if(t&&c.current&&!(0,o.ln)(t,n,c.current,new WeakMap))return t}catch(r){}return t=n}}),[e]),(0,r.useCallback)((function(){return(0,i.CO)(e)}),[e])),p=(0,i.bo)(e);(0,r.useEffect)((function(){c.current=n,p!==(0,i.bo)(e)&&l.current&&l.current()})),function(e,t){var n=(0,r.useRef)();(0,r.useEffect)((function(){n.current=(0,o.h8)(e,t)})),(0,r.useDebugValue)(n.current)}(s,n);var f=(0,r.useMemo)((function(){return new WeakMap}),[]);return(0,o.DM)(s,n,f)}},4183:function(e,t,n){"use strict";n.d(t,{CO:function(){return g},Ld:function(){return Z},bo:function(){return w},sj:function(){return y}});var r=n(3433),o=n(1730),a=Symbol("VERSION"),i=Symbol("LISTENERS"),c=Symbol("SNAPSHOT"),l=Symbol("HANDLER"),u=Symbol("PROMISE_RESULT"),s=Symbol("PROMISE_ERROR"),p=new WeakSet;var f=function(e){return"object"===typeof e&&null!==e},d=function(e){return f(e)&&!p.has(e)&&(Array.isArray(e)||!(Symbol.iterator in e))&&!(e instanceof WeakMap)&&!(e instanceof WeakSet)&&!(e instanceof Error)&&!(e instanceof Number)&&!(e instanceof Date)&&!(e instanceof String)&&!(e instanceof RegExp)&&!(e instanceof ArrayBuffer)},v=new WeakMap,m=1,h=new WeakMap;function y(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!f(e))throw new Error("object required");var t=v.get(e);if(t)return t;var n=m,w=new Set,Z=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:++m;n!==t&&(n=t,w.forEach((function(n){return n(e,t)})))},g=new Map,b=function(e){var t=g.get(e);return t||(t=function(t,n){var o=(0,r.Z)(t);o[1]=[e].concat((0,r.Z)(o[1])),Z(o,n)},g.set(e,t)),t},M=function(e){var t=g.get(e);return g.delete(e),t},x=function(e,t){var r=h.get(t);if((null==r?void 0:r[0])===n)return r[1];var a=Array.isArray(e)?[]:Object.create(Object.getPrototypeOf(e));return(0,o.jc)(a,!0),h.set(t,[n,a]),Reflect.ownKeys(e).forEach((function(n){var r=Reflect.get(e,n,t);if(p.has(r))(0,o.jc)(r,!1),a[n]=r;else if(r instanceof Promise)if(u in r)a[n]=r[u];else{var l=r[s]||r;Object.defineProperty(a,n,{get:function(){if(u in r)return r[u];throw l}})}else(null==r?void 0:r[i])?a[n]=r[c]:a[n]=r})),Object.freeze(a),a},S=Array.isArray(e)?[]:Object.create(Object.getPrototypeOf(e)),E={get:function(e,t,r){return t===a?n:t===i?w:t===c?x(e,r):t===l?E:Reflect.get(e,t,r)},deleteProperty:function(e,t){var n=Reflect.get(e,t),r=null==n?void 0:n[i];r&&r.delete(M(t));var o=Reflect.deleteProperty(e,t);return o&&Z(["delete",[t],n]),o},is:Object.is,canProxy:d,set:function(e,t,n,r){var a,c=Reflect.has(e,t),l=Reflect.get(e,t,r);if(c&&this.is(l,n))return!0;var p,d=null==l?void 0:l[i];return d&&d.delete(M(t)),f(n)&&(n=(0,o.o5)(n)||n),(null==(a=Object.getOwnPropertyDescriptor(e,t))?void 0:a.set)?p=n:n instanceof Promise?p=n.then((function(e){return p[u]=e,Z(["resolve",[t],e]),e})).catch((function(e){p[s]=e,Z(["reject",[t],e])})):(null==n?void 0:n[i])?(p=n)[i].add(b(t)):this.canProxy(n)?(p=y(n))[i].add(b(t)):p=n,Reflect.set(e,t,p,r),Z(["set",[t],n,l]),!0}},P=new Proxy(S,E);return v.set(e,P),Reflect.ownKeys(e).forEach((function(t){var n=Object.getOwnPropertyDescriptor(e,t);n.get||n.set?Object.defineProperty(S,t,n):P[t]=e[t]})),P}function w(e){return f(e)?e[a]:void 0}function Z(e,t,n){var r;(null==e?void 0:e[i])||console.warn("Please use proxy object");var o=[],a=function(e){o.push(e),n?t(o.splice(0)):r||(r=Promise.resolve().then((function(){r=void 0,t(o.splice(0))})))};return e[i].add(a),function(){e[i].delete(a)}}function g(e){return(null==e?void 0:e[c])||console.warn("Please use proxy object"),e[c]}}}]);
//# sourceMappingURL=418.04476f84.chunk.js.map