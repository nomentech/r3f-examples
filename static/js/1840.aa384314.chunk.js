(self.webpackChunkr3f_examples=self.webpackChunkr3f_examples||[]).push([[1840],{6325:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return I}});var r=n(4647),o=n(1091),a=n(4552),i=n(4637),c=n(1413),s=n(9439),u=n(2791),l=n(7760),f=n(1690),m=n(3655),d=n(4925),v=n(7462),p=n(708),x=n.n(p),h=["object","children","deep","castShadow","receiveShadow","inject","keys"],y=["children"];function g(e,t){var n=t.keys,r=void 0===n?["near","far","color","distance","decay","penumbra","angle","intensity","skeleton","visible","castShadow","receiveShadow","morphTargetDictionary","morphTargetInfluences","name","geometry","material","position","rotation","scale","up","userData"]:n,o=t.deep,a=t.inject,i=t.castShadow,s=t.receiveShadow,l=x()(e,r);return o&&(l.geometry&&"materialsOnly"!==o&&(l.geometry=l.geometry.clone()),l.material&&"geometriesOnly"!==o&&(l.material=l.material.clone())),a&&(l="function"===typeof a?(0,c.Z)((0,c.Z)({},l),{},{children:a(e)}):u.isValidElement(a)?(0,c.Z)((0,c.Z)({},l),{},{children:a}):(0,c.Z)((0,c.Z)({},l),a)),"Mesh"===e.type&&(i&&(l.castShadow=!0),s&&(l.receiveShadow=!0)),l}var w=u.forwardRef((function(e,t){var n=e.object,r=e.children,o=e.deep,a=e.castShadow,i=e.receiveShadow,s=e.inject,l=e.keys,f=(0,d.Z)(e,h),m={keys:l,deep:o,inject:s,castShadow:a,receiveShadow:i};if(Array.isArray(n))return u.createElement("group",(0,v.Z)({},f,{ref:t}),n.map((function(e){return u.createElement(w,(0,v.Z)({key:e.uuid,object:e},m))})),r);var p=g(n,m),x=p.children,b=(0,d.Z)(p,y),j=n.type[0].toLowerCase()+n.type.slice(1);return u.createElement(j,(0,v.Z)({},b,f,{ref:t}),(null==n?void 0:n.children).map((function(e){var t={},n=e.type[0].toLowerCase()+e.type.slice(1);return"group"===n||"object3D"===n?(n=w,t=(0,c.Z)({object:e},m)):t=g(e,m),u.createElement(n,(0,v.Z)({key:e.uuid},t))})),r,x)})),b=n(5671),j=n(3144),z=n(136),_=n(9388),S=["speed"],M=function(e){(0,z.Z)(n,e);var t=(0,_.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,b.Z)(this,n),(e=t.call(this,r)).setValues(r),e._time={value:0},e._distort={value:.4},e._radius={value:1},e}return(0,j.Z)(n,[{key:"onBeforeCompile",value:function(e){e.uniforms.time=this._time,e.uniforms.radius=this._radius,e.uniforms.distort=this._distort,e.vertexShader="\n      uniform float time;\n      uniform float radius;\n      uniform float distort;\n      ".concat("#define GLSLIFY 1\nvec3 mod289(vec3 x){return x-floor(x*(1.0/289.0))*289.0;}vec4 mod289(vec4 x){return x-floor(x*(1.0/289.0))*289.0;}vec4 permute(vec4 x){return mod289(((x*34.0)+1.0)*x);}vec4 taylorInvSqrt(vec4 r){return 1.79284291400159-0.85373472095314*r;}float snoise(vec3 v){const vec2 C=vec2(1.0/6.0,1.0/3.0);const vec4 D=vec4(0.0,0.5,1.0,2.0);vec3 i=floor(v+dot(v,C.yyy));vec3 x0=v-i+dot(i,C.xxx);vec3 g=step(x0.yzx,x0.xyz);vec3 l=1.0-g;vec3 i1=min(g.xyz,l.zxy);vec3 i2=max(g.xyz,l.zxy);vec3 x1=x0-i1+C.xxx;vec3 x2=x0-i2+C.yyy;vec3 x3=x0-D.yyy;i=mod289(i);vec4 p=permute(permute(permute(i.z+vec4(0.0,i1.z,i2.z,1.0))+i.y+vec4(0.0,i1.y,i2.y,1.0))+i.x+vec4(0.0,i1.x,i2.x,1.0));float n_=0.142857142857;vec3 ns=n_*D.wyz-D.xzx;vec4 j=p-49.0*floor(p*ns.z*ns.z);vec4 x_=floor(j*ns.z);vec4 y_=floor(j-7.0*x_);vec4 x=x_*ns.x+ns.yyyy;vec4 y=y_*ns.x+ns.yyyy;vec4 h=1.0-abs(x)-abs(y);vec4 b0=vec4(x.xy,y.xy);vec4 b1=vec4(x.zw,y.zw);vec4 s0=floor(b0)*2.0+1.0;vec4 s1=floor(b1)*2.0+1.0;vec4 sh=-step(h,vec4(0.0));vec4 a0=b0.xzyw+s0.xzyw*sh.xxyy;vec4 a1=b1.xzyw+s1.xzyw*sh.zzww;vec3 p0=vec3(a0.xy,h.x);vec3 p1=vec3(a0.zw,h.y);vec3 p2=vec3(a1.xy,h.z);vec3 p3=vec3(a1.zw,h.w);vec4 norm=taylorInvSqrt(vec4(dot(p0,p0),dot(p1,p1),dot(p2,p2),dot(p3,p3)));p0*=norm.x;p1*=norm.y;p2*=norm.z;p3*=norm.w;vec4 m=max(0.6-vec4(dot(x0,x0),dot(x1,x1),dot(x2,x2),dot(x3,x3)),0.0);m=m*m;return 42.0*dot(m*m,vec4(dot(p0,x0),dot(p1,x1),dot(p2,x2),dot(p3,x3)));}","\n      ").concat(e.vertexShader,"\n    "),e.vertexShader=e.vertexShader.replace("#include <begin_vertex>","\n        float updateTime = time / 50.0;\n        float noise = snoise(vec3(position / 2.0 + updateTime * 5.0));\n        vec3 transformed = vec3(position * (noise * pow(distort, 2.0) + radius));\n        ")}},{key:"time",get:function(){return this._time.value},set:function(e){this._time.value=e}},{key:"distort",get:function(){return this._distort.value},set:function(e){this._distort.value=e}},{key:"radius",get:function(){return this._radius.value},set:function(e){this._radius.value=e}}]),n}(l.MeshPhysicalMaterial),E=u.forwardRef((function(e,t){var n=e.speed,r=void 0===n?1:n,o=(0,d.Z)(e,S),a=u.useState((function(){return new M})),i=(0,s.Z)(a,1)[0];return(0,f.x)((function(e){return i&&(i.time=e.clock.getElapsedTime()*r)})),u.createElement("primitive",(0,v.Z)({object:i,ref:t,attach:"material"},o))})),C=n.p+"static/media/scene-transformed.fd531647ceca80343fd9.glb",L=n(184),Z=function(){var e=(0,u.useRef)();return(0,f.x)((function(t){var n=t.clock.elapsedTime,r=Math.sin(n)+Math.cos(10*n);e.current.intensity=40*(.5+Math.abs(r/10))})),(0,L.jsx)("spotLight",{ref:e,color:"lightblue",position:[0,7,15],angle:1,penumbra:1,distance:8,"target-position":[10,5,5,-6.6],onUpdate:function(e){return e.target.updateMatrixWorld()}})},A=function(){var e=(0,u.useRef)(),t=(0,u.useRef)(),n=(0,u.useState)((function(){return new l.Color("white")})),r=(0,s.Z)(n,1)[0],o=(0,m.L)(C).nodes;return(0,u.useEffect)((function(){var e=setInterval((function(){return r.setRGB(Math.random(),Math.random(),Math.random())}),3e3);return function(){return clearInterval(e)}}),[]),(0,f.x)((function(){t.current.color.lerp(r,.01),e.current.traverse((function(e){return e.isMesh&&e.material.emissive.lerp(r,.01)}))})),(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)(w,{ref:e,object:o._Lumieres}),(0,L.jsx)("group",{scale:10,children:(0,L.jsx)("spotLight",{ref:t,castShadow:!0,color:"orange",intensity:1,position:[50,100,0],angle:.15,penumbra:.5,"shadow-mapSize":[64,64],"shadow-bias":-1e-6,"target-position":[0,20,0],onUpdate:function(e){return e.target.updateMatrixWorld()}})})]})},k=function(e){var t=(0,m.L)(C).nodes;return(0,L.jsxs)("group",(0,c.Z)((0,c.Z)({},e),{},{dispose:null,children:[(0,L.jsxs)("group",{name:"_Chambre",rotation:[-Math.PI/2,0,0],children:[(0,L.jsx)(w,{object:t.Lit_ORANGE,castShadow:!0,receiveShadow:!0}),(0,L.jsx)(w,{object:t.Tele_NOIR,children:(0,L.jsx)(Z,{})}),(0,L.jsx)(w,{object:Object.values(t).filter((function(e){return e.name.startsWith("Tapis_")})),receiveShadow:!0}),(0,L.jsx)(w,{object:[t.Caisse_01_BLANC,t.Caisse_02_BLANC,t.Caisse_03_BLANC],castShadow:!0,receiveShadow:!0}),(0,L.jsx)(w,{object:t.Bac_fleurs_BLANC,castShadow:!0,receiveShadow:!0,inject:function(e){return"Plante_VERT_VERT_0"===e.name&&(0,L.jsx)(E,{speed:2.5,distort:.25,color:[.086,.58,.12],roughness:.3})}}),(0,L.jsx)(w,{object:t.Carres_muraux_GRIS,castShadow:!0,receiveShadow:!0}),(0,L.jsx)(w,{object:t.Fenetres_VITRE_VITRE_0}),(0,L.jsx)(w,{object:t.Stores_NOIR_NOIR_0}),(0,L.jsx)(w,{object:t.Tablette_NOIR_NOIR_0}),(0,L.jsx)(w,{object:t.Tasse_BLANC_BLANC_0}),(0,L.jsx)(w,{object:Object.values(t).filter((function(e){return e.name.startsWith("Vetement_")}))}),(0,L.jsx)(w,{object:t.Tringle_METAL_METAL_0})]}),(0,L.jsx)(w,{object:t._Cuisine,castShadow:!0,receiveShadow:!0}),(0,L.jsx)(w,{object:t._Base,castShadow:!0,receiveShadow:!0}),(0,L.jsx)(w,{object:[t._Boites,t._Livres,t._Post_it,t._Ventilations],castShadow:!0}),(0,L.jsx)(A,{})]}))};m.L.preload(C);var I=function(e){var t=e.children;return(0,L.jsxs)(L.Fragment,{children:[t,(0,L.jsxs)(r.Xz,{orthographic:!0,shadows:!0,dpr:[1,2],camera:{position:[10,10,10],zoom:10},children:[(0,L.jsx)("color",{attach:"background",args:[2434352]}),(0,L.jsx)("ambientLight",{intensity:.01}),(0,L.jsx)("hemisphereLight",{intensity:.125,color:"#8040df",groundColor:"red"}),(0,L.jsx)("spotLight",{castShadow:!0,color:"orange",intensity:2,position:[-50,50,40],angle:.25,penumbra:1,"shadow-mapSize":[128,128],"shadow-bias":5e-5}),(0,L.jsx)(o.Y,{fit:!0,clip:!0,observe:!0,margin:1,children:(0,L.jsx)(k,{scale:.1})}),(0,L.jsx)(a.P,{}),(0,L.jsx)(i.z,{makeDefault:!0,minAzimuthAngle:0,maxAzimuthAngle:Math.PI/2,minPolarAngle:Math.PI/3,maxPolarAngle:Math.PI/3,enableZoom:!0,enablePan:!0,zoomSpeed:.3}),(0,L.jsx)("gridHelper",{args:[1e3,200,"#151515","#020202"],position:[0,-4,0]}),(0,L.jsxs)("mesh",{scale:200,rotation:[-Math.PI/2,0,0],position:[0,-4,-0],receiveShadow:!0,children:[(0,L.jsx)("planeGeometry",{}),(0,L.jsx)("shadowMaterial",{transparent:!0,opacity:.3})]})]})]})}},4552:function(e,t,n){"use strict";n.d(t,{P:function(){return a}});var r=n(2791),o=n(1690);function a(){var e=(0,o.w)((function(e){return e.gl}));return(0,r.useEffect)((function(){return e.shadowMap.autoUpdate=!1,e.shadowMap.needsUpdate=!0,function(){e.shadowMap.autoUpdate=e.shadowMap.needsUpdate=!0}}),[e.shadowMap]),null}},1091:function(e,t,n){"use strict";n.d(t,{B:function(){return l},Y:function(){return u}});var r=n(9439),o=n(2791),a=n(7760),i=n(1690),c=function(e){return e&&e.isOrthographicCamera},s=o.createContext(null);function u(e){var t=e.children,n=e.damping,u=void 0===n?6:n,l=e.fit,f=e.clip,m=e.observe,d=e.margin,v=void 0===d?1.2:d,p=e.eps,x=void 0===p?.01:p,h=e.onFit,y=o.useRef(null),g=(0,i.w)(),w=g.camera,b=g.invalidate,j=g.size,z=g.controls,_=o.useRef(h);function S(e,t){return Math.abs(e.x-t.x)<x&&Math.abs(e.y-t.y)<x&&Math.abs(e.z-t.z)<x}function M(e,t,n,r){e.x=a.MathUtils.damp(e.x,t.x,n,r),e.y=a.MathUtils.damp(e.y,t.y,n,r),e.z=a.MathUtils.damp(e.z,t.z,n,r)}_.current=h;var E=o.useState((function(){return{animating:!1,focus:new a.Vector3,camera:new a.Vector3,zoom:1}})),C=(0,r.Z)(E,1)[0],L=o.useState((function(){return{focus:new a.Vector3,camera:new a.Vector3,zoom:1}})),Z=(0,r.Z)(L,1)[0],A=o.useState((function(){return new a.Box3})),k=(0,r.Z)(A,1)[0],I=o.useMemo((function(){function e(){var e=k.getSize(new a.Vector3),t=k.getCenter(new a.Vector3),n=Math.max(e.x,e.y,e.z),r=c(w)?4*n:n/(2*Math.atan(Math.PI*w.fov/360)),o=c(w)?4*n:r/w.aspect,i=v*Math.max(r,o);return{box:k,size:e,center:t,distance:i}}return{getSize:e,refresh:function(t){if((r=t)&&r.isBox3)k.copy(t);else{var n=t||y.current;n.updateWorldMatrix(!0,!0),k.setFromObject(n)}var r;if(k.isEmpty()){var o=w.position.length()||10;k.setFromCenterAndSize(new a.Vector3,new a.Vector3(o,o,o))}if("OrthographicTrackballControls"===(null==z?void 0:z.constructor.name)){var i=e().distance,c=w.position.clone().sub(z.target).normalize().multiplyScalar(i),s=z.target.clone().add(c);w.position.copy(s)}return this},clip:function(){var t=e().distance;return z&&(z.maxDistance=10*t),w.near=t/100,w.far=100*t,w.updateProjectionMatrix(),z&&z.update(),b(),this},fit:function(){C.camera.copy(w.position),z&&C.focus.copy(z.target);var t=e(),n=t.center,r=t.distance,o=n.clone().sub(w.position).normalize().multiplyScalar(r);if(Z.camera.copy(n).sub(o),Z.focus.copy(n),c(w)){C.zoom=w.zoom;var i=0,s=0,l=[new a.Vector3(k.min.x,k.min.y,k.min.z),new a.Vector3(k.min.x,k.max.y,k.min.z),new a.Vector3(k.min.x,k.min.y,k.max.z),new a.Vector3(k.min.x,k.max.y,k.max.z),new a.Vector3(k.max.x,k.max.y,k.max.z),new a.Vector3(k.max.x,k.max.y,k.min.z),new a.Vector3(k.max.x,k.min.y,k.max.z),new a.Vector3(k.max.x,k.min.y,k.min.z)];n.applyMatrix4(w.matrixWorldInverse);for(var f=0,m=l;f<m.length;f++){var d=m[f];d.applyMatrix4(w.matrixWorldInverse),i=Math.max(i,Math.abs(d.y-n.y)),s=Math.max(s,Math.abs(d.x-n.x))}i*=2,s*=2;var p=(w.top-w.bottom)/i,x=(w.right-w.left)/s;Z.zoom=Math.min(p,x)/v,u||(w.zoom=Z.zoom,w.updateProjectionMatrix())}return u?C.animating=!0:(w.position.copy(Z.camera),w.lookAt(Z.focus),z&&(z.target.copy(Z.focus),z.update())),_.current&&_.current(this.getSize()),b(),this}}}),[k,w,z,v,u,b]);o.useLayoutEffect((function(){if(z){var e=function(){return C.animating=!1};return z.addEventListener("start",e),function(){return z.removeEventListener("start",e)}}}),[z]);var V=o.useRef(0);return o.useLayoutEffect((function(){(m||0===V.current++)&&(I.refresh(),l&&I.fit(),f&&I.clip())}),[j,f,l,m,w,z]),(0,i.x)((function(e,t){if(C.animating){if(M(C.focus,Z.focus,u,t),M(C.camera,Z.camera,u,t),C.zoom=a.MathUtils.damp(C.zoom,Z.zoom,u,t),w.position.copy(C.camera),c(w)&&(w.zoom=C.zoom,w.updateProjectionMatrix()),z?(z.target.copy(C.focus),z.update()):w.lookAt(C.focus),b(),c(w)&&!(Math.abs(C.zoom-Z.zoom)<x))return;if(!c(w)&&!S(C.camera,Z.camera))return;if(z&&!S(C.focus,Z.focus))return;C.animating=!1}})),o.createElement("group",{ref:y},o.createElement(s.Provider,{value:I},t))}function l(){return o.useContext(s)}},4637:function(e,t,n){"use strict";n.d(t,{z:function(){return u}});var r=n(4925),o=n(7462),a=n(1690),i=n(2791),c=n(233),s=["makeDefault","camera","regress","domElement","enableDamping","onChange","onStart","onEnd"],u=i.forwardRef((function(e,t){var n=e.makeDefault,u=e.camera,l=e.regress,f=e.domElement,m=e.enableDamping,d=void 0===m||m,v=e.onChange,p=e.onStart,x=e.onEnd,h=(0,r.Z)(e,s),y=(0,a.w)((function(e){return e.invalidate})),g=(0,a.w)((function(e){return e.camera})),w=(0,a.w)((function(e){return e.gl})),b=(0,a.w)((function(e){return e.events})),j=(0,a.w)((function(e){return e.set})),z=(0,a.w)((function(e){return e.get})),_=(0,a.w)((function(e){return e.performance})),S=u||g,M=f||b.connected||w.domElement,E=i.useMemo((function(){return new c.z(S)}),[S]);return(0,a.x)((function(){E.enabled&&E.update()}),-1),i.useEffect((function(){return E.connect(M),function(){E.dispose()}}),[M,l,E,y]),i.useEffect((function(){var e=function(e){y(),l&&_.regress(),v&&v(e)};return E.addEventListener("change",e),p&&E.addEventListener("start",p),x&&E.addEventListener("end",x),function(){p&&E.removeEventListener("start",p),x&&E.removeEventListener("end",x),E.removeEventListener("change",e)}}),[v,p,x]),i.useEffect((function(){if(n){var e=z().controls;return j({controls:E}),function(){return j({controls:e})}}}),[n,E]),i.createElement("primitive",(0,o.Z)({ref:t,object:E,enableDamping:d},h))}))},708:function(e,t,n){var r=9007199254740991,o="[object Arguments]",a="[object Function]",i="[object GeneratorFunction]",c="[object Symbol]",s="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,u="object"==typeof self&&self&&self.Object===Object&&self,l=s||u||Function("return this")();function f(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function m(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}var d=Object.prototype,v=d.hasOwnProperty,p=d.toString,x=l.Symbol,h=d.propertyIsEnumerable,y=x?x.isConcatSpreadable:void 0,g=Math.max;function w(e,t,n,r,o){var a=-1,i=e.length;for(n||(n=b),o||(o=[]);++a<i;){var c=e[a];t>0&&n(c)?t>1?w(c,t-1,n,r,o):m(o,c):r||(o[o.length]=c)}return o}function b(e){return z(e)||function(e){return function(e){return _(e)&&function(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=r}(e.length)&&!function(e){var t=function(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}(e)?p.call(e):"";return t==a||t==i}(e)}(e)}(e)&&v.call(e,"callee")&&(!h.call(e,"callee")||p.call(e)==o)}(e)||!!(y&&e&&e[y])}function j(e){if("string"==typeof e||function(e){return"symbol"==typeof e||_(e)&&p.call(e)==c}(e))return e;var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t}var z=Array.isArray;function _(e){return!!e&&"object"==typeof e}var S,M,E=(S=function(e,t){return null==e?{}:function(e,t){return function(e,t,n){for(var r=-1,o=t.length,a={};++r<o;){var i=t[r],c=e[i];n(c,i)&&(a[i]=c)}return a}(e=Object(e),t,(function(t,n){return n in e}))}(e,function(e,t){for(var n=-1,r=e?e.length:0,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}(w(t,1),j))},M=g(void 0===M?S.length-1:M,0),function(){for(var e=arguments,t=-1,n=g(e.length-M,0),r=Array(n);++t<n;)r[t]=e[M+t];t=-1;for(var o=Array(M+1);++t<M;)o[t]=e[t];return o[M]=r,f(S,this,o)});e.exports=E}}]);
//# sourceMappingURL=1840.aa384314.chunk.js.map