{"version":3,"file":"static/js/1168.b7c5c7ed.chunk.js","mappings":"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","sources":["../node_modules/@react-three/drei/core/Detailed.js","basic-examples/re-using-geometry-and-level-of-detail/Example.tsx","../node_modules/@react-three/drei/core/OrbitControls.js"],"sourcesContent":["import _extends from '@babel/runtime/helpers/esm/extends';\nimport * as React from 'react';\nimport { useFrame } from '@react-three/fiber';\nimport mergeRefs from 'react-merge-refs';\n\nconst Detailed = /*#__PURE__*/React.forwardRef(({\n  children,\n  distances,\n  ...props\n}, ref) => {\n  const lodRef = React.useRef(null);\n  React.useLayoutEffect(() => {\n    const {\n      current: lod\n    } = lodRef;\n    lod.levels.length = 0;\n    lod.children.forEach((object, index) => lod.levels.push({\n      object,\n      distance: distances[index]\n    }));\n  });\n  useFrame(state => {\n    var _lodRef$current;\n\n    return (_lodRef$current = lodRef.current) == null ? void 0 : _lodRef$current.update(state.camera);\n  });\n  return /*#__PURE__*/React.createElement(\"lOD\", _extends({\n    ref: mergeRefs([lodRef, ref])\n  }, props), children);\n});\n\nexport { Detailed };\n","import { Suspense } from 'react'\nimport { Canvas } from '@react-three/fiber'\nimport { Detailed, Environment, OrbitControls, useGLTF } from '@react-three/drei'\n\nimport bust1 from '../../models/bust-1-d.glb'\nimport bust2 from '../../models/bust-2-d.glb'\nimport bust3 from '../../models/bust-3-d.glb'\nimport bust4 from '../../models/bust-4-d.glb'\n\n// Create 800 objects with random position and rotation data\nconst positions = [...Array(800)].map(() => ({\n  position: [40 - Math.random() * 80, 40 - Math.random() * 80, 40 - Math.random() * 80],\n  rotation: [Math.random() * Math.PI * 2, Math.random() * Math.PI * 2, Math.random() * Math.PI * 2],\n}))\n\nconst Bust = (props: any) => {\n  // This will load 4 GLTF in parallel using React Suspense\n  const levels = useGLTF([bust1, bust2, bust3, bust4])\n  // By the time we're here these GLTFs exist, they're loaded\n  // There are 800 instances of this component, but the GLTF data is cached and will be re-used ootb\n  return (\n    <Detailed distances={[0, 15, 25, 35, 100]} {...props}>\n      {/* All we need to do is dump them into the Detailed component and define some distances\n          Since we use a JSX mesh to represent each bust the geometry is being re-used w/o cloning */}\n      {levels.map(({ nodes, materials }: any, index) => (\n        <mesh receiveShadow castShadow key={index} geometry={nodes.Mesh_0001.geometry} material={materials.default} material-envMapIntensity={0.25} />\n      ))}\n      <mesh />\n    </Detailed>\n  )\n}\n\nconst Example = ({ children }: any) => {\n  return (\n    <>\n      { children }\n      <Suspense fallback={<span>loading...</span>}>\n        <Canvas\n          // Quick shortcut for setting up shadow maps\n          shadows\n          // Only render on changes and movement\n          frameloop=\"demand\"\n          // Pixelratio using window.devicePixelRatio, no less than 1, no higher than 2\n          dpr={[1, 2]}\n          camera={{ position: [0, 0, 40] }}\n          // Nice trick here, if your scene is static you can switch off shadowmap auto-update for more performance\n          onCreated={({ gl }) => ((gl.shadowMap.autoUpdate = false), (gl.shadowMap.needsUpdate = true))}>\n          {/* Let's render 800 Bust components with the data above */}\n          {positions.map((props, i) => (\n            <Bust key={i} {...props} />\n          ))}\n          <OrbitControls zoomSpeed={0.075} />\n          <pointLight position={[0, 0, 0]} intensity={0.5} />\n          <spotLight intensity={2.5} position={[50, 50, 50]} castShadow />\n          <Environment preset=\"city\" />\n        </Canvas>\n      </Suspense>\n    </>\n  )\n}\n\nexport default Example","import _extends from '@babel/runtime/helpers/esm/extends';\nimport { useThree, useFrame } from '@react-three/fiber';\nimport * as React from 'react';\nimport { OrbitControls as OrbitControls$1 } from 'three-stdlib';\n\nconst OrbitControls = /*#__PURE__*/React.forwardRef(({\n  makeDefault,\n  camera,\n  regress,\n  domElement,\n  enableDamping = true,\n  onChange,\n  onStart,\n  onEnd,\n  ...restProps\n}, ref) => {\n  const invalidate = useThree(state => state.invalidate);\n  const defaultCamera = useThree(state => state.camera);\n  const gl = useThree(state => state.gl);\n  const events = useThree(state => state.events);\n  const set = useThree(state => state.set);\n  const get = useThree(state => state.get);\n  const performance = useThree(state => state.performance);\n  const explCamera = camera || defaultCamera;\n  const explDomElement = domElement || events.connected || gl.domElement;\n  const controls = React.useMemo(() => new OrbitControls$1(explCamera), [explCamera]);\n  useFrame(() => {\n    if (controls.enabled) controls.update();\n  }, -1);\n  React.useEffect(() => {\n    controls.connect(explDomElement);\n    return () => void controls.dispose();\n  }, [explDomElement, regress, controls, invalidate]);\n  React.useEffect(() => {\n    const callback = e => {\n      invalidate();\n      if (regress) performance.regress();\n      if (onChange) onChange(e);\n    };\n\n    controls.addEventListener('change', callback);\n    if (onStart) controls.addEventListener('start', onStart);\n    if (onEnd) controls.addEventListener('end', onEnd);\n    return () => {\n      if (onStart) controls.removeEventListener('start', onStart);\n      if (onEnd) controls.removeEventListener('end', onEnd);\n      controls.removeEventListener('change', callback);\n    };\n  }, [onChange, onStart, onEnd]);\n  React.useEffect(() => {\n    if (makeDefault) {\n      const old = get().controls;\n      set({\n        controls\n      });\n      return () => set({\n        controls: old\n      });\n    }\n  }, [makeDefault, controls]);\n  return /*#__PURE__*/React.createElement(\"primitive\", _extends({\n    ref: ref,\n    object: controls,\n    enableDamping: enableDamping\n  }, restProps));\n});\n\nexport { OrbitControls };\n"],"names":["Detailed","React","ref","children","distances","props","lodRef","lod","current","levels","length","forEach","object","index","push","distance","useFrame","state","_lodRef$current","update","camera","_extends","mergeRefs","positions","Array","map","position","Math","random","rotation","PI","Bust","useGLTF","bust1","bust2","bust3","bust4","nodes","materials","receiveShadow","castShadow","geometry","Mesh_0001","material","default","Suspense","fallback","shadows","frameloop","dpr","onCreated","gl","shadowMap","autoUpdate","needsUpdate","i","OrbitControls","zoomSpeed","intensity","Environment","preset","makeDefault","regress","domElement","enableDamping","onChange","onStart","onEnd","restProps","invalidate","useThree","defaultCamera","events","set","get","performance","explCamera","explDomElement","connected","controls","OrbitControls$1","enabled","connect","dispose","callback","e","addEventListener","removeEventListener","old"],"sourceRoot":""}