"use strict";(self.webpackChunkr3f_examples=self.webpackChunkr3f_examples||[]).push([[7946],{5941:function(e,t,n){n.r(t),n.d(t,{default:function(){return p}});var r=n(2791),a=n(4647),o=n(9142),i=n(4552),s=n(4637),u=n(1413),v=n(4925),c=n(7760),m=n(3655),f=n.p+"static/media/shoe.175d5ebc5d5e54e1ddff.gltf",d=n(184),l=["color"];m.L.preload(f);var h=function(e){var t=e.color,n=(0,v.Z)(e,l),r=(0,m.L)(f),a=r.nodes,o=r.materials;return(0,d.jsxs)("group",(0,u.Z)((0,u.Z)({},n),{},{dispose:null,children:[(0,d.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:a.shoe.geometry,material:o.laces,"material-envMapIntensity":.8}),(0,d.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:a.shoe_1.geometry,children:(0,d.jsx)("meshStandardMaterial",{color:t,aoMap:o.mesh.aoMap,normalMap:o.mesh.normalMap,"normalMap-encoding":c.LinearEncoding,roughnessMap:o.mesh.roughnessMap,metalnessMap:o.mesh.metalnessMap,envMapIntensity:.8})}),(0,d.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:a.shoe_2.geometry,material:o.caps,"material-envMapIntensity":.8}),(0,d.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:a.shoe_3.geometry,material:o.inner,"material-envMapIntensity":.8}),(0,d.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:a.shoe_4.geometry,material:o.sole,"material-envMapIntensity":.8}),(0,d.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:a.shoe_5.geometry,material:o.stripes,"material-envMapIntensity":.8}),(0,d.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:a.shoe_6.geometry,material:o.band,"material-envMapIntensity":.8}),(0,d.jsx)("mesh",{castShadow:!0,receiveShadow:!0,geometry:a.shoe_7.geometry,material:o.patch,"material-envMapIntensity":.8})]}))},p=function(e){var t=e.children;return(0,d.jsxs)(d.Fragment,{children:[t,(0,d.jsxs)(a.Xz,{shadows:!0,dpr:[1,2],camera:{position:[0,0,150],fov:40},children:[(0,d.jsxs)(r.Suspense,{fallback:null,children:[(0,d.jsxs)(o.H,{environment:"city",intensity:.6,children:[(0,d.jsx)(h,{color:"tomato",position:[0,0,0]}),(0,d.jsx)(h,{color:"orange",scale:-1,rotation:[0,.5,Math.PI],position:[0,0,-2]})]}),(0,d.jsx)(i.P,{})]}),(0,d.jsx)(s.z,{autoRotate:!0})]})]})}},4552:function(e,t,n){n.d(t,{P:function(){return o}});var r=n(2791),a=n(1690);function o(){var e=(0,a.w)((function(e){return e.gl}));return(0,r.useEffect)((function(){return e.shadowMap.autoUpdate=!1,e.shadowMap.needsUpdate=!0,function(){e.shadowMap.autoUpdate=e.shadowMap.needsUpdate=!0}}),[e.shadowMap]),null}},8202:function(e,t,n){n.d(t,{j:function(){return d}});var r=n(1413),a=n(9439),o=n(4925),i=n(7462),s=n(2791),u=n(7760),v=n(1690),c={uniforms:{tDiffuse:{value:null},h:{value:1/512}},vertexShader:"\n      varying vec2 vUv;\n\n      void main() {\n\n        vUv = uv;\n        gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\n      }\n  ",fragmentShader:"\n    uniform sampler2D tDiffuse;\n    uniform float h;\n\n    varying vec2 vUv;\n\n    void main() {\n\n    \tvec4 sum = vec4( 0.0 );\n\n    \tsum += texture2D( tDiffuse, vec2( vUv.x - 4.0 * h, vUv.y ) ) * 0.051;\n    \tsum += texture2D( tDiffuse, vec2( vUv.x - 3.0 * h, vUv.y ) ) * 0.0918;\n    \tsum += texture2D( tDiffuse, vec2( vUv.x - 2.0 * h, vUv.y ) ) * 0.12245;\n    \tsum += texture2D( tDiffuse, vec2( vUv.x - 1.0 * h, vUv.y ) ) * 0.1531;\n    \tsum += texture2D( tDiffuse, vec2( vUv.x, vUv.y ) ) * 0.1633;\n    \tsum += texture2D( tDiffuse, vec2( vUv.x + 1.0 * h, vUv.y ) ) * 0.1531;\n    \tsum += texture2D( tDiffuse, vec2( vUv.x + 2.0 * h, vUv.y ) ) * 0.12245;\n    \tsum += texture2D( tDiffuse, vec2( vUv.x + 3.0 * h, vUv.y ) ) * 0.0918;\n    \tsum += texture2D( tDiffuse, vec2( vUv.x + 4.0 * h, vUv.y ) ) * 0.051;\n\n    \tgl_FragColor = sum;\n\n    }\n  "},m={uniforms:{tDiffuse:{value:null},v:{value:1/512}},vertexShader:"\n    varying vec2 vUv;\n\n    void main() {\n\n      vUv = uv;\n      gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\n    }\n  ",fragmentShader:"\n\n  uniform sampler2D tDiffuse;\n  uniform float v;\n\n  varying vec2 vUv;\n\n  void main() {\n\n    vec4 sum = vec4( 0.0 );\n\n    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 4.0 * v ) ) * 0.051;\n    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 3.0 * v ) ) * 0.0918;\n    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 2.0 * v ) ) * 0.12245;\n    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 1.0 * v ) ) * 0.1531;\n    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y ) ) * 0.1633;\n    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 1.0 * v ) ) * 0.1531;\n    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 2.0 * v ) ) * 0.12245;\n    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 3.0 * v ) ) * 0.0918;\n    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 4.0 * v ) ) * 0.051;\n\n    gl_FragColor = sum;\n\n  }\n  "},f=["scale","frames","opacity","width","height","blur","far","resolution","smooth","color","depthWrite","renderOrder"],d=s.forwardRef((function(e,t){var n=e.scale,d=void 0===n?10:n,l=e.frames,h=void 0===l?1/0:l,p=e.opacity,g=void 0===p?1:p,x=e.width,y=void 0===x?1:x,w=e.height,D=void 0===w?1:w,M=e.blur,U=void 0===M?1:M,S=e.far,E=void 0===S?10:S,b=e.resolution,j=void 0===b?512:b,L=e.smooth,Z=void 0===L||L,C=e.color,R=void 0===C?"#000000":C,_=e.depthWrite,I=void 0!==_&&_,k=e.renderOrder,T=(0,o.Z)(e,f),P=(0,v.w)((function(e){return e.scene})),B=(0,v.w)((function(e){return e.gl})),W=s.useRef(null);y*=Array.isArray(d)?d[0]:d||1,D*=Array.isArray(d)?d[1]:d||1;var A=s.useMemo((function(){var e=new u.WebGLRenderTarget(j,j),t=new u.WebGLRenderTarget(j,j);t.texture.generateMipmaps=e.texture.generateMipmaps=!1;var n=new u.PlaneBufferGeometry(y,D).rotateX(Math.PI/2),a=new u.Mesh(n),o=new u.MeshDepthMaterial;o.depthTest=o.depthWrite=!1,o.onBeforeCompile=function(e){e.uniforms=(0,r.Z)((0,r.Z)({},e.uniforms),{},{ucolor:{value:new u.Color(R).convertSRGBToLinear()}}),e.fragmentShader=e.fragmentShader.replace("void main() {","uniform vec3 ucolor;\n           void main() {\n          "),e.fragmentShader=e.fragmentShader.replace("vec4( vec3( 1.0 - fragCoordZ ), opacity );","vec4( ucolor, ( 1.0 - fragCoordZ ) * 1.0 );")};var i=new u.ShaderMaterial(c),s=new u.ShaderMaterial(m);return s.depthTest=i.depthTest=!1,[e,n,o,a,i,s,t]}),[j,y,D,d,R]),z=(0,a.Z)(A,7),F=z[0],G=z[1],O=z[2],V=z[3],H=z[4],X=z[5],q=z[6],J=function(e){V.visible=!0,V.material=H,H.uniforms.tDiffuse.value=F.texture,H.uniforms.h.value=1*e/256,B.setRenderTarget(q),B.render(V,W.current),V.material=X,X.uniforms.tDiffuse.value=q.texture,X.uniforms.v.value=1*e/256,B.setRenderTarget(F),B.render(V,W.current),V.visible=!1},K=0;return(0,v.x)((function(){if(W.current&&(h===1/0||K<h)){var e=P.background;P.background=null;var t=P.overrideMaterial;P.overrideMaterial=O,B.setRenderTarget(F),B.render(P,W.current),P.overrideMaterial=t,J(U),Z&&J(.4*U),B.setRenderTarget(null),P.background=e,K++}})),s.createElement("group",(0,i.Z)({"rotation-x":Math.PI/2},T,{ref:t}),s.createElement("mesh",{renderOrder:k,geometry:G,scale:[1,-1,1],rotation:[-Math.PI/2,0,0]},s.createElement("meshBasicMaterial",{map:F.texture,"map-encoding":B.outputEncoding,transparent:!0,opacity:g,depthWrite:I})),s.createElement("orthographicCamera",{ref:W,args:[-y/2,y/2,D/2,-D/2,0,E]}))}))},4637:function(e,t,n){n.d(t,{z:function(){return v}});var r=n(4925),a=n(7462),o=n(1690),i=n(2791),s=n(233),u=["makeDefault","camera","regress","domElement","enableDamping","onChange","onStart","onEnd"],v=i.forwardRef((function(e,t){var n=e.makeDefault,v=e.camera,c=e.regress,m=e.domElement,f=e.enableDamping,d=void 0===f||f,l=e.onChange,h=e.onStart,p=e.onEnd,g=(0,r.Z)(e,u),x=(0,o.w)((function(e){return e.invalidate})),y=(0,o.w)((function(e){return e.camera})),w=(0,o.w)((function(e){return e.gl})),D=(0,o.w)((function(e){return e.events})),M=(0,o.w)((function(e){return e.set})),U=(0,o.w)((function(e){return e.get})),S=(0,o.w)((function(e){return e.performance})),E=v||y,b=m||D.connected||w.domElement,j=i.useMemo((function(){return new s.z(E)}),[E]);return(0,o.x)((function(){j.enabled&&j.update()}),-1),i.useEffect((function(){return j.connect(b),function(){j.dispose()}}),[b,c,j,x]),i.useEffect((function(){var e=function(e){x(),c&&S.regress(),l&&l(e)};return j.addEventListener("change",e),h&&j.addEventListener("start",h),p&&j.addEventListener("end",p),function(){h&&j.removeEventListener("start",h),p&&j.removeEventListener("end",p),j.removeEventListener("change",e)}}),[l,h,p]),i.useEffect((function(){if(n){var e=U().controls;return M({controls:j}),function(){return M({controls:e})}}}),[n,j]),i.createElement("primitive",(0,a.Z)({ref:t,object:j,enableDamping:d},g))}))},9142:function(e,t,n){n.d(t,{H:function(){return d}});var r=n(9439),a=n(4925),o=n(7462),i=n(2791),s=n(7760),u=n(1690),v=n(9292),c=n(8202),m=["children","controls","shadows","adjustCamera","environment","intensity","preset","shadowBias","contactShadow"],f={rembrandt:{main:[1,2,1],fill:[-2,-.5,-2]},portrait:{main:[-1,2,.5],fill:[-1,.5,-1.5]},upfront:{main:[0,2,1],fill:[-1,.5,-1.5]},soft:{main:[-2,4,4],fill:[-1,.5,-1.5]}};function d(e){var t=e.children,n=e.controls,d=e.shadows,l=void 0===d||d,h=e.adjustCamera,p=void 0===h||h,g=e.environment,x=void 0===g?"city":g,y=e.intensity,w=void 0===y?1:y,D=e.preset,M=void 0===D?"rembrandt":D,U=e.shadowBias,S=void 0===U?0:U,E=e.contactShadow,b=void 0===E?{blur:2,opacity:.5,position:[0,0,0]}:E,j=(0,a.Z)(e,m),L=f[M],Z=(0,u.w)((function(e){return e.camera})),C=(0,u.w)((function(e){return e.controls})),R=i.useRef(null),_=i.useRef(null),I=i.useState({radius:0,width:0,height:0}),k=(0,r.Z)(I,2),T=k[0],P=T.radius,B=T.width,W=T.height,A=k[1];return i.useLayoutEffect((function(){R.current.position.set(0,0,0),R.current.updateWorldMatrix(!0,!0);var e=(new s.Box3).setFromObject(_.current),t=new s.Vector3,n=new s.Sphere,r=e.max.y-e.min.y,a=e.max.x-e.min.x;e.getCenter(t),e.getBoundingSphere(n),A({radius:n.radius,width:a,height:r}),R.current.position.set(-t.x,-t.y+r/2,-t.z)}),[t]),i.useLayoutEffect((function(){if(p){var e=P/(W>B?1.5:2.5);Z.position.set(0,.5*P,2.5*P),Z.near=.1,Z.far=Math.max(5e3,4*P),Z.lookAt(0,e,0);var t=C||(null==n?void 0:n.current);t&&(t.target.set(0,e,0),t.update())}}),[C,P,W,B,p]),i.createElement("group",j,i.createElement("group",{ref:R},i.createElement("group",{ref:_},t)),b&&i.createElement(c.j,(0,o.Z)({scale:2*P,far:P/2},b)),x&&i.createElement(v.qA,{preset:x}),i.createElement("ambientLight",{intensity:w/3}),i.createElement("spotLight",{penumbra:1,position:[L.main[0]*P,L.main[1]*P,L.main[2]*P],intensity:2*w,castShadow:l,"shadow-bias":S}),i.createElement("pointLight",{position:[L.fill[0]*P,L.fill[1]*P,L.fill[2]*P],intensity:w}))}}}]);
//# sourceMappingURL=7946.0b2cd041.chunk.js.map