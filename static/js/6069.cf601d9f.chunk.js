"use strict";(self.webpackChunkr3f_examples=self.webpackChunkr3f_examples||[]).push([[6069],{6069:function(e,n,t){t.r(n),t.d(n,{default:function(){return w}});var r=t(3433),a=t(9439),o=t(2791),u=t(7760),i=t(4647),c=t(1690),s=t(4925),f=t(7462),m=t(3599),l=["makeDefault"],d=o.forwardRef((function(e,n){var t=e.makeDefault,r=(0,s.Z)(e,l),a=(0,c.w)((function(e){return e.set})),u=(0,c.w)((function(e){return e.camera})),i=(0,c.w)((function(e){return e.size})),d=o.useRef();return o.useLayoutEffect((function(){d.current&&!r.manual&&d.current.updateProjectionMatrix()}),[i,r]),o.useLayoutEffect((function(){if(t&&d.current){var e=u;return a((function(){return{camera:d.current}})),function(){return a((function(){return{camera:e}}))}}}),[u,d,t,a]),o.createElement("orthographicCamera",(0,f.Z)({left:i.width/-2,right:i.width/2,top:i.height/2,bottom:i.height/-2,ref:(0,m.Z)([d,n])},r))}));function h(e,n){var t=(0,c.w)((function(e){return e.pointer})),r=o.useState((function(){var r=new u.Raycaster;return n&&(0,c.i)(r,n,{}),function(n,a){r.setFromCamera(t,e instanceof u.Camera?e:e.current);var o=this.constructor.prototype.raycast.bind(this);o&&o(r,a)}}));return(0,a.Z)(r,1)[0]}var v=t(4637),p=t(184),g=function(){var e=(0,c.w)(),n=e.gl,t=e.scene,i=e.camera,s=e.size,f=(0,o.useMemo)((function(){return new u.Scene}),[]),m=(0,o.useRef)(),l=(0,o.useRef)(),v=(0,o.useState)(null),g=(0,a.Z)(v,2),w=g[0],x=g[1],E=new u.Matrix4;return(0,c.x)((function(){E.copy(i.matrix).invert(),l.current.quaternion.setFromRotationMatrix(E),n.autoClear=!0,n.render(t,i),n.autoClear=!1,n.clearDepth(),n.render(f,m.current)}),1),(0,c.g)((0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(d,{ref:m,makeDefault:!1,position:[0,0,100]}),(0,p.jsxs)("mesh",{ref:l,raycast:h(m),position:[s.width/2-80,s.height/2-80,0],onPointerOut:function(e){return x(null)},onPointerMove:function(e){return x(Math.floor(e.faceIndex/2))},children:[(0,r.Z)(Array(6)).map((function(e,n){return(0,p.jsx)("meshLambertMaterial",{attach:"material-".concat(n),color:w===n?"hotpink":"white"},n)})),(0,p.jsx)("boxGeometry",{args:[60,60,60]})]}),(0,p.jsx)("ambientLight",{intensity:.5}),(0,p.jsx)("pointLight",{position:[10,10,10],intensity:.5})]}),f)},w=function(e){var n=e.children;return(0,p.jsxs)(p.Fragment,{children:[n,(0,p.jsxs)(i.Xz,{children:[(0,p.jsxs)("mesh",{children:[(0,p.jsx)("torusGeometry",{args:[1,.5,32,100]}),(0,p.jsx)("meshNormalMaterial",{})]}),(0,p.jsx)(v.z,{}),(0,p.jsx)(g,{})]})]})}},4637:function(e,n,t){t.d(n,{z:function(){return s}});var r=t(4925),a=t(7462),o=t(1690),u=t(2791),i=t(233),c=["makeDefault","camera","regress","domElement","enableDamping","onChange","onStart","onEnd"],s=u.forwardRef((function(e,n){var t=e.makeDefault,s=e.camera,f=e.regress,m=e.domElement,l=e.enableDamping,d=void 0===l||l,h=e.onChange,v=e.onStart,p=e.onEnd,g=(0,r.Z)(e,c),w=(0,o.w)((function(e){return e.invalidate})),x=(0,o.w)((function(e){return e.camera})),E=(0,o.w)((function(e){return e.gl})),j=(0,o.w)((function(e){return e.events})),b=(0,o.w)((function(e){return e.set})),y=(0,o.w)((function(e){return e.get})),L=(0,o.w)((function(e){return e.performance})),k=s||x,C=m||j.connected||E.domElement,D=u.useMemo((function(){return new i.z(k)}),[k]);return(0,o.x)((function(){D.enabled&&D.update()}),-1),u.useEffect((function(){return D.connect(C),function(){D.dispose()}}),[C,f,D,w]),u.useEffect((function(){var e=function(e){w(),f&&L.regress(),h&&h(e)};return D.addEventListener("change",e),v&&D.addEventListener("start",v),p&&D.addEventListener("end",p),function(){v&&D.removeEventListener("start",v),p&&D.removeEventListener("end",p),D.removeEventListener("change",e)}}),[h,v,p]),u.useEffect((function(){if(t){var e=y().controls;return b({controls:D}),function(){return b({controls:e})}}}),[t,D]),u.createElement("primitive",(0,a.Z)({ref:n,object:D,enableDamping:d},g))}))}}]);
//# sourceMappingURL=6069.cf601d9f.chunk.js.map