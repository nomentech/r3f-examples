"use strict";(self.webpackChunkr3f_examples=self.webpackChunkr3f_examples||[]).push([[2008],{9409:function(e,t,r){r.r(t),r.d(t,{default:function(){return E}});var n=r(1413),a=r(2791),i=r(7760),o=r(4647),s=r(1690),u=r(5647),v=r(3433),c=r(4925),l=r(7462),f=r(3599),d=["args","map","toneMapped","color","form","intensity","scale","target","children"],m=a.forwardRef((function(e,t){var r=e.args,n=e.map,o=e.toneMapped,m=void 0!==o&&o,h=e.color,p=void 0===h?"white":h,x=e.form,g=void 0===x?"rect":x,y=e.intensity,D=void 0===y?1:y,M=e.scale,U=void 0===M?1:M,w=e.target,j=e.children,b=(0,c.Z)(e,d),E=a.useRef(null);return a.useLayoutEffect((function(){j||b.material||((0,s.i)(E.current.material,{color:p}),E.current.material.color.multiplyScalar(D))}),[p,D,j,b.material]),a.useLayoutEffect((function(){w&&E.current.lookAt(Array.isArray(w)?(0,u.Z)(i.Vector3,(0,v.Z)(w)):w)}),[w]),U=Array.isArray(U)&&2===U.length?[U[0],U[1],1]:U,a.createElement("mesh",(0,l.Z)({ref:(0,f.Z)([E,t]),scale:U},b),"circle"===g?a.createElement("ringGeometry",{args:[0,1,64]}):"ring"===g?a.createElement("ringGeometry",{args:[.5,1,64]}):"rect"===g?a.createElement("planeGeometry",null):a.createElement(g,{args:r}),j||(b.material?null:a.createElement("meshBasicMaterial",{toneMapped:m,map:n,side:i.DoubleSide})))})),h=r(3655),p=r(8202),x=r(9292),g=r(8621),y=r(4552),D=r.p+"static/media/911-transformed.27bfaf1210f7ca424ab0.glb",M=r(2194),U=r(184),w=function(e){var t=(0,h.L)(D),r=t.scene,i=t.nodes,o=t.materials;return(0,a.useMemo)((function(){Object.values(i).forEach((function(e){return e.isMesh&&(e.receiveShadow=e.castShadow=!0)})),(0,s.i)(o.rubber,{color:"#222",roughness:.6,roughnessMap:null,normalScale:[4,4]}),(0,s.i)(o.window,{color:"black",roughness:0,clearcoat:.1}),(0,s.i)(o.coat,{envMapIntensity:4,roughness:.5,metalness:1}),(0,s.i)(o.paint,{roughness:.5,metalness:.8,color:"#555",envMapIntensity:2})}),[i,o]),(0,U.jsx)("primitive",(0,n.Z)({object:r},e))},j=function(e){var t=e.v,r=void 0===t?new i.Vector3:t;return(0,s.x)((function(e){var t=e.clock.elapsedTime;e.camera.position.lerp(r.set(Math.sin(t/5),0,10+Math.cos(t/5)),.05),e.camera.lookAt(0,0,0)}))},b=function(e){var t=e.position,r=void 0===t?[2,0,2,0,2,0,2,0]:t,n=(0,a.useRef)();return(0,s.x)((function(e,t){return(n.current.position.z+=15*t)>60&&(n.current.position.z=-60)})),(0,U.jsx)("group",{rotation:[0,.5,0],children:(0,U.jsx)("group",{ref:n,children:r.map((function(e,t){return(0,U.jsx)(m,{form:"circle",intensity:4,rotation:[Math.PI/2,0,0],position:[e,4,4*t],scale:[3,1,1]},t)}))})})},E=function(e){var t=e.children;return(0,U.jsxs)(U.Fragment,{children:[t,(0,U.jsxs)(o.Xz,{shadows:!0,dpr:[1,2],camera:{position:[-10,0,15],fov:30},children:[(0,U.jsx)("color",{attach:"background",args:[1052768]}),(0,U.jsx)("ambientLight",{intensity:.2}),(0,U.jsx)("spotLight",{position:[0,15,0],angle:.3,penumbra:1,castShadow:!0,intensity:2,"shadow-bias":-1e-4}),(0,U.jsx)(p.j,{resolution:1024,frames:1,position:[0,-1.16,0],scale:10,blur:3,opacity:1,far:10}),(0,U.jsx)(w,{scale:1.6,position:[-.5,-.18,0],rotation:[0,Math.PI/5,0]}),(0,U.jsxs)(x.qA,{frames:1/0,resolution:256,children:[(0,U.jsx)(m,{intensity:.75,"rotation-x":Math.PI/2,position:[0,5,-9],scale:[10,10,1]}),(0,U.jsx)(b,{}),(0,U.jsx)(m,{intensity:4,"rotation-y":Math.PI/2,position:[-5,1,-1],scale:[20,.1,1]}),(0,U.jsx)(m,{"rotation-y":Math.PI/2,position:[-5,-1,-1],scale:[20,.5,1]}),(0,U.jsx)(m,{"rotation-y":-Math.PI/2,position:[10,1,0],scale:[20,1,1]}),(0,U.jsx)(g.b,{speed:5,floatIntensity:2,rotationIntensity:2,children:(0,U.jsx)(m,{form:"ring",color:"red",intensity:1,scale:10,position:[-15,4,-18],target:[0,0,0]})}),(0,U.jsxs)("mesh",{scale:100,children:[(0,U.jsx)("sphereGeometry",{args:[1,64,64]}),(0,U.jsx)(M.ud,{side:i.BackSide,color:"#444",alpha:1,children:(0,U.jsx)(M.HE,{colorA:"blue",colorB:"black",alpha:.5,mode:"normal",near:0,far:300,origin:[100,100,100]})})]})]}),(0,U.jsx)(y.P,{}),(0,U.jsx)(j,{})]})]})}},4552:function(e,t,r){r.d(t,{P:function(){return i}});var n=r(2791),a=r(1690);function i(){var e=(0,a.w)((function(e){return e.gl}));return(0,n.useEffect)((function(){return e.shadowMap.autoUpdate=!1,e.shadowMap.needsUpdate=!0,function(){e.shadowMap.autoUpdate=e.shadowMap.needsUpdate=!0}}),[e.shadowMap]),null}},8202:function(e,t,r){r.d(t,{j:function(){return d}});var n=r(1413),a=r(9439),i=r(4925),o=r(7462),s=r(2791),u=r(7760),v=r(1690),c={uniforms:{tDiffuse:{value:null},h:{value:1/512}},vertexShader:"\n      varying vec2 vUv;\n\n      void main() {\n\n        vUv = uv;\n        gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\n      }\n  ",fragmentShader:"\n    uniform sampler2D tDiffuse;\n    uniform float h;\n\n    varying vec2 vUv;\n\n    void main() {\n\n    \tvec4 sum = vec4( 0.0 );\n\n    \tsum += texture2D( tDiffuse, vec2( vUv.x - 4.0 * h, vUv.y ) ) * 0.051;\n    \tsum += texture2D( tDiffuse, vec2( vUv.x - 3.0 * h, vUv.y ) ) * 0.0918;\n    \tsum += texture2D( tDiffuse, vec2( vUv.x - 2.0 * h, vUv.y ) ) * 0.12245;\n    \tsum += texture2D( tDiffuse, vec2( vUv.x - 1.0 * h, vUv.y ) ) * 0.1531;\n    \tsum += texture2D( tDiffuse, vec2( vUv.x, vUv.y ) ) * 0.1633;\n    \tsum += texture2D( tDiffuse, vec2( vUv.x + 1.0 * h, vUv.y ) ) * 0.1531;\n    \tsum += texture2D( tDiffuse, vec2( vUv.x + 2.0 * h, vUv.y ) ) * 0.12245;\n    \tsum += texture2D( tDiffuse, vec2( vUv.x + 3.0 * h, vUv.y ) ) * 0.0918;\n    \tsum += texture2D( tDiffuse, vec2( vUv.x + 4.0 * h, vUv.y ) ) * 0.051;\n\n    \tgl_FragColor = sum;\n\n    }\n  "},l={uniforms:{tDiffuse:{value:null},v:{value:1/512}},vertexShader:"\n    varying vec2 vUv;\n\n    void main() {\n\n      vUv = uv;\n      gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\n    }\n  ",fragmentShader:"\n\n  uniform sampler2D tDiffuse;\n  uniform float v;\n\n  varying vec2 vUv;\n\n  void main() {\n\n    vec4 sum = vec4( 0.0 );\n\n    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 4.0 * v ) ) * 0.051;\n    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 3.0 * v ) ) * 0.0918;\n    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 2.0 * v ) ) * 0.12245;\n    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 1.0 * v ) ) * 0.1531;\n    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y ) ) * 0.1633;\n    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 1.0 * v ) ) * 0.1531;\n    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 2.0 * v ) ) * 0.12245;\n    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 3.0 * v ) ) * 0.0918;\n    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 4.0 * v ) ) * 0.051;\n\n    gl_FragColor = sum;\n\n  }\n  "},f=["scale","frames","opacity","width","height","blur","far","resolution","smooth","color","depthWrite","renderOrder"],d=s.forwardRef((function(e,t){var r=e.scale,d=void 0===r?10:r,m=e.frames,h=void 0===m?1/0:m,p=e.opacity,x=void 0===p?1:p,g=e.width,y=void 0===g?1:g,D=e.height,M=void 0===D?1:D,U=e.blur,w=void 0===U?1:U,j=e.far,b=void 0===j?10:j,E=e.resolution,S=void 0===E?512:E,I=e.smooth,k=void 0===I||I,R=e.color,Z=void 0===R?"#000000":R,P=e.depthWrite,A=void 0!==P&&P,T=e.renderOrder,C=(0,i.Z)(e,f),G=(0,v.w)((function(e){return e.scene})),L=(0,v.w)((function(e){return e.gl})),B=s.useRef(null);y*=Array.isArray(d)?d[0]:d||1,M*=Array.isArray(d)?d[1]:d||1;var W=s.useMemo((function(){var e=new u.WebGLRenderTarget(S,S),t=new u.WebGLRenderTarget(S,S);t.texture.generateMipmaps=e.texture.generateMipmaps=!1;var r=new u.PlaneBufferGeometry(y,M).rotateX(Math.PI/2),a=new u.Mesh(r),i=new u.MeshDepthMaterial;i.depthTest=i.depthWrite=!1,i.onBeforeCompile=function(e){e.uniforms=(0,n.Z)((0,n.Z)({},e.uniforms),{},{ucolor:{value:new u.Color(Z).convertSRGBToLinear()}}),e.fragmentShader=e.fragmentShader.replace("void main() {","uniform vec3 ucolor;\n           void main() {\n          "),e.fragmentShader=e.fragmentShader.replace("vec4( vec3( 1.0 - fragCoordZ ), opacity );","vec4( ucolor, ( 1.0 - fragCoordZ ) * 1.0 );")};var o=new u.ShaderMaterial(c),s=new u.ShaderMaterial(l);return s.depthTest=o.depthTest=!1,[e,r,i,a,o,s,t]}),[S,y,M,d,Z]),_=(0,a.Z)(W,7),z=_[0],O=_[1],V=_[2],F=_[3],X=_[4],q=_[5],H=_[6],J=function(e){F.visible=!0,F.material=X,X.uniforms.tDiffuse.value=z.texture,X.uniforms.h.value=1*e/256,L.setRenderTarget(H),L.render(F,B.current),F.material=q,q.uniforms.tDiffuse.value=H.texture,q.uniforms.v.value=1*e/256,L.setRenderTarget(z),L.render(F,B.current),F.visible=!1},K=0;return(0,v.x)((function(){if(B.current&&(h===1/0||K<h)){var e=G.background;G.background=null;var t=G.overrideMaterial;G.overrideMaterial=V,L.setRenderTarget(z),L.render(G,B.current),G.overrideMaterial=t,J(w),k&&J(.4*w),L.setRenderTarget(null),G.background=e,K++}})),s.createElement("group",(0,o.Z)({"rotation-x":Math.PI/2},C,{ref:t}),s.createElement("mesh",{renderOrder:T,geometry:O,scale:[1,-1,1],rotation:[-Math.PI/2,0,0]},s.createElement("meshBasicMaterial",{map:z.texture,"map-encoding":L.outputEncoding,transparent:!0,opacity:x,depthWrite:A})),s.createElement("orthographicCamera",{ref:B,args:[-y/2,y/2,M/2,-M/2,0,b]}))}))},8621:function(e,t,r){r.d(t,{b:function(){return u}});var n=r(4925),a=r(2791),i=r(1690),o=r(3599),s=["children","speed","rotationIntensity","floatIntensity"],u=a.forwardRef((function(e,t){var r=e.children,u=e.speed,v=void 0===u?1:u,c=e.rotationIntensity,l=void 0===c?1:c,f=e.floatIntensity,d=void 0===f?1:f,m=(0,n.Z)(e,s),h=a.useRef(null),p=a.useRef(1e4*Math.random());return(0,i.x)((function(e){var t=p.current+e.clock.getElapsedTime();h.current.rotation.x=Math.cos(t/4*v)/8*l,h.current.rotation.y=Math.sin(t/4*v)/8*l,h.current.rotation.z=Math.sin(t/4*v)/20*l,h.current.position.y=Math.sin(t/4*v)/10*d})),a.createElement("group",m,a.createElement("group",{ref:(0,o.Z)([h,t])},r))}))}}]);
//# sourceMappingURL=2008.ed1b8538.chunk.js.map