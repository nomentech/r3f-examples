"use strict";(self.webpackChunkr3f_examples=self.webpackChunkr3f_examples||[]).push([[383],{8202:function(e,t,n){n.d(t,{j:function(){return d}});var o=n(1413),a=n(9439),r=n(4925),i=n(7462),c=n(2791),u=n(323),s=n(6406),l={uniforms:{tDiffuse:{value:null},h:{value:1/512}},vertexShader:"\n      varying vec2 vUv;\n\n      void main() {\n\n        vUv = uv;\n        gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\n      }\n  ",fragmentShader:"\n    uniform sampler2D tDiffuse;\n    uniform float h;\n\n    varying vec2 vUv;\n\n    void main() {\n\n    \tvec4 sum = vec4( 0.0 );\n\n    \tsum += texture2D( tDiffuse, vec2( vUv.x - 4.0 * h, vUv.y ) ) * 0.051;\n    \tsum += texture2D( tDiffuse, vec2( vUv.x - 3.0 * h, vUv.y ) ) * 0.0918;\n    \tsum += texture2D( tDiffuse, vec2( vUv.x - 2.0 * h, vUv.y ) ) * 0.12245;\n    \tsum += texture2D( tDiffuse, vec2( vUv.x - 1.0 * h, vUv.y ) ) * 0.1531;\n    \tsum += texture2D( tDiffuse, vec2( vUv.x, vUv.y ) ) * 0.1633;\n    \tsum += texture2D( tDiffuse, vec2( vUv.x + 1.0 * h, vUv.y ) ) * 0.1531;\n    \tsum += texture2D( tDiffuse, vec2( vUv.x + 2.0 * h, vUv.y ) ) * 0.12245;\n    \tsum += texture2D( tDiffuse, vec2( vUv.x + 3.0 * h, vUv.y ) ) * 0.0918;\n    \tsum += texture2D( tDiffuse, vec2( vUv.x + 4.0 * h, vUv.y ) ) * 0.051;\n\n    \tgl_FragColor = sum;\n\n    }\n  "},v={uniforms:{tDiffuse:{value:null},v:{value:1/512}},vertexShader:"\n    varying vec2 vUv;\n\n    void main() {\n\n      vUv = uv;\n      gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\n    }\n  ",fragmentShader:"\n\n  uniform sampler2D tDiffuse;\n  uniform float v;\n\n  varying vec2 vUv;\n\n  void main() {\n\n    vec4 sum = vec4( 0.0 );\n\n    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 4.0 * v ) ) * 0.051;\n    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 3.0 * v ) ) * 0.0918;\n    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 2.0 * v ) ) * 0.12245;\n    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 1.0 * v ) ) * 0.1531;\n    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y ) ) * 0.1633;\n    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 1.0 * v ) ) * 0.1531;\n    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 2.0 * v ) ) * 0.12245;\n    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 3.0 * v ) ) * 0.0918;\n    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 4.0 * v ) ) * 0.051;\n\n    gl_FragColor = sum;\n\n  }\n  "},m=["scale","frames","opacity","width","height","blur","far","resolution","smooth","color","depthWrite","renderOrder"],d=c.forwardRef((function(e,t){var n=e.scale,d=void 0===n?10:n,p=e.frames,f=void 0===p?1/0:p,h=e.opacity,b=void 0===h?1:h,g=e.width,E=void 0===g?1:g,Z=e.height,y=void 0===Z?1:Z,O=e.blur,D=void 0===O?1:O,P=e.far,x=void 0===P?10:P,w=e.resolution,T=void 0===w?512:w,M=e.smooth,U=void 0===M||M,A=e.color,j=void 0===A?"#000000":A,L=e.depthWrite,C=void 0!==L&&L,S=e.renderOrder,N=(0,r.Z)(e,m),R=(0,s.w)((function(e){return e.scene})),k=(0,s.w)((function(e){return e.gl})),I=c.useRef(null);E*=Array.isArray(d)?d[0]:d||1,y*=Array.isArray(d)?d[1]:d||1;var Y=c.useMemo((function(){var e=new u.WebGLRenderTarget(T,T),t=new u.WebGLRenderTarget(T,T);t.texture.generateMipmaps=e.texture.generateMipmaps=!1;var n=new u.PlaneBufferGeometry(E,y).rotateX(Math.PI/2),a=new u.Mesh(n),r=new u.MeshDepthMaterial;r.depthTest=r.depthWrite=!1,r.onBeforeCompile=function(e){e.uniforms=(0,o.Z)((0,o.Z)({},e.uniforms),{},{ucolor:{value:new u.Color(j).convertSRGBToLinear()}}),e.fragmentShader=e.fragmentShader.replace("void main() {","uniform vec3 ucolor;\n           void main() {\n          "),e.fragmentShader=e.fragmentShader.replace("vec4( vec3( 1.0 - fragCoordZ ), opacity );","vec4( ucolor, ( 1.0 - fragCoordZ ) * 1.0 );")};var i=new u.ShaderMaterial(l),c=new u.ShaderMaterial(v);return c.depthTest=i.depthTest=!1,[e,n,r,a,i,c,t]}),[T,E,y,d,j]),_=(0,a.Z)(Y,7),H=_[0],V=_[1],z=_[2],F=_[3],X=_[4],K=_[5],W=_[6],G=function(e){F.visible=!0,F.material=X,X.uniforms.tDiffuse.value=H.texture,X.uniforms.h.value=1*e/256,k.setRenderTarget(W),k.render(F,I.current),F.material=K,K.uniforms.tDiffuse.value=W.texture,K.uniforms.v.value=1*e/256,k.setRenderTarget(H),k.render(F,I.current),F.visible=!1},B=0;return(0,s.x)((function(){if(I.current&&(f===1/0||B<f)){var e=R.background;R.background=null;var t=R.overrideMaterial;R.overrideMaterial=z,k.setRenderTarget(H),k.render(R,I.current),R.overrideMaterial=t,G(D),U&&G(.4*D),k.setRenderTarget(null),R.background=e,B++}})),c.createElement("group",(0,i.Z)({"rotation-x":Math.PI/2},N,{ref:t}),c.createElement("mesh",{renderOrder:S,geometry:V,scale:[1,-1,1],rotation:[-Math.PI/2,0,0]},c.createElement("meshBasicMaterial",{map:H.texture,"map-encoding":k.outputEncoding,transparent:!0,opacity:b,depthWrite:C})),c.createElement("orthographicCamera",{ref:I,args:[-E/2,E/2,y/2,-y/2,0,x]}))}))},3520:function(e,t,n){n.d(t,{z:function(){return b}});var o=n(4925),a=n(7462),r=n(6406),i=n(2791),c=n(3144),u=n(5671),s=n(7326),l=n(136),v=n(9388),m=n(4942),d=n(323),p=function(e,t){return(e%t+t)%t},f=function(e){(0,l.Z)(n,e);var t=(0,v.Z)(n);function n(e,o){var a;(0,u.Z)(this,n),a=t.call(this),(0,m.Z)((0,s.Z)(a),"object",void 0),(0,m.Z)((0,s.Z)(a),"domElement",void 0),(0,m.Z)((0,s.Z)(a),"enabled",!0),(0,m.Z)((0,s.Z)(a),"target",new d.Vector3),(0,m.Z)((0,s.Z)(a),"minDistance",0),(0,m.Z)((0,s.Z)(a),"maxDistance",1/0),(0,m.Z)((0,s.Z)(a),"minZoom",0),(0,m.Z)((0,s.Z)(a),"maxZoom",1/0),(0,m.Z)((0,s.Z)(a),"minPolarAngle",0),(0,m.Z)((0,s.Z)(a),"maxPolarAngle",Math.PI),(0,m.Z)((0,s.Z)(a),"minAzimuthAngle",-1/0),(0,m.Z)((0,s.Z)(a),"maxAzimuthAngle",1/0),(0,m.Z)((0,s.Z)(a),"enableDamping",!1),(0,m.Z)((0,s.Z)(a),"dampingFactor",.05),(0,m.Z)((0,s.Z)(a),"enableZoom",!0),(0,m.Z)((0,s.Z)(a),"zoomSpeed",1),(0,m.Z)((0,s.Z)(a),"enableRotate",!0),(0,m.Z)((0,s.Z)(a),"rotateSpeed",1),(0,m.Z)((0,s.Z)(a),"enablePan",!0),(0,m.Z)((0,s.Z)(a),"panSpeed",1),(0,m.Z)((0,s.Z)(a),"screenSpacePanning",!0),(0,m.Z)((0,s.Z)(a),"keyPanSpeed",7),(0,m.Z)((0,s.Z)(a),"autoRotate",!1),(0,m.Z)((0,s.Z)(a),"autoRotateSpeed",2),(0,m.Z)((0,s.Z)(a),"reverseOrbit",!1),(0,m.Z)((0,s.Z)(a),"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),(0,m.Z)((0,s.Z)(a),"mouseButtons",{LEFT:d.MOUSE.ROTATE,MIDDLE:d.MOUSE.DOLLY,RIGHT:d.MOUSE.PAN}),(0,m.Z)((0,s.Z)(a),"touches",{ONE:d.TOUCH.ROTATE,TWO:d.TOUCH.DOLLY_PAN}),(0,m.Z)((0,s.Z)(a),"target0",void 0),(0,m.Z)((0,s.Z)(a),"position0",void 0),(0,m.Z)((0,s.Z)(a),"zoom0",void 0),(0,m.Z)((0,s.Z)(a),"_domElementKeyEvents",null),(0,m.Z)((0,s.Z)(a),"getPolarAngle",void 0),(0,m.Z)((0,s.Z)(a),"getAzimuthalAngle",void 0),(0,m.Z)((0,s.Z)(a),"setPolarAngle",void 0),(0,m.Z)((0,s.Z)(a),"setAzimuthalAngle",void 0),(0,m.Z)((0,s.Z)(a),"getDistance",void 0),(0,m.Z)((0,s.Z)(a),"listenToKeyEvents",void 0),(0,m.Z)((0,s.Z)(a),"saveState",void 0),(0,m.Z)((0,s.Z)(a),"reset",void 0),(0,m.Z)((0,s.Z)(a),"update",void 0),(0,m.Z)((0,s.Z)(a),"connect",void 0),(0,m.Z)((0,s.Z)(a),"dispose",void 0),a.object=e,a.domElement=o,a.target0=a.target.clone(),a.position0=a.object.position.clone(),a.zoom0=a.object instanceof d.PerspectiveCamera?a.object.zoom:1,a.getPolarAngle=function(){return b.phi},a.getAzimuthalAngle=function(){return b.theta},a.setPolarAngle=function(e){var t=p(e,2*Math.PI),n=b.phi;n<0&&(n+=2*Math.PI),t<0&&(t+=2*Math.PI);var o=Math.abs(t-n);2*Math.PI-o<o&&(t<n?t+=2*Math.PI:n+=2*Math.PI),g.phi=t-n,r.update()},a.setAzimuthalAngle=function(e){var t=p(e,2*Math.PI),n=b.theta;n<0&&(n+=2*Math.PI),t<0&&(t+=2*Math.PI);var o=Math.abs(t-n);2*Math.PI-o<o&&(t<n?t+=2*Math.PI:n+=2*Math.PI),g.theta=t-n,r.update()},a.getDistance=function(){return r.object.position.distanceTo(r.target)},a.listenToKeyEvents=function(e){e.addEventListener("keydown",ee),a._domElementKeyEvents=e},a.saveState=function(){r.target0.copy(r.target),r.position0.copy(r.object.position),r.zoom0=r.object instanceof d.PerspectiveCamera?r.object.zoom:1},a.reset=function(){r.target.copy(r.target0),r.object.position.copy(r.position0),r.object instanceof d.PerspectiveCamera&&(r.object.zoom=r.zoom0,r.object.updateProjectionMatrix()),r.dispatchEvent(i),r.update(),f=v.NONE},a.update=function(){var t=new d.Vector3,n=(new d.Quaternion).setFromUnitVectors(e.up,new d.Vector3(0,1,0)),o=n.clone().invert(),a=new d.Vector3,c=new d.Quaternion,u=2*Math.PI;return function(){var e=r.object.position;t.copy(e).sub(r.target),t.applyQuaternion(n),b.setFromVector3(t),r.autoRotate&&f===v.NONE&&S(2*Math.PI/60/60*r.autoRotateSpeed),r.enableDamping?(b.theta+=g.theta*r.dampingFactor,b.phi+=g.phi*r.dampingFactor):(b.theta+=g.theta,b.phi+=g.phi);var s=r.minAzimuthAngle,l=r.maxAzimuthAngle;return isFinite(s)&&isFinite(l)&&(s<-Math.PI?s+=u:s>Math.PI&&(s-=u),l<-Math.PI?l+=u:l>Math.PI&&(l-=u),b.theta=s<=l?Math.max(s,Math.min(l,b.theta)):b.theta>(s+l)/2?Math.max(s,b.theta):Math.min(l,b.theta)),b.phi=Math.max(r.minPolarAngle,Math.min(r.maxPolarAngle,b.phi)),b.makeSafe(),b.radius*=E,b.radius=Math.max(r.minDistance,Math.min(r.maxDistance,b.radius)),!0===r.enableDamping?r.target.addScaledVector(Z,r.dampingFactor):r.target.add(Z),t.setFromSpherical(b),t.applyQuaternion(o),e.copy(r.target).add(t),r.object.lookAt(r.target),!0===r.enableDamping?(g.theta*=1-r.dampingFactor,g.phi*=1-r.dampingFactor,Z.multiplyScalar(1-r.dampingFactor)):(g.set(0,0,0),Z.set(0,0,0)),E=1,!!(y||a.distanceToSquared(r.object.position)>h||8*(1-c.dot(r.object.quaternion))>h)&&(r.dispatchEvent(i),a.copy(r.object.position),c.copy(r.object.quaternion),y=!1,!0)}}(),a.connect=function(e){e===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),r.domElement=e,r.domElement.style.touchAction="none",r.domElement.addEventListener("contextmenu",te),r.domElement.addEventListener("pointerdown",B),r.domElement.addEventListener("pointercancel",J),r.domElement.addEventListener("wheel",$)},a.dispose=function(){var e,t,n,o,a,i;null===(e=r.domElement)||void 0===e||e.removeEventListener("contextmenu",te),null===(t=r.domElement)||void 0===t||t.removeEventListener("pointerdown",B),null===(n=r.domElement)||void 0===n||n.removeEventListener("pointercancel",J),null===(o=r.domElement)||void 0===o||o.removeEventListener("wheel",$),null===(a=r.domElement)||void 0===a||a.ownerDocument.removeEventListener("pointermove",q),null===(i=r.domElement)||void 0===i||i.ownerDocument.removeEventListener("pointerup",Q),null!==r._domElementKeyEvents&&r._domElementKeyEvents.removeEventListener("keydown",ee)};var r=(0,s.Z)(a),i={type:"change"},c={type:"start"},l={type:"end"},v={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6},f=v.NONE,h=1e-6,b=new d.Spherical,g=new d.Spherical,E=1,Z=new d.Vector3,y=!1,O=new d.Vector2,D=new d.Vector2,P=new d.Vector2,x=new d.Vector2,w=new d.Vector2,T=new d.Vector2,M=new d.Vector2,U=new d.Vector2,A=new d.Vector2,j=[],L={};function C(){return Math.pow(.95,r.zoomSpeed)}function S(e){r.reverseOrbit?g.theta+=e:g.theta-=e}function N(e){r.reverseOrbit?g.phi+=e:g.phi-=e}var R=function(){var e=new d.Vector3;return function(t,n){e.setFromMatrixColumn(n,0),e.multiplyScalar(-t),Z.add(e)}}(),k=function(){var e=new d.Vector3;return function(t,n){!0===r.screenSpacePanning?e.setFromMatrixColumn(n,1):(e.setFromMatrixColumn(n,0),e.crossVectors(r.object.up,e)),e.multiplyScalar(t),Z.add(e)}}(),I=function(){var e=new d.Vector3;return function(t,n){var o=r.domElement;if(o&&r.object instanceof d.PerspectiveCamera&&r.object.isPerspectiveCamera){var a=r.object.position;e.copy(a).sub(r.target);var i=e.length();i*=Math.tan(r.object.fov/2*Math.PI/180),R(2*t*i/o.clientHeight,r.object.matrix),k(2*n*i/o.clientHeight,r.object.matrix)}else o&&r.object instanceof d.OrthographicCamera&&r.object.isOrthographicCamera?(R(t*(r.object.right-r.object.left)/r.object.zoom/o.clientWidth,r.object.matrix),k(n*(r.object.top-r.object.bottom)/r.object.zoom/o.clientHeight,r.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),r.enablePan=!1)}}();function Y(e){r.object instanceof d.PerspectiveCamera&&r.object.isPerspectiveCamera?E/=e:r.object instanceof d.OrthographicCamera&&r.object.isOrthographicCamera?(r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom*e)),r.object.updateProjectionMatrix(),y=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),r.enableZoom=!1)}function _(e){r.object instanceof d.PerspectiveCamera&&r.object.isPerspectiveCamera?E*=e:r.object instanceof d.OrthographicCamera&&r.object.isOrthographicCamera?(r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/e)),r.object.updateProjectionMatrix(),y=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),r.enableZoom=!1)}function H(e){O.set(e.clientX,e.clientY)}function V(e){x.set(e.clientX,e.clientY)}function z(){if(1==j.length)O.set(j[0].pageX,j[0].pageY);else{var e=.5*(j[0].pageX+j[1].pageX),t=.5*(j[0].pageY+j[1].pageY);O.set(e,t)}}function F(){if(1==j.length)x.set(j[0].pageX,j[0].pageY);else{var e=.5*(j[0].pageX+j[1].pageX),t=.5*(j[0].pageY+j[1].pageY);x.set(e,t)}}function X(){var e=j[0].pageX-j[1].pageX,t=j[0].pageY-j[1].pageY,n=Math.sqrt(e*e+t*t);M.set(0,n)}function K(e){if(1==j.length)D.set(e.pageX,e.pageY);else{var t=ae(e),n=.5*(e.pageX+t.x),o=.5*(e.pageY+t.y);D.set(n,o)}P.subVectors(D,O).multiplyScalar(r.rotateSpeed);var a=r.domElement;a&&(S(2*Math.PI*P.x/a.clientHeight),N(2*Math.PI*P.y/a.clientHeight)),O.copy(D)}function W(e){if(1==j.length)w.set(e.pageX,e.pageY);else{var t=ae(e),n=.5*(e.pageX+t.x),o=.5*(e.pageY+t.y);w.set(n,o)}T.subVectors(w,x).multiplyScalar(r.panSpeed),I(T.x,T.y),x.copy(w)}function G(e){var t=ae(e),n=e.pageX-t.x,o=e.pageY-t.y,a=Math.sqrt(n*n+o*o);U.set(0,a),A.set(0,Math.pow(U.y/M.y,r.zoomSpeed)),Y(A.y),M.copy(U)}function B(e){if(!1!==r.enabled){var t,n;if(0===j.length)null===(t=r.domElement)||void 0===t||t.ownerDocument.addEventListener("pointermove",q),null===(n=r.domElement)||void 0===n||n.ownerDocument.addEventListener("pointerup",Q);!function(e){j.push(e)}(e),"touch"===e.pointerType?function(e){switch(oe(e),j.length){case 1:switch(r.touches.ONE){case d.TOUCH.ROTATE:if(!1===r.enableRotate)return;z(),f=v.TOUCH_ROTATE;break;case d.TOUCH.PAN:if(!1===r.enablePan)return;F(),f=v.TOUCH_PAN;break;default:f=v.NONE}break;case 2:switch(r.touches.TWO){case d.TOUCH.DOLLY_PAN:if(!1===r.enableZoom&&!1===r.enablePan)return;r.enableZoom&&X(),r.enablePan&&F(),f=v.TOUCH_DOLLY_PAN;break;case d.TOUCH.DOLLY_ROTATE:if(!1===r.enableZoom&&!1===r.enableRotate)return;r.enableZoom&&X(),r.enableRotate&&z(),f=v.TOUCH_DOLLY_ROTATE;break;default:f=v.NONE}break;default:f=v.NONE}f!==v.NONE&&r.dispatchEvent(c)}(e):function(e){var t;switch(e.button){case 0:t=r.mouseButtons.LEFT;break;case 1:t=r.mouseButtons.MIDDLE;break;case 2:t=r.mouseButtons.RIGHT;break;default:t=-1}switch(t){case d.MOUSE.DOLLY:if(!1===r.enableZoom)return;!function(e){M.set(e.clientX,e.clientY)}(e),f=v.DOLLY;break;case d.MOUSE.ROTATE:if(e.ctrlKey||e.metaKey||e.shiftKey){if(!1===r.enablePan)return;V(e),f=v.PAN}else{if(!1===r.enableRotate)return;H(e),f=v.ROTATE}break;case d.MOUSE.PAN:if(e.ctrlKey||e.metaKey||e.shiftKey){if(!1===r.enableRotate)return;H(e),f=v.ROTATE}else{if(!1===r.enablePan)return;V(e),f=v.PAN}break;default:f=v.NONE}f!==v.NONE&&r.dispatchEvent(c)}(e)}}function q(e){!1!==r.enabled&&("touch"===e.pointerType?function(e){switch(oe(e),f){case v.TOUCH_ROTATE:if(!1===r.enableRotate)return;K(e),r.update();break;case v.TOUCH_PAN:if(!1===r.enablePan)return;W(e),r.update();break;case v.TOUCH_DOLLY_PAN:if(!1===r.enableZoom&&!1===r.enablePan)return;!function(e){r.enableZoom&&G(e),r.enablePan&&W(e)}(e),r.update();break;case v.TOUCH_DOLLY_ROTATE:if(!1===r.enableZoom&&!1===r.enableRotate)return;!function(e){r.enableZoom&&G(e),r.enableRotate&&K(e)}(e),r.update();break;default:f=v.NONE}}(e):function(e){if(!1===r.enabled)return;switch(f){case v.ROTATE:if(!1===r.enableRotate)return;!function(e){D.set(e.clientX,e.clientY),P.subVectors(D,O).multiplyScalar(r.rotateSpeed);var t=r.domElement;t&&(S(2*Math.PI*P.x/t.clientHeight),N(2*Math.PI*P.y/t.clientHeight)),O.copy(D),r.update()}(e);break;case v.DOLLY:if(!1===r.enableZoom)return;!function(e){U.set(e.clientX,e.clientY),A.subVectors(U,M),A.y>0?Y(C()):A.y<0&&_(C()),M.copy(U),r.update()}(e);break;case v.PAN:if(!1===r.enablePan)return;!function(e){w.set(e.clientX,e.clientY),T.subVectors(w,x).multiplyScalar(r.panSpeed),I(T.x,T.y),x.copy(w),r.update()}(e)}}(e))}function Q(e){var t,n,o;(ne(e),0===j.length)&&(null===(t=r.domElement)||void 0===t||t.releasePointerCapture(e.pointerId),null===(n=r.domElement)||void 0===n||n.ownerDocument.removeEventListener("pointermove",q),null===(o=r.domElement)||void 0===o||o.ownerDocument.removeEventListener("pointerup",Q));r.dispatchEvent(l),f=v.NONE}function J(e){ne(e)}function $(e){!1===r.enabled||!1===r.enableZoom||f!==v.NONE&&f!==v.ROTATE||(e.preventDefault(),r.dispatchEvent(c),function(e){e.deltaY<0?_(C()):e.deltaY>0&&Y(C()),r.update()}(e),r.dispatchEvent(l))}function ee(e){!1!==r.enabled&&!1!==r.enablePan&&function(e){var t=!1;switch(e.code){case r.keys.UP:I(0,r.keyPanSpeed),t=!0;break;case r.keys.BOTTOM:I(0,-r.keyPanSpeed),t=!0;break;case r.keys.LEFT:I(r.keyPanSpeed,0),t=!0;break;case r.keys.RIGHT:I(-r.keyPanSpeed,0),t=!0}t&&(e.preventDefault(),r.update())}(e)}function te(e){!1!==r.enabled&&e.preventDefault()}function ne(e){delete L[e.pointerId];for(var t=0;t<j.length;t++)if(j[t].pointerId==e.pointerId)return void j.splice(t,1)}function oe(e){var t=L[e.pointerId];void 0===t&&(t=new d.Vector2,L[e.pointerId]=t),t.set(e.pageX,e.pageY)}function ae(e){var t=e.pointerId===j[0].pointerId?j[1]:j[0];return L[t.pointerId]}return void 0!==o&&a.connect(o),a.update(),a}return(0,c.Z)(n)}(d.EventDispatcher),h=["makeDefault","camera","regress","domElement","enableDamping","onChange","onStart","onEnd"],b=i.forwardRef((function(e,t){var n=e.makeDefault,c=e.camera,u=e.regress,s=e.domElement,l=e.enableDamping,v=void 0===l||l,m=e.onChange,d=e.onStart,p=e.onEnd,b=(0,o.Z)(e,h),g=(0,r.w)((function(e){return e.invalidate})),E=(0,r.w)((function(e){return e.camera})),Z=(0,r.w)((function(e){return e.gl})),y=(0,r.w)((function(e){return e.events})),O=(0,r.w)((function(e){return e.set})),D=(0,r.w)((function(e){return e.get})),P=(0,r.w)((function(e){return e.performance})),x=c||E,w=s||y.connected||Z.domElement,T=i.useMemo((function(){return new f(x)}),[x]);return(0,r.x)((function(){T.enabled&&T.update()}),-1),i.useEffect((function(){return T.connect(w),function(){T.dispose()}}),[w,u,T,g]),i.useEffect((function(){var e=function(e){g(),u&&P.regress(),m&&m(e)};return T.addEventListener("change",e),d&&T.addEventListener("start",d),p&&T.addEventListener("end",p),function(){d&&T.removeEventListener("start",d),p&&T.removeEventListener("end",p),T.removeEventListener("change",e)}}),[m,d,p]),i.useEffect((function(){if(n){var e=D().controls;return O({controls:T}),function(){return O({controls:e})}}}),[n,T]),i.createElement("primitive",(0,a.Z)({ref:t,object:T,enableDamping:v},b))}))}}]);
//# sourceMappingURL=383.17a2957f.chunk.js.map