"use strict";(self.webpackChunkr3f_examples=self.webpackChunkr3f_examples||[]).push([[1168],{2319:function(e,n,t){t.r(n),t.d(n,{default:function(){return M}});var r=t(1413),a=t(3433),o=t(2791),i=t(4647),s=t(4925),c=t(7462),u=t(1690),d=t(3599),f=["children","distances"],l=o.forwardRef((function(e,n){var t=e.children,r=e.distances,a=(0,s.Z)(e,f),i=o.useRef(null);return o.useLayoutEffect((function(){var e=i.current;e.levels.length=0,e.children.forEach((function(n,t){return e.levels.push({object:n,distance:r[t]})}))})),(0,u.x)((function(e){var n;return null==(n=i.current)?void 0:n.update(e.camera)})),o.createElement("lOD",(0,c.Z)({ref:(0,d.Z)([i,n])},a),t)})),m=t(3655),h=t(4637),p=t(9292),v=t.p+"static/media/bust-1-d.a0e5f5de682320debd6f.glb",g=t.p+"static/media/bust-2-d.d95909838adec5e7026e.glb",b=t.p+"static/media/bust-3-d.1751493a9913d1994b4f.glb",w=t.p+"static/media/bust-4-d.d2121863cb7fc4eff2a0.glb",E=t(184),x=(0,a.Z)(Array(800)).map((function(){return{position:[40-80*Math.random(),40-80*Math.random(),40-80*Math.random()],rotation:[Math.random()*Math.PI*2,Math.random()*Math.PI*2,Math.random()*Math.PI*2]}})),j=function(e){var n=(0,m.L)([v,g,b,w]);return(0,E.jsxs)(l,(0,r.Z)((0,r.Z)({distances:[0,15,25,35,100]},e),{},{children:[n.map((function(e,n){var t=e.nodes,r=e.materials;return(0,E.jsx)("mesh",{receiveShadow:!0,castShadow:!0,geometry:t.Mesh_0001.geometry,material:r.default,"material-envMapIntensity":.25},n)})),(0,E.jsx)("mesh",{})]}))},M=function(e){var n=e.children;return(0,E.jsxs)(E.Fragment,{children:[n,(0,E.jsx)(o.Suspense,{fallback:(0,E.jsx)("span",{children:"loading..."}),children:(0,E.jsxs)(i.Xz,{shadows:!0,frameloop:"demand",dpr:[1,2],camera:{position:[0,0,40]},onCreated:function(e){var n=e.gl;return n.shadowMap.autoUpdate=!1,n.shadowMap.needsUpdate=!0},children:[x.map((function(e,n){return(0,E.jsx)(j,(0,r.Z)({},e),n)})),(0,E.jsx)(h.z,{zoomSpeed:.075}),(0,E.jsx)("pointLight",{position:[0,0,0],intensity:.5}),(0,E.jsx)("spotLight",{intensity:2.5,position:[50,50,50],castShadow:!0}),(0,E.jsx)(p.qA,{preset:"city"})]})})]})}},4637:function(e,n,t){t.d(n,{z:function(){return u}});var r=t(4925),a=t(7462),o=t(1690),i=t(2791),s=t(233),c=["makeDefault","camera","regress","domElement","enableDamping","onChange","onStart","onEnd"],u=i.forwardRef((function(e,n){var t=e.makeDefault,u=e.camera,d=e.regress,f=e.domElement,l=e.enableDamping,m=void 0===l||l,h=e.onChange,p=e.onStart,v=e.onEnd,g=(0,r.Z)(e,c),b=(0,o.w)((function(e){return e.invalidate})),w=(0,o.w)((function(e){return e.camera})),E=(0,o.w)((function(e){return e.gl})),x=(0,o.w)((function(e){return e.events})),j=(0,o.w)((function(e){return e.set})),M=(0,o.w)((function(e){return e.get})),L=(0,o.w)((function(e){return e.performance})),Z=u||w,y=f||x.connected||E.domElement,k=i.useMemo((function(){return new s.z(Z)}),[Z]);return(0,o.x)((function(){k.enabled&&k.update()}),-1),i.useEffect((function(){return k.connect(y),function(){k.dispose()}}),[y,d,k,b]),i.useEffect((function(){var e=function(e){b(),d&&L.regress(),h&&h(e)};return k.addEventListener("change",e),p&&k.addEventListener("start",p),v&&k.addEventListener("end",v),function(){p&&k.removeEventListener("start",p),v&&k.removeEventListener("end",v),k.removeEventListener("change",e)}}),[h,p,v]),i.useEffect((function(){if(t){var e=M().controls;return j({controls:k}),function(){return j({controls:e})}}}),[t,k]),i.createElement("primitive",(0,a.Z)({ref:n,object:k,enableDamping:m},g))}))}}]);
//# sourceMappingURL=1168.b7c5c7ed.chunk.js.map